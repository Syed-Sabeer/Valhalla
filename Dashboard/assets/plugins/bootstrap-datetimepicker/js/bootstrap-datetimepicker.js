(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof exports==="object"){a(require("jquery"))}else{a(jQuery)}}}(function(a,g){if(!("indexOf" in Array.prototype)){Array.prototype.indexOf=function(j,k){if(k===g){k=0}if(k<0){k+=this.length}if(k<0){k=0}for(var l=this.length;k<l;k++){if(k in this&&this[k]===j){return k}}return -1}}function e(l){var k=a(l);var j=k.add(k.parents());var m=false;j.each(function(){if(a(this).css("position")==="fixed"){m=true;return false}});return m}function h(){return new Date(Date.UTC.apply(Date,arguments))}function i(){var j=new Date();return h(j.getUTCFullYear(),j.getUTCMonth(),j.getUTCDate(),j.getUTCHours(),j.getUTCMinutes(),j.getUTCSeconds(),0)}var c=function(j,k){var n=this;this.element=a(j);this.container=k.container||"body";this.language=k.language||this.element.data("date-language")||"en";this.language=this.language in b?this.language:this.language.split("-")[0];this.language=this.language in b?this.language:"en";this.isRTL=b[this.language].rtl||false;this.formatType=k.formatType||this.element.data("format-type")||"standard";this.format=d.parseFormat(k.format||this.element.data("date-format")||b[this.language].format||d.getDefaultFormat(this.formatType,"input"),this.formatType);this.isInline=false;this.isVisible=false;this.isInput=this.element.is("input");this.fontAwesome=k.fontAwesome||this.element.data("font-awesome")||false;this.bootcssVer=k.bootcssVer||(this.isInput?(this.element.is(".form-control")?3:2):(this.bootcssVer=this.element.is(".input-group")?3:2));this.component=this.element.is(".date")?(this.bootcssVer==3?this.element.find(".input-group-addon .glyphicon-th, .input-group-addon .glyphicon-time, .input-group-addon .glyphicon-remove, .input-group-addon .glyphicon-calendar, .input-group-addon .fa-calendar, .input-group-addon .fa-clock-o").parent():this.element.find(".add-on .icon-th, .add-on .icon-time, .add-on .icon-calendar, .add-on .fa-calendar, .add-on .fa-clock-o").parent()):false;this.componentReset=this.element.is(".date")?(this.bootcssVer==3?this.element.find(".input-group-addon .glyphicon-remove, .input-group-addon .fa-times").parent():this.element.find(".add-on .icon-remove, .add-on .fa-times").parent()):false;this.hasInput=this.component&&this.element.find("input").length;if(this.component&&this.component.length===0){this.component=false}this.linkField=k.linkField||this.element.data("link-field")||false;this.linkFormat=d.parseFormat(k.linkFormat||this.element.data("link-format")||d.getDefaultFormat(this.formatType,"link"),this.formatType);this.minuteStep=k.minuteStep||this.element.data("minute-step")||5;this.pickerPosition=k.pickerPosition||this.element.data("picker-position")||"bottom-right";this.showMeridian=k.showMeridian||this.element.data("show-meridian")||false;this.initialDate=k.initialDate||new Date();this.zIndex=k.zIndex||this.element.data("z-index")||g;this.title=typeof k.title==="undefined"?false:k.title;this.defaultTimeZone=(new Date).toString().split("(")[1].slice(0,-1);this.timezone=k.timezone||this.defaultTimeZone;this.icons={leftArrow:this.fontAwesome?"fa-arrow-left":(this.bootcssVer===3?"glyphicon-arrow-left":"icon-arrow-left"),rightArrow:this.fontAwesome?"fa-arrow-right":(this.bootcssVer===3?"glyphicon-arrow-right":"icon-arrow-right")};this.icontype=this.fontAwesome?"fa":"glyphicon";this._attachEvents();this.clickedOutside=function(o){if(a(o.target).closest(".datetimepicker").length===0){n.hide()}};this.formatViewType="datetime";if("formatViewType" in k){this.formatViewType=k.formatViewType}else{if("formatViewType" in this.element.data()){this.formatViewType=this.element.data("formatViewType")}}this.minView=0;if("minView" in k){this.minView=k.minView}else{if("minView" in this.element.data()){this.minView=this.element.data("min-view")}}this.minView=d.convertViewMode(this.minView);this.maxView=d.modes.length-1;if("maxView" in k){this.maxView=k.maxView}else{if("maxView" in this.element.data()){this.maxView=this.element.data("max-view")}}this.maxView=d.convertViewMode(this.maxView);this.wheelViewModeNavigation=false;if("wheelViewModeNavigation" in k){this.wheelViewModeNavigation=k.wheelViewModeNavigation}else{if("wheelViewModeNavigation" in this.element.data()){this.wheelViewModeNavigation=this.element.data("view-mode-wheel-navigation")}}this.wheelViewModeNavigationInverseDirection=false;if("wheelViewModeNavigationInverseDirection" in k){this.wheelViewModeNavigationInverseDirection=k.wheelViewModeNavigationInverseDirection}else{if("wheelViewModeNavigationInverseDirection" in this.element.data()){this.wheelViewModeNavigationInverseDirection=this.element.data("view-mode-wheel-navigation-inverse-dir")}}this.wheelViewModeNavigationDelay=100;if("wheelViewModeNavigationDelay" in k){this.wheelViewModeNavigationDelay=k.wheelViewModeNavigationDelay}else{if("wheelViewModeNavigationDelay" in this.element.data()){this.wheelViewModeNavigationDelay=this.element.data("view-mode-wheel-navigation-delay")}}this.startViewMode=2;if("startView" in k){this.startViewMode=k.startView}else{if("startView" in this.element.data()){this.startViewMode=this.element.data("start-view")}}this.startViewMode=d.convertViewMode(this.startViewMode);this.viewMode=this.startViewMode;this.viewSelect=this.minView;if("viewSelect" in k){this.viewSelect=k.viewSelect}else{if("viewSelect" in this.element.data()){this.viewSelect=this.element.data("view-select")}}this.viewSelect=d.convertViewMode(this.viewSelect);this.forceParse=true;if("forceParse" in k){this.forceParse=k.forceParse}else{if("dateForceParse" in this.element.data()){this.forceParse=this.element.data("date-force-parse")}}var m=this.bootcssVer===3?d.templateV3:d.template;while(m.indexOf("{iconType}")!==-1){m=m.replace("{iconType}",this.icontype)}while(m.indexOf("{leftArrow}")!==-1){m=m.replace("{leftArrow}",this.icons.leftArrow)}while(m.indexOf("{rightArrow}")!==-1){m=m.replace("{rightArrow}",this.icons.rightArrow)}this.picker=a(m).appendTo(this.isInline?this.element:this.container).on({click:a.proxy(this.click,this),mousedown:a.proxy(this.mousedown,this)});if(this.wheelViewModeNavigation){if(a.fn.mousewheel){this.picker.on({mousewheel:a.proxy(this.mousewheel,this)})}else{console.log("Mouse Wheel event is not supported. Please include the jQuery Mouse Wheel plugin before enabling this option")}}if(this.isInline){this.picker.addClass("datetimepicker-inline")}else{this.picker.addClass("datetimepicker-dropdown-"+this.pickerPosition+" dropdown-menu")}if(this.isRTL){this.picker.addClass("datetimepicker-rtl");var l=this.bootcssVer===3?".prev span, .next span":".prev i, .next i";this.picker.find(l).toggleClass(this.icons.leftArrow+" "+this.icons.rightArrow)}a(document).on("mousedown",this.clickedOutside);this.autoclose=false;if("autoclose" in k){this.autoclose=k.autoclose}else{if("dateAutoclose" in this.element.data()){this.autoclose=this.element.data("date-autoclose")}}this.keyboardNavigation=true;if("keyboardNavigation" in k){this.keyboardNavigation=k.keyboardNavigation}else{if("dateKeyboardNavigation" in this.element.data()){this.keyboardNavigation=this.element.data("date-keyboard-navigation")}}this.todayBtn=(k.todayBtn||this.element.data("date-today-btn")||false);this.clearBtn=(k.clearBtn||this.element.data("date-clear-btn")||false);this.todayHighlight=(k.todayHighlight||this.element.data("date-today-highlight")||false);this.weekStart=((k.weekStart||this.element.data("date-weekstart")||b[this.language].weekStart||0)%7);this.weekEnd=((this.weekStart+6)%7);this.startDate=-Infinity;this.endDate=Infinity;this.datesDisabled=[];this.daysOfWeekDisabled=[];this.setStartDate(k.startDate||this.element.data("date-startdate"));this.setEndDate(k.endDate||this.element.data("date-enddate"));this.setDatesDisabled(k.datesDisabled||this.element.data("date-dates-disabled"));this.setDaysOfWeekDisabled(k.daysOfWeekDisabled||this.element.data("date-days-of-week-disabled"));this.setMinutesDisabled(k.minutesDisabled||this.element.data("date-minute-disabled"));this.setHoursDisabled(k.hoursDisabled||this.element.data("date-hour-disabled"));this.fillDow();this.fillMonths();this.update();this.showMode();if(this.isInline){this.show()}};c.prototype={constructor:c,_events:[],_attachEvents:function(){this._detachEvents();if(this.isInput){this._events=[[this.element,{focus:a.proxy(this.show,this),keyup:a.proxy(this.update,this),keydown:a.proxy(this.keydown,this)}]]}else{if(this.component&&this.hasInput){this._events=[[this.element.find("input"),{focus:a.proxy(this.show,this),keyup:a.proxy(this.update,this),keydown:a.proxy(this.keydown,this)}],[this.component,{click:a.proxy(this.show,this)}]];if(this.componentReset){this._events.push([this.componentReset,{click:a.proxy(this.reset,this)}])}}else{if(this.element.is("div")){this.isInline=true}else{this._events=[[this.element,{click:a.proxy(this.show,this)}]]}}}for(var l=0,j,k;l<this._events.length;l++){j=this._events[l][0];k=this._events[l][1];j.on(k)}},_detachEvents:function(){for(var l=0,j,k;l<this._events.length;l++){j=this._events[l][0];k=this._events[l][1];j.off(k)}this._events=[]},show:function(j){this.picker.show();this.height=this.component?this.component.outerHeight():this.element.outerHeight();if(this.forceParse){this.update()}this.place();a(window).on("resize",a.proxy(this.place,this));if(j){j.stopPropagation();j.preventDefault()}this.isVisible=true;this.element.trigger({type:"show",date:this.date})},hide:function(j){if(!this.isVisible){return}if(this.isInline){return}this.picker.hide();a(window).off("resize",this.place);this.viewMode=this.startViewMode;this.showMode();if(!this.isInput){a(document).off("mousedown",this.hide)}if(this.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())){this.setValue()}this.isVisible=false;this.element.trigger({type:"hide",date:this.date})},remove:function(){this._detachEvents();a(document).off("mousedown",this.clickedOutside);this.picker.remove();delete this.picker;delete this.element.data().datetimepicker},getDate:function(){var j=this.getUTCDate();return new Date(j.getTime()+(j.getTimezoneOffset()*60000))},getUTCDate:function(){return this.date},getInitialDate:function(){return this.initialDate},setInitialDate:function(j){this.initialDate=j},setDate:function(j){this.setUTCDate(new Date(j.getTime()-(j.getTimezoneOffset()*60000)))},setUTCDate:function(j){if(j>=this.startDate&&j<=this.endDate){this.date=j;this.setValue();this.viewDate=this.date;this.fill()}else{this.element.trigger({type:"outOfRange",date:j,startDate:this.startDate,endDate:this.endDate})}},setFormat:function(k){this.format=d.parseFormat(k,this.formatType);var j;if(this.isInput){j=this.element}else{if(this.component){j=this.element.find("input")}}if(j&&j.val()){this.setValue()}},setValue:function(){var j=this.getFormattedDate();if(!this.isInput){if(this.component){this.element.find("input").val(j)}this.element.data("date",j)}else{this.element.val(j)}if(this.linkField){a("#"+this.linkField).val(this.getFormattedDate(this.linkFormat))}},getFormattedDate:function(j){if(j==g){j=this.format}return d.formatDate(this.date,j,this.language,this.formatType,this.timezone)},setStartDate:function(j){this.startDate=j||-Infinity;if(this.startDate!==-Infinity){this.startDate=d.parseDate(this.startDate,this.format,this.language,this.formatType,this.timezone)}this.update();this.updateNavArrows()},setEndDate:function(j){this.endDate=j||Infinity;if(this.endDate!==Infinity){this.endDate=d.parseDate(this.endDate,this.format,this.language,this.formatType,this.timezone)}this.update();this.updateNavArrows()},setDatesDisabled:function(j){this.datesDisabled=j||[];if(!a.isArray(this.datesDisabled)){this.datesDisabled=this.datesDisabled.split(/,\s*/)}this.datesDisabled=a.map(this.datesDisabled,function(k){return d.parseDate(k,this.format,this.language,this.formatType,this.timezone).toDateString()});this.update();this.updateNavArrows()},setTitle:function(j,k){return this.picker.find(j).find("th:eq(1)").text(this.title===false?k:this.title)},setDaysOfWeekDisabled:function(j){this.daysOfWeekDisabled=j||[];if(!a.isArray(this.daysOfWeekDisabled)){this.daysOfWeekDisabled=this.daysOfWeekDisabled.split(/,\s*/)}this.daysOfWeekDisabled=a.map(this.daysOfWeekDisabled,function(k){return parseInt(k,10)});this.update();this.updateNavArrows()},setMinutesDisabled:function(j){this.minutesDisabled=j||[];if(!a.isArray(this.minutesDisabled)){this.minutesDisabled=this.minutesDisabled.split(/,\s*/)}this.minutesDisabled=a.map(this.minutesDisabled,function(k){return parseInt(k,10)});this.update();this.updateNavArrows()},setHoursDisabled:function(j){this.hoursDisabled=j||[];if(!a.isArray(this.hoursDisabled)){this.hoursDisabled=this.hoursDisabled.split(/,\s*/)}this.hoursDisabled=a.map(this.hoursDisabled,function(k){return parseInt(k,10)});this.update();this.updateNavArrows()},place:function(){if(this.isInline){return}if(!this.zIndex){var l=0;a("div").each(function(){var p=parseInt(a(this).css("zIndex"),10);if(p>l){l=p}});this.zIndex=l+10}var n,o,m,k;if(this.container instanceof a){k=this.container.offset()}else{k=a(this.container).offset()}if(this.component){n=this.component.offset();m=n.left;if(this.pickerPosition=="bottom-left"||this.pickerPosition=="top-left"){m+=this.component.outerWidth()-this.picker.outerWidth()}}else{n=this.element.offset();m=n.left;if(this.pickerPosition=="bottom-left"||this.pickerPosition=="top-left"){m+=this.element.outerWidth()-this.picker.outerWidth()}}var j=document.body.clientWidth||window.innerWidth;if(m+220>j){m=j-220}if(this.pickerPosition=="top-left"||this.pickerPosition=="top-right"){o=n.top-this.picker.outerHeight()}else{o=n.top+this.height}o=o-k.top;m=m-k.left;this.picker.css({top:o,left:m,zIndex:this.zIndex})},update:function(){var j,k=false;if(arguments&&arguments.length&&(typeof arguments[0]==="string"||arguments[0] instanceof Date)){j=arguments[0];k=true}else{j=(this.isInput?this.element.val():this.element.find("input").val())||this.element.data("date")||this.initialDate;if(typeof j=="string"||j instanceof String){j=j.replace(/^\s+|\s+$/g,"")}}if(!j){j=new Date();k=false}this.date=d.parseDate(j,this.format,this.language,this.formatType,this.timezone);if(k){this.setValue()}if(this.date<this.startDate){this.viewDate=new Date(this.startDate)}else{if(this.date>this.endDate){this.viewDate=new Date(this.endDate)}else{this.viewDate=new Date(this.date)}}this.fill()},fillDow:function(){var j=this.weekStart,k="<tr>";while(j<this.weekStart+7){k+='<th class="dow">'+b[this.language].daysMin[(j++)%7]+"</th>"}k+="</tr>";this.picker.find(".datetimepicker-days thead").append(k)},fillMonths:function(){var j="",k=0;while(k<12){j+='<span class="month">'+b[this.language].monthsShort[k++]+"</span>"}this.picker.find(".datetimepicker-months td").html(j)},fill:function(){if(this.date==null||this.viewDate==null){return}var n=new Date(this.viewDate),K=n.getUTCFullYear(),B=n.getUTCMonth(),p=n.getUTCDate(),t=n.getUTCHours(),z=n.getUTCMinutes(),H=this.startDate!==-Infinity?this.startDate.getUTCFullYear():-Infinity,G=this.startDate!==-Infinity?this.startDate.getUTCMonth():-Infinity,r=this.endDate!==Infinity?this.endDate.getUTCFullYear():Infinity,q=this.endDate!==Infinity?this.endDate.getUTCMonth()+1:Infinity,l=(new h(this.date.getUTCFullYear(),this.date.getUTCMonth(),this.date.getUTCDate())).valueOf(),I=new Date();this.setTitle(".datetimepicker-days",b[this.language].months[B]+" "+K);if(this.formatViewType=="time"){var s=this.getFormattedDate();this.setTitle(".datetimepicker-hours",s);this.setTitle(".datetimepicker-minutes",s)}else{this.setTitle(".datetimepicker-hours",p+" "+b[this.language].months[B]+" "+K);this.setTitle(".datetimepicker-minutes",p+" "+b[this.language].months[B]+" "+K)}this.picker.find("tfoot th.today").text(b[this.language].today||b.en.today).toggle(this.todayBtn!==false);this.picker.find("tfoot th.clear").text(b[this.language].clear||b.en.clear).toggle(this.clearBtn!==false);this.updateNavArrows();this.fillMonths();var F=h(K,B-1,28,0,0,0,0),o=d.getDaysInMonth(F.getUTCFullYear(),F.getUTCMonth());F.setUTCDate(o);F.setUTCDate(o-(F.getUTCDay()-this.weekStart+7)%7);var D=new Date(F);D.setUTCDate(D.getUTCDate()+42);D=D.valueOf();var v=[];var k;while(F.valueOf()<D){if(F.getUTCDay()==this.weekStart){v.push("<tr>")}k="";if(F.getUTCFullYear()<K||(F.getUTCFullYear()==K&&F.getUTCMonth()<B)){k+=" old"}else{if(F.getUTCFullYear()>K||(F.getUTCFullYear()==K&&F.getUTCMonth()>B)){k+=" new"}}if(this.todayHighlight&&F.getUTCFullYear()==I.getFullYear()&&F.getUTCMonth()==I.getMonth()&&F.getUTCDate()==I.getDate()){k+=" today"}if(F.valueOf()==l){k+=" active"}if((F.valueOf()+86400000)<=this.startDate||F.valueOf()>this.endDate||a.inArray(F.getUTCDay(),this.daysOfWeekDisabled)!==-1||a.inArray(F.toDateString(),this.datesDisabled)!==-1){k+=" disabled"}v.push('<td class="day'+k+'">'+F.getUTCDate()+"</td>");if(F.getUTCDay()==this.weekEnd){v.push("</tr>")}F.setUTCDate(F.getUTCDate()+1)}this.picker.find(".datetimepicker-days tbody").empty().append(v.join(""));v=[];var J="",x="",y="";var u=this.hoursDisabled||[];for(var w=0;w<24;w++){if(u.indexOf(w)!==-1){continue}var j=h(K,B,p,w);k="";if((j.valueOf()+3600000)<=this.startDate||j.valueOf()>this.endDate){k+=" disabled"}else{if(t==w){k+=" active"}}if(this.showMeridian&&b[this.language].meridiem.length==2){x=(w<12?b[this.language].meridiem[0]:b[this.language].meridiem[1]);if(x!=y){if(y!=""){v.push("</fieldset>")}v.push('<fieldset class="hour"><legend>'+x.toUpperCase()+"</legend>")}y=x;J=(w%12?w%12:12);v.push('<span class="hour'+k+" hour_"+(w<12?"am":"pm")+'">'+J+"</span>");if(w==23){v.push("</fieldset>")}}else{J=w+":00";v.push('<span class="hour'+k+'">'+J+"</span>")}}this.picker.find(".datetimepicker-hours td").html(v.join(""));v=[];J="",x="",y="";var A=this.minutesDisabled||[];for(var w=0;w<60;w+=this.minuteStep){if(A.indexOf(w)!==-1){continue}var j=h(K,B,p,t,w,0);k="";if(j.valueOf()<this.startDate||j.valueOf()>this.endDate){k+=" disabled"}else{if(Math.floor(z/this.minuteStep)==Math.floor(w/this.minuteStep)){k+=" active"}}if(this.showMeridian&&b[this.language].meridiem.length==2){x=(t<12?b[this.language].meridiem[0]:b[this.language].meridiem[1]);if(x!=y){if(y!=""){v.push("</fieldset>")}v.push('<fieldset class="minute"><legend>'+x.toUpperCase()+"</legend>")}y=x;J=(t%12?t%12:12);v.push('<span class="minute'+k+'">'+J+":"+(w<10?"0"+w:w)+"</span>");if(w==59){v.push("</fieldset>")}}else{J=w+":00";v.push('<span class="minute'+k+'">'+t+":"+(w<10?"0"+w:w)+"</span>")}}this.picker.find(".datetimepicker-minutes td").html(v.join(""));var m=this.date.getUTCFullYear();var C=this.setTitle(".datetimepicker-months",K).end().find("span").removeClass("active");if(m==K){var E=C.length-12;C.eq(this.date.getUTCMonth()+E).addClass("active")}if(K<H||K>r){C.addClass("disabled")}if(K==H){C.slice(0,G).addClass("disabled")}if(K==r){C.slice(q).addClass("disabled")}v="";K=parseInt(K/10,10)*10;var L=this.setTitle(".datetimepicker-years",K+"-"+(K+9)).end().find("td");K-=1;for(var w=-1;w<11;w++){v+='<span class="year'+(w==-1||w==10?" old":"")+(m==K?" active":"")+(K<H||K>r?" disabled":"")+'">'+K+"</span>";K+=1}L.html(v);this.place()},updateNavArrows:function(){var j=new Date(this.viewDate),n=j.getUTCFullYear(),m=j.getUTCMonth(),k=j.getUTCDate(),l=j.getUTCHours();switch(this.viewMode){case 0:if(this.startDate!==-Infinity&&n<=this.startDate.getUTCFullYear()&&m<=this.startDate.getUTCMonth()&&k<=this.startDate.getUTCDate()&&l<=this.startDate.getUTCHours()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.endDate!==Infinity&&n>=this.endDate.getUTCFullYear()&&m>=this.endDate.getUTCMonth()&&k>=this.endDate.getUTCDate()&&l>=this.endDate.getUTCHours()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break;case 1:if(this.startDate!==-Infinity&&n<=this.startDate.getUTCFullYear()&&m<=this.startDate.getUTCMonth()&&k<=this.startDate.getUTCDate()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.endDate!==Infinity&&n>=this.endDate.getUTCFullYear()&&m>=this.endDate.getUTCMonth()&&k>=this.endDate.getUTCDate()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break;case 2:if(this.startDate!==-Infinity&&n<=this.startDate.getUTCFullYear()&&m<=this.startDate.getUTCMonth()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.endDate!==Infinity&&n>=this.endDate.getUTCFullYear()&&m>=this.endDate.getUTCMonth()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break;case 3:case 4:if(this.startDate!==-Infinity&&n<=this.startDate.getUTCFullYear()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.endDate!==Infinity&&n>=this.endDate.getUTCFullYear()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break}},mousewheel:function(k){k.preventDefault();k.stopPropagation();if(this.wheelPause){return}this.wheelPause=true;var m=k.originalEvent;var j=m.wheelDelta;var l=j>0?1:(j===0)?0:-1;if(this.wheelViewModeNavigationInverseDirection){l=-l}this.showMode(l);setTimeout(a.proxy(function(){this.wheelPause=false},this),this.wheelViewModeNavigationDelay)},click:function(m){m.stopPropagation();m.preventDefault();var s=a(m.target).closest("span, td, th, legend");if(s.is("."+this.icontype)){s=a(s).parent().closest("span, td, th, legend")}if(s.length==1){if(s.is(".disabled")){this.element.trigger({type:"outOfRange",date:this.viewDate,startDate:this.startDate,endDate:this.endDate});return}switch(s[0].nodeName.toLowerCase()){case"th":switch(s[0].className){case"switch":this.showMode(1);break;case"prev":case"next":var l=d.modes[this.viewMode].navStep*(s[0].className=="prev"?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveHour(this.viewDate,l);break;case 1:this.viewDate=this.moveDate(this.viewDate,l);break;case 2:this.viewDate=this.moveMonth(this.viewDate,l);break;case 3:case 4:this.viewDate=this.moveYear(this.viewDate,l);break}this.fill();this.element.trigger({type:s[0].className+":"+this.convertViewModeText(this.viewMode),date:this.viewDate,startDate:this.startDate,endDate:this.endDate});break;case"clear":this.reset();if(this.autoclose){this.hide()}break;case"today":var j=new Date();j=h(j.getFullYear(),j.getMonth(),j.getDate(),j.getHours(),j.getMinutes(),j.getSeconds(),0);if(j<this.startDate){j=this.startDate}else{if(j>this.endDate){j=this.endDate}}this.viewMode=this.startViewMode;this.showMode(0);this._setDate(j);this.fill();if(this.autoclose){this.hide()}break}break;case"span":if(!s.is(".disabled")){var t=this.viewDate.getUTCFullYear(),p=this.viewDate.getUTCMonth(),k=this.viewDate.getUTCDate(),n=this.viewDate.getUTCHours(),o=this.viewDate.getUTCMinutes(),r=this.viewDate.getUTCSeconds();if(s.is(".month")){this.viewDate.setUTCDate(1);p=s.parent().find("span").index(s);k=this.viewDate.getUTCDate();this.viewDate.setUTCMonth(p);this.element.trigger({type:"changeMonth",date:this.viewDate});if(this.viewSelect>=3){this._setDate(h(t,p,k,n,o,r,0))}}else{if(s.is(".year")){this.viewDate.setUTCDate(1);t=parseInt(s.text(),10)||0;this.viewDate.setUTCFullYear(t);this.element.trigger({type:"changeYear",date:this.viewDate});if(this.viewSelect>=4){this._setDate(h(t,p,k,n,o,r,0))}}else{if(s.is(".hour")){n=parseInt(s.text(),10)||0;if(s.hasClass("hour_am")||s.hasClass("hour_pm")){if(n==12&&s.hasClass("hour_am")){n=0}else{if(n!=12&&s.hasClass("hour_pm")){n+=12}}}this.viewDate.setUTCHours(n);this.element.trigger({type:"changeHour",date:this.viewDate});if(this.viewSelect>=1){this._setDate(h(t,p,k,n,o,r,0))}}else{if(s.is(".minute")){o=parseInt(s.text().substr(s.text().indexOf(":")+1),10)||0;this.viewDate.setUTCMinutes(o);this.element.trigger({type:"changeMinute",date:this.viewDate});if(this.viewSelect>=0){this._setDate(h(t,p,k,n,o,r,0))}}}}}if(this.viewMode!=0){var q=this.viewMode;this.showMode(-1);this.fill();if(q==this.viewMode&&this.autoclose){this.hide()}}else{this.fill();if(this.autoclose){this.hide()}}}break;case"td":if(s.is(".day")&&!s.is(".disabled")){var k=parseInt(s.text(),10)||1;var t=this.viewDate.getUTCFullYear(),p=this.viewDate.getUTCMonth(),n=this.viewDate.getUTCHours(),o=this.viewDate.getUTCMinutes(),r=this.viewDate.getUTCSeconds();if(s.is(".old")){if(p===0){p=11;t-=1}else{p-=1}}else{if(s.is(".new")){if(p==11){p=0;t+=1}else{p+=1}}}this.viewDate.setUTCFullYear(t);this.viewDate.setUTCMonth(p,k);this.element.trigger({type:"changeDay",date:this.viewDate});if(this.viewSelect>=2){this._setDate(h(t,p,k,n,o,r,0))}}var q=this.viewMode;this.showMode(-1);this.fill();if(q==this.viewMode&&this.autoclose){this.hide()}break}}},_setDate:function(j,l){if(!l||l=="date"){this.date=j}if(!l||l=="view"){this.viewDate=j}this.fill();this.setValue();var k;if(this.isInput){k=this.element}else{if(this.component){k=this.element.find("input")}}if(k){k.change();if(this.autoclose&&(!l||l=="date")){}}this.element.trigger({type:"changeDate",date:this.getDate()});if(j==null){this.date=this.viewDate}},moveMinute:function(j,k){if(!k){return j}var l=new Date(j.valueOf());l.setUTCMinutes(l.getUTCMinutes()+(k*this.minuteStep));return l},moveHour:function(j,k){if(!k){return j}var l=new Date(j.valueOf());l.setUTCHours(l.getUTCHours()+k);return l},moveDate:function(j,k){if(!k){return j}var l=new Date(j.valueOf());l.setUTCDate(l.getUTCDate()+k);return l},moveMonth:function(j,l){if(!l){return j}var p=new Date(j.valueOf()),k=p.getUTCDate(),o=p.getUTCMonth(),n=Math.abs(l),q,r;l=l>0?1:-1;if(n==1){r=l==-1?function(){return p.getUTCMonth()==o}:function(){return p.getUTCMonth()!=q};q=o+l;p.setUTCMonth(q);if(q<0||q>11){q=(q+12)%12}}else{for(var m=0;m<n;m++){p=this.moveMonth(p,l)}q=p.getUTCMonth();p.setUTCDate(k);r=function(){return q!=p.getUTCMonth()}}while(r()){p.setUTCDate(--k);p.setUTCMonth(q)}return p},moveYear:function(j,k){return this.moveMonth(j,k*12)},dateWithinRange:function(j){return j>=this.startDate&&j<=this.endDate},keydown:function(m){if(this.picker.is(":not(:visible)")){if(m.keyCode==27){this.show()}return}var j=false,l,k,o,p,q;switch(m.keyCode){case 27:this.hide();m.preventDefault();break;case 37:case 39:if(!this.keyboardNavigation){break}l=m.keyCode==37?-1:1;viewMode=this.viewMode;if(m.ctrlKey){viewMode+=2}else{if(m.shiftKey){viewMode+=1}}if(viewMode==4){p=this.moveYear(this.date,l);q=this.moveYear(this.viewDate,l)}else{if(viewMode==3){p=this.moveMonth(this.date,l);q=this.moveMonth(this.viewDate,l)}else{if(viewMode==2){p=this.moveDate(this.date,l);q=this.moveDate(this.viewDate,l)}else{if(viewMode==1){p=this.moveHour(this.date,l);q=this.moveHour(this.viewDate,l)}else{if(viewMode==0){p=this.moveMinute(this.date,l);q=this.moveMinute(this.viewDate,l)}}}}}if(this.dateWithinRange(p)){this.date=p;this.viewDate=q;this.setValue();this.update();m.preventDefault();j=true}break;case 38:case 40:if(!this.keyboardNavigation){break}l=m.keyCode==38?-1:1;viewMode=this.viewMode;if(m.ctrlKey){viewMode+=2}else{if(m.shiftKey){viewMode+=1}}if(viewMode==4){p=this.moveYear(this.date,l);q=this.moveYear(this.viewDate,l)}else{if(viewMode==3){p=this.moveMonth(this.date,l);q=this.moveMonth(this.viewDate,l)}else{if(viewMode==2){p=this.moveDate(this.date,l*7);q=this.moveDate(this.viewDate,l*7)}else{if(viewMode==1){if(this.showMeridian){p=this.moveHour(this.date,l*6);q=this.moveHour(this.viewDate,l*6)}else{p=this.moveHour(this.date,l*4);q=this.moveHour(this.viewDate,l*4)}}else{if(viewMode==0){p=this.moveMinute(this.date,l*4);q=this.moveMinute(this.viewDate,l*4)}}}}}if(this.dateWithinRange(p)){this.date=p;this.viewDate=q;this.setValue();this.update();m.preventDefault();j=true}break;case 13:if(this.viewMode!=0){var r=this.viewMode;this.showMode(-1);this.fill();if(r==this.viewMode&&this.autoclose){this.hide()}}else{this.fill();if(this.autoclose){this.hide()}}m.preventDefault();break;case 9:this.hide();break}if(j){var n;if(this.isInput){n=this.element}else{if(this.component){n=this.element.find("input")}}if(n){n.change()}this.element.trigger({type:"changeDate",date:this.getDate()})}},showMode:function(j){if(j){var k=Math.max(0,Math.min(d.modes.length-1,this.viewMode+j));if(k>=this.minView&&k<=this.maxView){this.element.trigger({type:"changeMode",date:this.viewDate,oldViewMode:this.viewMode,newViewMode:k});this.viewMode=k}}this.picker.find(">div").hide().filter(".datetimepicker-"+d.modes[this.viewMode].clsName).css("display","block");this.updateNavArrows()},reset:function(j){this._setDate(null,"date")},convertViewModeText:function(j){switch(j){case 4:return"decade";case 3:return"year";case 2:return"month";case 1:return"day";case 0:return"hour"}}};var f=a.fn.datetimepicker;a.fn.datetimepicker=function(l){var j=Array.apply(null,arguments);j.shift();var k;this.each(function(){var m=a(this),n=m.data("datetimepicker"),o=typeof l=="object"&&l;if(!n){m.data("datetimepicker",(n=new c(this,a.extend({},a.fn.datetimepicker.defaults,o))))}if(typeof l=="string"&&typeof n[l]=="function"){k=n[l].apply(n,j);if(k!==g){return false}}});if(k!==g){return k}else{return this}};a.fn.datetimepicker.defaults={};a.fn.datetimepicker.Constructor=c;var b=a.fn.datetimepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridiem:["am","pm"],suffix:["st","nd","rd","th"],today:"Today",clear:"Clear"}};var d={modes:[{clsName:"minutes",navFnc:"Hours",navStep:1},{clsName:"hours",navFnc:"Date",navStep:1},{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(j){return(((j%4===0)&&(j%100!==0))||(j%400===0))},getDaysInMonth:function(k,j){return[31,(d.isLeapYear(k)?29:28),31,30,31,30,31,31,30,31,30,31][j]},getDefaultFormat:function(k,j){if(k=="standard"){if(j=="input"){return"yyyy-mm-dd hh:ii"}else{return"yyyy-mm-dd hh:ii:ss"}}else{if(k=="php"){if(j=="input"){return"Y-m-d H:i"}else{return"Y-m-d H:i:s"}}else{throw new Error("Invalid format type.")}}},validParts:function(j){if(j=="standard"){return/t|hh?|HH?|p|P|z|Z|ii?|ss?|dd?|DD?|mm?|MM?|yy(?:yy)?/g}else{if(j=="php"){return/[dDjlNwzFmMnStyYaABgGhHis]/g}else{throw new Error("Invalid format type.")}}},nonpunctuation:/[^ -\/:-@\[-`{-~\t\n\rTZ]+/g,parseFormat:function(j,m){var l=j.replace(this.validParts(m),"\0").split("\0"),k=j.match(this.validParts(m));if(!l||!l.length||!k||k.length==0){throw new Error("Invalid date format.")}return{separators:l,parts:k}},parseDate:function(k,o,q,A,z){if(k instanceof Date){var l=new Date(k.valueOf()-k.getTimezoneOffset()*60000);l.setMilliseconds(0);return l}if(/^\d{4}\-\d{1,2}\-\d{1,2}$/.test(k)){o=this.parseFormat("yyyy-mm-dd",A)}if(/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}$/.test(k)){o=this.parseFormat("yyyy-mm-dd hh:ii",A)}if(/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}\:\d{1,2}[Z]{0,1}$/.test(k)){o=this.parseFormat("yyyy-mm-dd hh:ii:ss",A)}if(/^[-+]\d+[dmwy]([\s,]+[-+]\d+[dmwy])*$/.test(k)){var u=/([-+]\d+)([dmwy])/,v=k.match(/([-+]\d+)([dmwy])/g),t,m;k=new Date();for(var p=0;p<v.length;p++){t=u.exec(v[p]);m=parseInt(t[1]);switch(t[2]){case"d":k.setUTCDate(k.getUTCDate()+m);break;case"m":k=c.prototype.moveMonth.call(c.prototype,k,m);break;case"w":k.setUTCDate(k.getUTCDate()+m*7);break;case"y":k=c.prototype.moveYear.call(c.prototype,k,m);break}}return h(k.getUTCFullYear(),k.getUTCMonth(),k.getUTCDate(),k.getUTCHours(),k.getUTCMinutes(),k.getUTCSeconds(),0)}var v=k&&k.toString().match(this.nonpunctuation)||[],k=new Date(0,0,0,0,0,0,0),r={},y=["hh","h","ii","i","ss","s","yyyy","yy","M","MM","m","mm","D","DD","d","dd","H","HH","p","P","z","Z"],x={hh:function(s,C){return s.setUTCHours(C)},h:function(s,C){return s.setUTCHours(C)},HH:function(s,C){return s.setUTCHours(C==12?0:C)},H:function(s,C){return s.setUTCHours(C==12?0:C)},ii:function(s,C){return s.setUTCMinutes(C)},i:function(s,C){return s.setUTCMinutes(C)},ss:function(s,C){return s.setUTCSeconds(C)},s:function(s,C){return s.setUTCSeconds(C)},yyyy:function(s,C){return s.setUTCFullYear(C)},yy:function(s,C){return s.setUTCFullYear(2000+C)},m:function(s,C){C-=1;while(C<0){C+=12}C%=12;s.setUTCMonth(C);while(s.getUTCMonth()!=C){if(isNaN(s.getUTCMonth())){return s}else{s.setUTCDate(s.getUTCDate()-1)}}return s},d:function(s,C){return s.setUTCDate(C)},p:function(s,C){return s.setUTCHours(C==1?s.getUTCHours()+12:s.getUTCHours())},z:function(){return z}},B,n,t;x.M=x.MM=x.mm=x.m;x.dd=x.d;x.P=x.p;x.Z=x.z;k=h(k.getFullYear(),k.getMonth(),k.getDate(),k.getHours(),k.getMinutes(),k.getSeconds());if(v.length==o.parts.length){for(var p=0,j=o.parts.length;p<j;p++){B=parseInt(v[p],10);t=o.parts[p];if(isNaN(B)){switch(t){case"MM":n=a(b[q].months).filter(function(){var s=this.slice(0,v[p].length),C=v[p].slice(0,s.length);return s==C});B=a.inArray(n[0],b[q].months)+1;break;case"M":n=a(b[q].monthsShort).filter(function(){var s=this.slice(0,v[p].length),C=v[p].slice(0,s.length);return s.toLowerCase()==C.toLowerCase()});B=a.inArray(n[0],b[q].monthsShort)+1;break;case"p":case"P":B=a.inArray(v[p].toLowerCase(),b[q].meridiem);break;case"z":case"Z":z;break}}r[t]=B}for(var p=0,w;p<y.length;p++){w=y[p];if(w in r&&!isNaN(r[w])){x[w](k,r[w])}}}return k},formatDate:function(k,l,n,q,p){if(k==null){return""}var r;if(q=="standard"){r={t:k.getTime(),yy:k.getUTCFullYear().toString().substring(2),yyyy:k.getUTCFullYear(),m:k.getUTCMonth()+1,M:b[n].monthsShort[k.getUTCMonth()],MM:b[n].months[k.getUTCMonth()],d:k.getUTCDate(),D:b[n].daysShort[k.getUTCDay()],DD:b[n].days[k.getUTCDay()],p:(b[n].meridiem.length==2?b[n].meridiem[k.getUTCHours()<12?0:1]:""),h:k.getUTCHours(),i:k.getUTCMinutes(),s:k.getUTCSeconds(),z:p};if(b[n].meridiem.length==2){r.H=(r.h%12==0?12:r.h%12)}else{r.H=r.h}r.HH=(r.H<10?"0":"")+r.H;r.P=r.p.toUpperCase();r.Z=r.z;r.hh=(r.h<10?"0":"")+r.h;r.ii=(r.i<10?"0":"")+r.i;r.ss=(r.s<10?"0":"")+r.s;r.dd=(r.d<10?"0":"")+r.d;r.mm=(r.m<10?"0":"")+r.m}else{if(q=="php"){r={y:k.getUTCFullYear().toString().substring(2),Y:k.getUTCFullYear(),F:b[n].months[k.getUTCMonth()],M:b[n].monthsShort[k.getUTCMonth()],n:k.getUTCMonth()+1,t:d.getDaysInMonth(k.getUTCFullYear(),k.getUTCMonth()),j:k.getUTCDate(),l:b[n].days[k.getUTCDay()],D:b[n].daysShort[k.getUTCDay()],w:k.getUTCDay(),N:(k.getUTCDay()==0?7:k.getUTCDay()),S:(k.getUTCDate()%10<=b[n].suffix.length?b[n].suffix[k.getUTCDate()%10-1]:""),a:(b[n].meridiem.length==2?b[n].meridiem[k.getUTCHours()<12?0:1]:""),g:(k.getUTCHours()%12==0?12:k.getUTCHours()%12),G:k.getUTCHours(),i:k.getUTCMinutes(),s:k.getUTCSeconds()};r.m=(r.n<10?"0":"")+r.n;r.d=(r.j<10?"0":"")+r.j;r.A=r.a.toString().toUpperCase();r.h=(r.g<10?"0":"")+r.g;r.H=(r.G<10?"0":"")+r.G;r.i=(r.i<10?"0":"")+r.i;r.s=(r.s<10?"0":"")+r.s}else{throw new Error("Invalid format type.")}}var k=[],o=a.extend([],l.separators);for(var m=0,j=l.parts.length;m<j;m++){if(o.length){k.push(o.shift())}k.push(r[l.parts[m]])}if(o.length){k.push(o.shift())}return k.join("")},convertViewMode:function(j){switch(j){case 4:case"decade":j=4;break;case 3:case"year":j=3;break;case 2:case"month":j=2;break;case 1:case"day":j=1;break;case 0:case"hour":j=0;break}return j},headTemplate:'<thead><tr><th class="prev"><i class="{iconType} {leftArrow}"/></th><th colspan="5" class="switch"></th><th class="next"><i class="{iconType} {rightArrow}"/></th></tr></thead>',headTemplateV3:'<thead><tr><th class="prev"><span class="{iconType} {leftArrow}"></span> </th><th colspan="5" class="switch"></th><th class="next"><span class="{iconType} {rightArrow}"></span> </th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};d.template='<div class="datetimepicker"><div class="datetimepicker-minutes"><table class=" table-condensed">'+d.headTemplate+d.contTemplate+d.footTemplate+'</table></div><div class="datetimepicker-hours"><table class=" table-condensed">'+d.headTemplate+d.contTemplate+d.footTemplate+'</table></div><div class="datetimepicker-days"><table class=" table-condensed">'+d.headTemplate+"<tbody></tbody>"+d.footTemplate+'</table></div><div class="datetimepicker-months"><table class="table-condensed">'+d.headTemplate+d.contTemplate+d.footTemplate+'</table></div><div class="datetimepicker-years"><table class="table-condensed">'+d.headTemplate+d.contTemplate+d.footTemplate+"</table></div></div>";d.templateV3='<div class="datetimepicker"><div class="datetimepicker-minutes"><table class=" table-condensed">'+d.headTemplateV3+d.contTemplate+d.footTemplate+'</table></div><div class="datetimepicker-hours"><table class=" table-condensed">'+d.headTemplateV3+d.contTemplate+d.footTemplate+'</table></div><div class="datetimepicker-days"><table class=" table-condensed">'+d.headTemplateV3+"<tbody></tbody>"+d.footTemplate+'</table></div><div class="datetimepicker-months"><table class="table-condensed">'+d.headTemplateV3+d.contTemplate+d.footTemplate+'</table></div><div class="datetimepicker-years"><table class="table-condensed">'+d.headTemplateV3+d.contTemplate+d.footTemplate+"</table></div></div>";a.fn.datetimepicker.DPGlobal=d;a.fn.datetimepicker.noConflict=function(){a.fn.datetimepicker=f;return this};a(document).on("focus.datetimepicker.data-api click.datetimepicker.data-api",'[data-provide="datetimepicker"]',function(k){var j=a(this);if(j.data("datetimepicker")){return}k.preventDefault();j.datetimepicker("show")});a(function(){a('[data-provide="datetimepicker-inline"]').datetimepicker()})}));