var define,require,esl;!function(ak){function aQ(a){aC(a,ax)||(aH[a]=1)}function au(c,g){function d(a){0===a.indexOf(".")&&b.push(a)}var b=[];if("string"==typeof c?d(c):ah(c,function(a){d(a)}),b.length>0){throw new Error("[REQUIRE_FATAL]Relative ID is not allowed in global require: "+b.join(", "))}var f=aF.waitSeconds;return f&&c instanceof Array&&(al&&clearTimeout(al),al=setTimeout(aE,1000*f)),aj(c,g)}function aE(){function c(e,i){if(!g[e]&&!aC(e,ax)){g[e]=1,aC(e,ao)||f[e]||(f[e]=1,j.push(e));var a=a3[e];a?i&&(f[e]||(f[e]=1,j.push(e)),ah(a.depMs,function(k){c(k.absId,k.hard)})):b[e]||(b[e]=1,d.push(e))}}var j=[],d=[],f={},b={},g={};for(var h in aH){c(h,1)}if(j.length||d.length){throw new Error("[MODULE_TIMEOUT]Hang( "+(j.join(", ")||"none")+" ) Miss( "+(d.join(", ")||"none")+" )")}}function ac(a){ah(af,function(b){aO(a,b.deps,b.factory)}),af.length=0}function aG(c,g,d){if(null==d&&(null==g?(d=c,c=null):(d=g,g=null,c instanceof Array&&(g=c,c=null))),null!=d){var f=window.opera;if(!c&&document.attachEvent&&(!f||"[object Opera]"!==f.toString())){var b=av();c=b&&b.getAttribute("data-require-id")}c?aO(c,g,d):af[0]={deps:g,factory:d}}}function aM(){var a=aF.config[this.id];return a&&"object"==typeof a?a:{}}function aO(a,c,b){a3[a]||(a3[a]={id:a,depsDec:c,deps:c||["require","exports","module"],factoryDeps:[],factory:b,exports:{},config:aM,state:ad,require:aV(a),depMs:[],depMkv:{},depRs:[]})}function aA(c){var j=a3[c];if(j&&!aC(c,aD)){var d=j.deps,f=j.factory,b=0;"function"==typeof f&&(b=Math.min(f.length,d.length),!j.depsDec&&f.toString().replace(/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,"").replace(/require\(\s*(['"'])([^'"]+)\1\s*\)/g,function(a,k,i){d.push(i)}));var g=[],h=[];ah(d,function(k,o){var p,m,e=aY(k),a=aB(e.mod,c);a&&!aJ[a]?(e.res&&(m={id:k,mod:a,res:e.res},h.push(k),j.depRs.push(m)),p=j.depMkv[a],p||(p={id:e.mod,absId:a,hard:b>o},j.depMs.push(p),j.depMkv[a]=p,g.push(a))):p={absId:a},b>o&&j.factoryDeps.push(m||p)}),j.state=aD,ag(c),ap(g),h.length&&j.require(h,function(){ah(j.depRs,function(a){a.absId||(a.absId=aB(a.id,c))}),ar()})}}function ar(){for(var a in aH){aA(a),ai(a),aI(a)}}function ai(a){function c(f){if(aA(f),!aC(f,aD)){return !1}if(aC(f,ao)||b[f]){return !0}b[f]=1;var g=a3[f],d=!0;return ah(g.depMs,function(h){return d=c(h.absId)}),d&&ah(g.depRs,function(h){return d=!!h.absId}),d&&(g.state=ao),d}var b={};c(a)}function ag(e){function c(){if(!d&&b.state===ao){d=1;var a=1;if(ah(b.factoryDeps,function(i){var k=i.absId;return aJ[k]?void 0:(aI(k),a=aC(k,ax))}),a){try{var g=b.factory,h="function"==typeof g?g.apply(ak,aT(b.factoryDeps,{require:b.require,exports:b.exports,module:b})):g;null!=h&&(b.exports=h),b.invokeFactory=null}catch(j){if(/^\[MODULE_MISS\]"([^"]+)/.test(j.message)){var f=b.depMkv[RegExp.$1];return f&&(f.hard=1),void (d=0)}throw j}aU(e)}}}var d,b=a3[e];b.invokeFactory=c}function aC(a,b){return a3[a]&&a3[a].state>=b}function aI(a){var b=a3[a];b&&b.invokeFactory&&b.invokeFactory()}function aT(a,c){var b=[];return ah(a,function(d,f){"object"==typeof d&&(d=d.absId),b[f]=c[d]||a3[d].exports}),b}function aW(a,c){if(aC(a,ax)){return void c()}var b=at[a];b||(b=at[a]=[]),b.push(c)}function aU(a){var d=a3[a];d.state=ax,delete aH[a];for(var b=at[a]||[],c=b.length;c--;){b[c]()}b.length=0,at[a]=null}function ap(f,c,d){function b(){if("function"==typeof c&&!e){var a=1;ah(f,function(g){return aJ[g]?void 0:a=!!aC(g,ax)}),a&&(e=1,c.apply(ak,aT(f,aJ)))}}var e=0;ah(f,function(a){aJ[a]||aC(a,ax)||(aW(a,b),(a.indexOf("!")>0?a1:an)(a,d))}),b()}function an(e){function a(){var f=aL[e];aP(f||e,b)}function b(){if(c){var f;"function"==typeof c.init&&(f=c.init.apply(ak,aT(d,aJ))),null==f&&c.exports&&(f=ak,ah(c.exports.split("."),function(g){return f=f[g],!!f})),aG(e,d,f||{})}else{ac(e)}ar()}if(!aN[e]&&!a3[e]){aN[e]=1;var c=aF.shim[e];c instanceof Array&&(aF.shim[e]=c={deps:c});var d=c&&(c.deps||[]);d?(ah(d,function(f){aF.shim[f]||(aF.shim[f]={})}),aj(d,a)):a()}}function a1(a,h){function b(e){c.exports=e||!0,aU(a)}function d(i){var e=h?a3[h].require:aj;i.load(g.res,e,b,aM.call({id:a}))}if(!a3[a]){var f=aL[a];if(f){return void an(f)}var g=aY(a),c={id:a,state:aD};a3[a]=c,b.fromText=function(i,j){new Function(j)(),ac(i)},d(aj(g.mod))}}function ae(a,c){var b=a0(a,1,c);return b.sort(aR),b}function ab(){function a(c){aL[c]=b}aF.baseUrl=aF.baseUrl.replace(/\/$/,"")+"/",aq=ae(aF.paths),a4=ae(aF.map,1),ah(a4,function(c){c.v=ae(c.v)}),a2=[],ah(aF.packages,function(c){var d=c;"string"==typeof c&&(d={name:c.split("/")[0],location:c,main:"main"}),d.location=d.location||d.name,d.main=(d.main||"main").replace(/\.js$/i,""),d.reg=az(d.name),a2.push(d)}),a2.sort(aR),aK=ae(aF.urlArgs,1),aL={};for(var b in aF.bundles){ah(aF.bundles[b],a)}}function aZ(a,c,b){ah(c,function(d){return d.reg.test(a)?(b(d.v,d.k,d),!1):void 0})}function ay(c){var k=/(\.[a-z0-9]+)$/i,d=/(\?[^#]*)$/,f="",b=c,g="";d.test(c)&&(g=RegExp.$1,c=c.replace(d,"")),k.test(c)&&(f=RegExp.$1,b=c.replace(k,""));var h,j=b;return aZ(b,aq,function(a,i){j=j.replace(i,a),h=1}),h||aZ(b,a2,function(a,m,l){j=j.replace(l.name,l.location)}),/^([a-z]{2,10}:\/)?\//i.test(j)||(j=aF.baseUrl+j),j+=f+g,aZ(b,aK,function(a){j+=(j.indexOf("?")>0?"&":"?")+a}),j}function aV(a){function b(e,d){if("string"==typeof e){if(!c[e]){var f=aB(e,a);if(aI(f),!aC(f,ax)){throw new Error('[MODULE_MISS]"'+f+'" is not exists!')}c[e]=a3[f].exports}return c[e]}if(e instanceof Array){var g=[],h=[];ah(e,function(p,r){var j=aY(p),s=aB(j.mod,a),q=j.res,m=s;if(q){var k=s+"!"+q;0!==q.indexOf(".")&&aL[k]?s=m=k:m=null}h[r]=m,aQ(s),g.push(s)}),ap(g,function(){ah(h,function(j,i){null==j&&(j=h[i]=aB(e[i],a),aQ(j))}),ap(h,d,a),ar()},a),ar()}}var c={};return b.toUrl=function(d){return ay(aB(d,a))},b}function aB(c,h){if(!c){return""}h=h||"";var d=aY(c);if(!d){return c}var f=d.res,b=aX(d.mod,h);if(ah(a2,function(a){var i=a.name;return i===b?(b=i+"/"+a.main,!1):void 0}),aZ(h,a4,function(a){aZ(b,a,function(i,j){b=b.replace(j,i)})}),f){var g=aC(b,ax)&&aj(b);f=g&&g.normalize?g.normalize(f,function(a){return aB(a,h)}):aB(f,h),b+="!"+f}return b}function aX(c,m){if(0===c.indexOf(".")){var d=m.split("/"),g=c.split("/"),b=d.length-1,h=g.length,j=0,k=0;c:for(var f=0;h>f;f++){switch(g[f]){case"..":if(!(b>j)){break c}j++,k++;break;case".":k++;break;default:break c}}return d.length=b-j,g=g.slice(k),d.concat(g).join("/")}return c}function aY(a){var b=a.split("!");return b[0]?{mod:b[0],res:b[1]}:void 0}function a0(c,h,d){var f=[];for(var b in c){if(c.hasOwnProperty(b)){var g={k:b,v:c[b]};f.push(g),h&&(g.reg="*"===b&&d?/^/:az(b))}}return f}function av(){if(aw){return aw}if(aa&&"interactive"===aa.readyState){return aa}for(var a=document.getElementsByTagName("script"),c=a.length;c--;){var b=a[c];if("interactive"===b.readyState){return aa=b,b}}}function aP(a,d){function b(){var f=c.readyState;("undefined"==typeof f||/^(loaded|complete)$/.test(f))&&(c.onload=c.onreadystatechange=null,c=null,d())}var c=document.createElement("script");c.setAttribute("data-require-id",a),c.src=ay(a+".js"),c.async=!0,c.readyState?c.onreadystatechange=b:c.onload=b,aw=c,aS?am.insertBefore(c,aS):am.appendChild(c),aw=null}function az(a){return new RegExp("^"+a+"(/|$)")}function ah(a,d){if(a instanceof Array){for(var b=0,c=a.length;c>b&&d(a[b],b)!==!1;b++){}}}function aR(a,d){var b=a.k||a.name,c=d.k||d.name;return"*"===c?-1:"*"===b?1:c.length-b.length}var al,a3={},ad=1,aD=2,ao=3,ax=4,aH={},aJ={require:au,exports:1,module:1},aj=aV(),aF={baseUrl:"./",paths:{},config:{},map:{},packages:[],shim:{},waitSeconds:0,bundles:{},urlArgs:{}};au.version="2.0.2",au.loader="esl",au.toUrl=aj.toUrl;var af=[];aG.amd={};var at={},aN={};au.config=function(c){if(c){for(var g in aF){var d=c[g],f=aF[g];if(d){if("urlArgs"===g&&"string"==typeof d){aF.urlArgs["*"]=d}else{if(f instanceof Array){f.push.apply(f,d)}else{if("object"==typeof f){for(var b in d){f[b]=d[b]}}else{aF[g]=d}}}}}ab()}},ab();var aq,a2,a4,aL,aK,aw,aa,am=document.getElementsByTagName("head")[0],aS=document.getElementsByTagName("base")[0];aS&&(am=aS.parentNode),define||(define=aG,require||(require=au),esl=au)}(this),define("echarts",["echarts/echarts"],function(a){return a}),define("echarts/echarts",["require","./config","zrender/tool/util","zrender/tool/event","zrender/tool/env","zrender","zrender/config","./chart/island","./component/toolbox","./component","./component/title","./component/tooltip","./component/legend","./util/ecData","./chart","zrender/tool/color","./component/timeline","zrender/shape/Image","zrender/loadingEffect/Bar","zrender/loadingEffect/Bubble","zrender/loadingEffect/DynamicLine","zrender/loadingEffect/Ring","zrender/loadingEffect/Spin","zrender/loadingEffect/Whirling","./theme/macarons","./theme/infographic"],function(j){function B(){z.Dispatcher.call(this)}function q(a){a.innerHTML="",this._themeConfig={},this.dom=a,this._connected=!1,this._status={dragIn:!1,dragOut:!1,needRefresh:!1},this._curEventType=!1,this._chartList=[],this._messageCenter=new B,this._messageCenterOutSide=new B,this.resize=this.resize(),this._init()}function w(d,D,h,l,c){for(var m=d._chartList,p=m.length;p--;){var C=m[p];"function"==typeof C[D]&&C[D](h,l,c)}}var b=j("./config"),x=j("zrender/tool/util"),z=j("zrender/tool/event"),A={},u=j("zrender/tool/env").canvasSupported,k=new Date-0,g={},f="_echarts_instance_";A.version="2.2.7",A.dependencies={zrender:"2.1.1"},A.init=function(h,d){var c=j("zrender");c.version.replace(".","")-0<A.dependencies.zrender.replace(".","")-0&&console.error("ZRender "+c.version+" is too old for ECharts "+A.version+". Current version need ZRender "+A.dependencies.zrender+"+"),h=h instanceof Array?h[0]:h;var e=h.getAttribute(f);return e||(e=k++,h.setAttribute(f,e)),g[e]&&g[e].dispose(),g[e]=new q(h),g[e].id=e,g[e].canvasSupported=u,g[e].setTheme(d),g[e]},A.getInstanceById=function(a){return g[a]},x.merge(B.prototype,z.Dispatcher.prototype,!0);var v=j("zrender/config").EVENT,y=["CLICK","DBLCLICK","MOUSEOVER","MOUSEOUT","DRAGSTART","DRAGEND","DRAGENTER","DRAGOVER","DRAGLEAVE","DROP"];return q.prototype={_init:function(){var H=this,p=j("zrender").init(this.dom);this._zr=p,this._messageCenter.dispatch=function(d,h,l,c){l=l||{},l.type=d,l.event=h,H._messageCenter.dispatchWithContext(d,l,c),H._messageCenterOutSide.dispatchWithContext(d,l,c)},this._onevent=function(c){return H.__onevent(c)};for(var D in b.EVENT){"CLICK"!=D&&"DBLCLICK"!=D&&"HOVER"!=D&&"MOUSEOUT"!=D&&"MAP_ROAM"!=D&&this._messageCenter.bind(b.EVENT[D],this._onevent,this)}var E={};this._onzrevent=function(c){return H[E[c.type]](c)};for(var F=0,G=y.length;G>F;F++){var C=y[F],m=v[C];E[m]="_on"+C.toLowerCase(),p.on(m,this._onzrevent)}this.chart={},this.component={};var e=j("./chart/island");this._island=new e(this._themeConfig,this._messageCenter,p,{},this),this.chart.island=this._island;var a=j("./component/toolbox");this._toolbox=new a(this._themeConfig,this._messageCenter,p,{},this),this.component.toolbox=this._toolbox;var I=j("./component");I.define("title",j("./component/title")),I.define("tooltip",j("./component/tooltip")),I.define("legend",j("./component/legend")),(0===p.getWidth()||0===p.getHeight())&&console.error("Dom’s width & height should be ready before init.")},__onevent:function(a){a.__echartsId=a.__echartsId||this.id;var m=a.__echartsId===this.id;switch(this._curEventType||(this._curEventType=a.type),a.type){case b.EVENT.LEGEND_SELECTED:this._onlegendSelected(a);break;case b.EVENT.DATA_ZOOM:if(!m){var c=this.component.dataZoom;c&&(c.silence(!0),c.absoluteZoom(a.zoom),c.silence(!1))}this._ondataZoom(a);break;case b.EVENT.DATA_RANGE:m&&this._ondataRange(a);break;case b.EVENT.MAGIC_TYPE_CHANGED:if(!m){var d=this.component.toolbox;d&&(d.silence(!0),d.setMagicType(a.magicType),d.silence(!1))}this._onmagicTypeChanged(a);break;case b.EVENT.DATA_VIEW_CHANGED:m&&this._ondataViewChanged(a);break;case b.EVENT.TOOLTIP_HOVER:m&&this._tooltipHover(a);break;case b.EVENT.RESTORE:this._onrestore();break;case b.EVENT.REFRESH:m&&this._onrefresh(a);break;case b.EVENT.TOOLTIP_IN_GRID:case b.EVENT.TOOLTIP_OUT_GRID:if(m){if(this._connected){var h=this.component.grid;h&&(a.x=(a.event.zrenderX-h.getX())/h.getWidth(),a.y=(a.event.zrenderY-h.getY())/h.getHeight())}}else{var h=this.component.grid;h&&this._zr.trigger("mousemove",{connectTrigger:!0,zrenderX:h.getX()+a.x*h.getWidth(),zrenderY:h.getY()+a.y*h.getHeight()})}}if(this._connected&&m&&this._curEventType===a.type){for(var l in this._connected){this._connected[l].connectedEventHandler(a)}this._curEventType=null}(!m||!this._connected&&m)&&(this._curEventType=null)},_onclick:function(a){if(w(this,"onclick",a),a.target){var c=this._eventPackage(a.target);c&&null!=c.seriesIndex&&this._messageCenter.dispatch(b.EVENT.CLICK,a.event,c,this)}},_ondblclick:function(a){if(w(this,"ondblclick",a),a.target){var c=this._eventPackage(a.target);c&&null!=c.seriesIndex&&this._messageCenter.dispatch(b.EVENT.DBLCLICK,a.event,c,this)}},_onmouseover:function(a){if(a.target){var c=this._eventPackage(a.target);c&&null!=c.seriesIndex&&this._messageCenter.dispatch(b.EVENT.HOVER,a.event,c,this)}},_onmouseout:function(a){if(a.target){var c=this._eventPackage(a.target);c&&null!=c.seriesIndex&&this._messageCenter.dispatch(b.EVENT.MOUSEOUT,a.event,c,this)}},_ondragstart:function(a){this._status={dragIn:!1,dragOut:!1,needRefresh:!1},w(this,"ondragstart",a)},_ondragenter:function(a){w(this,"ondragenter",a)},_ondragover:function(a){w(this,"ondragover",a)},_ondragleave:function(a){w(this,"ondragleave",a)},_ondrop:function(a){w(this,"ondrop",a,this._status),this._island.ondrop(a,this._status)},_ondragend:function(a){if(w(this,"ondragend",a,this._status),this._timeline&&this._timeline.ondragend(a,this._status),this._island.ondragend(a,this._status),this._status.needRefresh){this._syncBackupData(this._option);var c=this._messageCenter;c.dispatch(b.EVENT.DATA_CHANGED,a.event,this._eventPackage(a.target),this),c.dispatch(b.EVENT.REFRESH,null,null,this)}},_onlegendSelected:function(a){this._status.needRefresh=!1,w(this,"onlegendSelected",a,this._status),this._status.needRefresh&&this._messageCenter.dispatch(b.EVENT.REFRESH,null,null,this)},_ondataZoom:function(a){this._status.needRefresh=!1,w(this,"ondataZoom",a,this._status),this._status.needRefresh&&this._messageCenter.dispatch(b.EVENT.REFRESH,null,null,this)},_ondataRange:function(a){this._clearEffect(),this._status.needRefresh=!1,w(this,"ondataRange",a,this._status),this._status.needRefresh&&this._zr.refreshNextFrame()},_onmagicTypeChanged:function(){this._clearEffect(),this._render(this._toolbox.getMagicOption())},_ondataViewChanged:function(a){this._syncBackupData(a.option),this._messageCenter.dispatch(b.EVENT.DATA_CHANGED,null,a,this),this._messageCenter.dispatch(b.EVENT.REFRESH,null,null,this)},_tooltipHover:function(a){var c=[];w(this,"ontooltipHover",a,c)},_onrestore:function(){this.restore()},_onrefresh:function(a){this._refreshInside=!0,this.refresh(a),this._refreshInside=!1},_syncBackupData:function(a){this.component.dataZoom&&this.component.dataZoom.syncBackupData(a)},_eventPackage:function(h){if(h){var d=j("./util/ecData"),e=d.get(h,"seriesIndex"),c=d.get(h,"dataIndex");return c=-1!=e&&this.component.dataZoom?this.component.dataZoom.getRealDataIndex(e,c):c,{seriesIndex:e,seriesName:(d.get(h,"series")||{}).name,dataIndex:c,data:d.get(h,"data"),name:d.get(h,"name"),value:d.get(h,"value"),special:d.get(h,"special")}}},_noDataCheck:function(a){for(var l=a.series,c=0,d=l.length;d>c;c++){if(l[c].type==b.CHART_TYPE_MAP||l[c].data&&l[c].data.length>0||l[c].markPoint&&l[c].markPoint.data&&l[c].markPoint.data.length>0||l[c].markLine&&l[c].markLine.data&&l[c].markLine.data.length>0||l[c].nodes&&l[c].nodes.length>0||l[c].links&&l[c].links.length>0||l[c].matrix&&l[c].matrix.length>0||l[c].eventList&&l[c].eventList.length>0){return !1}}var h=this._option&&this._option.noDataLoadingOption||this._themeConfig.noDataLoadingOption||b.noDataLoadingOption||{text:this._option&&this._option.noDataText||this._themeConfig.noDataText||b.noDataText,effect:this._option&&this._option.noDataEffect||this._themeConfig.noDataEffect||b.noDataEffect};return this.clear(),this.showLoading(h),!0},_render:function(L){if(this._mergeGlobalConifg(L),!this._noDataCheck(L)){var E=L.backgroundColor;if(E){if(u||-1==E.indexOf("rgba")){this.dom.style.backgroundColor=E}else{var G=E.split(",");this.dom.style.filter="alpha(opacity="+100*G[3].substring(0,G[3].lastIndexOf(")"))+")",G.length=3,G[0]=G[0].replace("a",""),this.dom.style.backgroundColor=G.join(",")+")"}}this._zr.clearAnimation(),this._chartList=[];var H=j("./chart"),J=j("./component");(L.xAxis||L.yAxis)&&(L.grid=L.grid||{},L.dataZoom=L.dataZoom||{});for(var K,D,e,a=["title","legend","tooltip","dataRange","roamController","grid","dataZoom","xAxis","yAxis","polar"],F=0,I=a.length;I>F;F++){D=a[F],e=this.component[D],L[D]?(e?e.refresh&&e.refresh(L):(K=J.get(/^[xy]Axis$/.test(D)?"axis":D),e=new K(this._themeConfig,this._messageCenter,this._zr,L,this,D),this.component[D]=e),this._chartList.push(e)):e&&(e.dispose(),this.component[D]=null,delete this.component[D])}for(var M,O,N,C={},F=0,I=L.series.length;I>F;F++){O=L.series[F].type,O?C[O]||(C[O]=!0,M=H.get(O),M?(this.chart[O]?(N=this.chart[O],N.refresh(L)):N=new M(this._themeConfig,this._messageCenter,this._zr,L,this),this._chartList.push(N),this.chart[O]=N):console.error(O+" has not been required.")):console.error("series["+F+"] chart type has not been defined.")}for(O in this.chart){O==b.CHART_TYPE_ISLAND||C[O]||(this.chart[O].dispose(),this.chart[O]=null,delete this.chart[O])}this.component.grid&&this.component.grid.refixAxisShape(this.component),this._island.refresh(L),this._toolbox.refresh(L),L.animation&&!L.renderAsImage?this._zr.refresh():this._zr.render();var l="IMG"+this.id,P=document.getElementById(l);L.renderAsImage&&u?(P?P.src=this.getDataURL(L.renderAsImage):(P=this.getImage(L.renderAsImage),P.id=l,P.style.position="absolute",P.style.left=0,P.style.top=0,this.dom.firstChild.appendChild(P)),this.un(),this._zr.un(),this._disposeChartList(),this._zr.clear()):P&&P.parentNode.removeChild(P),P=null,this._option=L}},restore:function(){this._clearEffect(),this._option=x.clone(this._optionRestore),this._disposeChartList(),this._island.clear(),this._toolbox.reset(this._option,!0),this._render(this._option)},refresh:function(a){this._clearEffect(),a=a||{};var h=a.option;!this._refreshInside&&h&&(h=this.getOption(),x.merge(h,a.option,!0),x.merge(this._optionRestore,a.option,!0),this._toolbox.reset(h)),this._island.refresh(h),this._toolbox.refresh(h),this._zr.clearAnimation();for(var c=0,d=this._chartList.length;d>c;c++){this._chartList[c].refresh&&this._chartList[c].refresh(h)}this.component.grid&&this.component.grid.refixAxisShape(this.component),this._zr.refresh()},_disposeChartList:function(){this._clearEffect(),this._zr.clearAnimation();for(var a=this._chartList.length;a--;){var d=this._chartList[a];if(d){var c=d.type;this.chart[c]&&delete this.chart[c],this.component[c]&&delete this.component[c],d.dispose&&d.dispose()}}this._chartList=[]},_mergeGlobalConifg:function(h){for(var a=["backgroundColor","calculable","calculableColor","calculableHolderColor","nameConnector","valueConnector","animation","animationThreshold","animationDuration","animationDurationUpdate","animationEasing","addDataAnimation","symbolList","DRAG_ENABLE_TIME"],c=a.length;c--;){var d=a[c];null==h[d]&&(h[d]=null!=this._themeConfig[d]?this._themeConfig[d]:b[d])}var e=h.color;e&&e.length||(e=this._themeConfig.color||b.color),this._zr.getColor=function(m){var l=j("zrender/tool/color");return l.getColor(m,e)},u||(h.animation=!1,h.addDataAnimation=!1)},setOption:function(a,c){return a.timeline?this._setTimelineOption(a):this._setOption(a,c)},_setOption:function(a,d,c){return !d&&this._option?this._option=x.merge(this.getOption(),x.clone(a),!0):(this._option=x.clone(a),!c&&this._timeline&&this._timeline.dispose()),this._optionRestore=x.clone(this._option),this._option.series&&0!==this._option.series.length?(this.component.dataZoom&&(this._option.dataZoom||this._option.toolbox&&this._option.toolbox.feature&&this._option.toolbox.feature.dataZoom&&this._option.toolbox.feature.dataZoom.show)&&this.component.dataZoom.syncOption(this._option),this._toolbox.reset(this._option),this._render(this._option),this):void this._zr.clear()},getOption:function(){function a(i){var l=c._optionRestore[i];if(l){if(l instanceof Array){for(var h=l.length;h--;){d[i][h].data=x.clone(l[h].data)}}else{d[i].data=x.clone(l.data)}}}var d=x.clone(this._option),c=this;return a("xAxis"),a("yAxis"),a("series"),d},setSeries:function(a,c){return c?(this._option.series=a,this.setOption(this._option,c)):this.setOption({series:a}),this},getSeries:function(){return this.getOption().series},_setTimelineOption:function(d){this._timeline&&this._timeline.dispose();var a=j("./component/timeline"),c=new a(this._themeConfig,this._messageCenter,this._zr,d,this);return this._timeline=c,this.component.timeline=this._timeline,this},addData:function(E,S,I,O,Q){function R(){if(C._zr){C._zr.clearAnimation();for(var c=0,d=ab.length;d>c;c++){ab[c].motionlessOnce=H.addDataAnimation&&ab[c].addDataAnimation}C._messageCenter.dispatch(b.EVENT.REFRESH,null,{option:H},C)}}for(var K=E instanceof Array?E:[[E,S,I,O,Q]],H=this.getOption(),D=this._optionRestore,C=this,N=0,P=K.length;P>N;N++){E=K[N][0],S=K[N][1],I=K[N][2],O=K[N][3],Q=K[N][4];var T=D.series[E],aa=I?"unshift":"push",Y=I?"pop":"shift";if(T){var G=T.data,F=H.series[E].data;if(G[aa](S),F[aa](S),O||(G[Y](),S=F[Y]()),null!=Q){var af,o;if(T.type===b.CHART_TYPE_PIE&&(af=D.legend)&&(o=af.data)){var a=H.legend.data;if(o[aa](Q),a[aa](Q),!O){var ad=x.indexOf(o,S.name);-1!=ad&&o.splice(ad,1),ad=x.indexOf(a,S.name),-1!=ad&&a.splice(ad,1)}}else{if(null!=D.xAxis&&null!=D.yAxis){var J,Z,M=T.xAxisIndex||0;(null==D.xAxis[M].type||"category"===D.xAxis[M].type)&&(J=D.xAxis[M].data,Z=H.xAxis[M].data,J[aa](Q),Z[aa](Q),O||(J[Y](),Z[Y]())),M=T.yAxisIndex||0,"category"===D.yAxis[M].type&&(J=D.yAxis[M].data,Z=H.yAxis[M].data,J[aa](Q),Z[aa](Q),O||(J[Y](),Z[Y]()))}}}this._option.series[E].data=H.series[E].data}}this._zr.clearAnimation();for(var ab=this._chartList,ac=0,ae=function(){ac--,0===ac&&R()},N=0,P=ab.length;P>N;N++){H.addDataAnimation&&ab[N].addDataAnimation&&(ac++,ab[N].addDataAnimation(K,ae))}return this.component.dataZoom&&this.component.dataZoom.syncOption(H),this._option=H,H.addDataAnimation||setTimeout(R,0),this},addMarkPoint:function(a,c){return this._addMark(a,c,"markPoint")},addMarkLine:function(a,c){return this._addMark(a,c,"markLine")},_addMark:function(C,J,E){var G,m=this._option.series;if(m&&(G=m[C])){var H=this._optionRestore.series,I=H[C],F=G[E],D=I[E];F=G[E]=F||{data:[]},D=I[E]=D||{data:[]};for(var p in J){"data"===p?(F.data=F.data.concat(J.data),D.data=D.data.concat(J.data)):"object"!=typeof J[p]||null==F[p]?F[p]=D[p]=J[p]:(x.merge(F[p],J[p],!0),x.merge(D[p],J[p],!0))}var o=this.chart[G.type];o&&o.addMark(C,J,E)}return this},delMarkPoint:function(a,c){return this._delMark(a,c,"markPoint")},delMarkLine:function(a,c){return this._delMark(a,c,"markLine")},_delMark:function(D,L,F){var H,m,I,J=this._option.series;if(!(J&&(H=J[D])&&(m=H[F])&&(I=m.data))){return this}L=L.split(" > ");for(var K=-1,G=0,E=I.length;E>G;G++){var C=I[G];if(C instanceof Array){if(C[0].name===L[0]&&C[1].name===L[1]){K=G;break}}else{if(C.name===L[0]){K=G;break}}}if(K>-1){I.splice(K,1),this._optionRestore.series[D][F].data.splice(K,1);var p=this.chart[H.type];p&&p.delMark(D,L.join(" > "),F)}return this},getDom:function(){return this.dom},getZrender:function(){return this._zr},getDataURL:function(d){if(!u){return""}if(0===this._chartList.length){var m="IMG"+this.id,h=document.getElementById(m);if(h){return h.src}}var l=this.component.tooltip;switch(l&&l.hideTip(),d){case"jpeg":break;default:d="png"}var c=this._option.backgroundColor;return c&&"rgba(0,0,0,0)"===c.replace(" ","")&&(c="#fff"),this._zr.toDataURL("image/"+d,c)},getImage:function(a){var d=this._optionRestore.title,c=document.createElement("img");return c.src=this.getDataURL(a),c.title=d&&d.text||"ECharts",c},getConnectedDataURL:function(N){if(!this.isConnected()){return this.getDataURL(N)}var F=this.dom,I={self:{img:this.getDataURL(N),left:F.offsetLeft,top:F.offsetTop,right:F.offsetLeft+F.offsetWidth,bottom:F.offsetTop+F.offsetHeight}},e=I.self.left,J=I.self.top,L=I.self.right,M=I.self.bottom;for(var G in this._connected){F=this._connected[G].getDom(),I[G]={img:this._connected[G].getDataURL(N),left:F.offsetLeft,top:F.offsetTop,right:F.offsetLeft+F.offsetWidth,bottom:F.offsetTop+F.offsetHeight},e=Math.min(e,I[G].left),J=Math.min(J,I[G].top),L=Math.max(L,I[G].right),M=Math.max(M,I[G].bottom)}var E=document.createElement("div");E.style.position="absolute",E.style.left="-4000px",E.style.width=L-e+"px",E.style.height=M-J+"px",document.body.appendChild(E);var D=j("zrender").init(E),C=j("zrender/shape/Image");for(var G in I){D.addShape(new C({style:{x:I[G].left-e,y:I[G].top-J,image:I[G].img}}))}D.render();var H=this._option.backgroundColor;H&&"rgba(0,0,0,0)"===H.replace(/ /g,"")&&(H="#fff");var K=D.toDataURL("image/png",H);return setTimeout(function(){D.dispose(),E.parentNode.removeChild(E),E=null},100),K},getConnectedImage:function(a){var d=this._optionRestore.title,c=document.createElement("img");return c.src=this.getConnectedDataURL(a),c.title=d&&d.text||"ECharts",c},on:function(a,c){return this._messageCenterOutSide.bind(a,c,this),this},un:function(a,c){return this._messageCenterOutSide.unbind(a,c),this},connect:function(a){if(!a){return this}if(this._connected||(this._connected={}),a instanceof Array){for(var d=0,c=a.length;c>d;d++){this._connected[a[d].id]=a[d]}}else{this._connected[a.id]=a}return this},disConnect:function(a){if(!a||!this._connected){return this}if(a instanceof Array){for(var h=0,c=a.length;c>h;h++){delete this._connected[a[h].id]}}else{delete this._connected[a.id]}for(var d in this._connected){return this}return this._connected=!1,this},connectedEventHandler:function(a){a.__echartsId!=this.id&&this._onevent(a)},isConnected:function(){return !!this._connected},showLoading:function(h){var a={bar:j("zrender/loadingEffect/Bar"),bubble:j("zrender/loadingEffect/Bubble"),dynamicLine:j("zrender/loadingEffect/DynamicLine"),ring:j("zrender/loadingEffect/Ring"),spin:j("zrender/loadingEffect/Spin"),whirling:j("zrender/loadingEffect/Whirling")};this._toolbox.hideDataView(),h=h||{};var c=h.textStyle||{};h.textStyle=c;var d=x.merge(x.merge(x.clone(c),this._themeConfig.textStyle),b.textStyle);c.textFont=d.fontStyle+" "+d.fontWeight+" "+d.fontSize+"px "+d.fontFamily,c.text=h.text||this._option&&this._option.loadingText||this._themeConfig.loadingText||b.loadingText,null!=h.x&&(c.x=h.x),null!=h.y&&(c.y=h.y),h.effectOption=h.effectOption||{},h.effectOption.textStyle=c;var e=h.effect;return("string"==typeof e||null==e)&&(e=a[h.effect||this._option&&this._option.loadingEffect||this._themeConfig.loadingEffect||b.loadingEffect]||a.spin),this._zr.showLoading(new e(h.effectOption)),this},hideLoading:function(){return this._zr.hideLoading(),this},setTheme:function(c){if(c){if("string"==typeof c){switch(c){case"macarons":c=j("./theme/macarons");break;case"infographic":c=j("./theme/infographic");break;default:c={}}}else{c=c||{}}this._themeConfig=c}if(!u){var a=this._themeConfig.textStyle;a&&a.fontFamily&&a.fontFamily2&&(a.fontFamily=a.fontFamily2),a=b.textStyle,a.fontFamily=a.fontFamily2}this._timeline&&this._timeline.setTheme(!0),this._optionRestore&&this.restore()},resize:function(){var a=this;return function(){if(a._clearEffect(),a._zr.resize(),a._option&&a._option.renderAsImage&&u){return a._render(a._option),a}a._zr.clearAnimation(),a._island.resize(),a._toolbox.resize(),a._timeline&&a._timeline.resize();for(var d=0,c=a._chartList.length;c>d;d++){a._chartList[d].resize&&a._chartList[d].resize()}return a.component.grid&&a.component.grid.refixAxisShape(a.component),a._zr.refresh(),a._messageCenter.dispatch(b.EVENT.RESIZE,null,null,a),a}},_clearEffect:function(){this._zr.modLayer(b.EFFECT_ZLEVEL,{motionBlur:!1}),this._zr.painter.clearLayer(b.EFFECT_ZLEVEL)},clear:function(){return this._disposeChartList(),this._zr.clear(),this._option={},this._optionRestore={},this.dom.style.backgroundColor=null,this},dispose:function(){var a=this.dom.getAttribute(f);a&&delete g[a],this._island.dispose(),this._toolbox.dispose(),this._timeline&&this._timeline.dispose(),this._messageCenter.unbind(),this.clear(),this._zr.dispose(),this._zr=null}},A}),define("echarts/config",[],function(){var a={CHART_TYPE_LINE:"line",CHART_TYPE_BAR:"bar",CHART_TYPE_SCATTER:"scatter",CHART_TYPE_PIE:"pie",CHART_TYPE_RADAR:"radar",CHART_TYPE_VENN:"venn",CHART_TYPE_TREEMAP:"treemap",CHART_TYPE_TREE:"tree",CHART_TYPE_MAP:"map",CHART_TYPE_K:"k",CHART_TYPE_ISLAND:"island",CHART_TYPE_FORCE:"force",CHART_TYPE_CHORD:"chord",CHART_TYPE_GAUGE:"gauge",CHART_TYPE_FUNNEL:"funnel",CHART_TYPE_EVENTRIVER:"eventRiver",CHART_TYPE_WORDCLOUD:"wordCloud",CHART_TYPE_HEATMAP:"heatmap",COMPONENT_TYPE_TITLE:"title",COMPONENT_TYPE_LEGEND:"legend",COMPONENT_TYPE_DATARANGE:"dataRange",COMPONENT_TYPE_DATAVIEW:"dataView",COMPONENT_TYPE_DATAZOOM:"dataZoom",COMPONENT_TYPE_TOOLBOX:"toolbox",COMPONENT_TYPE_TOOLTIP:"tooltip",COMPONENT_TYPE_GRID:"grid",COMPONENT_TYPE_AXIS:"axis",COMPONENT_TYPE_POLAR:"polar",COMPONENT_TYPE_X_AXIS:"xAxis",COMPONENT_TYPE_Y_AXIS:"yAxis",COMPONENT_TYPE_AXIS_CATEGORY:"categoryAxis",COMPONENT_TYPE_AXIS_VALUE:"valueAxis",COMPONENT_TYPE_TIMELINE:"timeline",COMPONENT_TYPE_ROAMCONTROLLER:"roamController",backgroundColor:"rgba(0,0,0,0)",color:["#ff7f50","#87cefa","#da70d6","#32cd32","#6495ed","#ff69b4","#ba55d3","#cd5c5c","#ffa500","#40e0d0","#1e90ff","#ff6347","#7b68ee","#00fa9a","#ffd700","#6699FF","#ff6666","#3cb371","#b8860b","#30e0e0"],markPoint:{clickable:!0,symbol:"pin",symbolSize:10,large:!1,effect:{show:!1,loop:!0,period:15,type:"scale",scaleSize:2,bounceDistance:10},itemStyle:{normal:{borderWidth:2,label:{show:!0,position:"inside"}},emphasis:{label:{show:!0}}}},markLine:{clickable:!0,symbol:["circle","arrow"],symbolSize:[2,4],smoothness:0.2,precision:2,effect:{show:!1,loop:!0,period:15,scaleSize:2},bundling:{enable:!1,maxTurningAngle:45},itemStyle:{normal:{borderWidth:1.5,label:{show:!0,position:"end"},lineStyle:{type:"dashed"}},emphasis:{label:{show:!1},lineStyle:{}}}},textStyle:{decoration:"none",fontFamily:"Arial, Verdana, sans-serif",fontFamily2:"微软雅黑",fontSize:12,fontStyle:"normal",fontWeight:"normal"},EVENT:{REFRESH:"refresh",RESTORE:"restore",RESIZE:"resize",CLICK:"click",DBLCLICK:"dblclick",HOVER:"hover",MOUSEOUT:"mouseout",DATA_CHANGED:"dataChanged",DATA_ZOOM:"dataZoom",DATA_RANGE:"dataRange",DATA_RANGE_SELECTED:"dataRangeSelected",DATA_RANGE_HOVERLINK:"dataRangeHoverLink",LEGEND_SELECTED:"legendSelected",LEGEND_HOVERLINK:"legendHoverLink",MAP_SELECTED:"mapSelected",PIE_SELECTED:"pieSelected",MAGIC_TYPE_CHANGED:"magicTypeChanged",DATA_VIEW_CHANGED:"dataViewChanged",TIMELINE_CHANGED:"timelineChanged",MAP_ROAM:"mapRoam",FORCE_LAYOUT_END:"forceLayoutEnd",TOOLTIP_HOVER:"tooltipHover",TOOLTIP_IN_GRID:"tooltipInGrid",TOOLTIP_OUT_GRID:"tooltipOutGrid",ROAMCONTROLLER:"roamController"},DRAG_ENABLE_TIME:120,EFFECT_ZLEVEL:10,effectBlendAlpha:0.95,symbolList:["circle","rectangle","triangle","diamond","emptyCircle","emptyRectangle","emptyTriangle","emptyDiamond"],loadingEffect:"spin",loadingText:"数据读取中...",noDataEffect:"bubble",noDataText:"暂无数据",calculable:!1,calculableColor:"rgba(255,165,0,0.6)",calculableHolderColor:"#ccc",nameConnector:" & ",valueConnector:": ",animation:!0,addDataAnimation:!0,animationThreshold:2000,animationDuration:2000,animationDurationUpdate:500,animationEasing:"ExponentialOut"};return a}),define("zrender/tool/util",["require","../dep/excanvas"],function(q){function G(a){return a&&1===a.nodeType&&"string"==typeof a.nodeName}function y(d){if("object"==typeof d&&null!==d){var f=d;if(d instanceof Array){f=[];for(var c=0,g=d.length;g>c;c++){f[c]=y(d[c])}}else{if(!w[v.call(d)]&&!G(d)){f={};for(var h in d){d.hasOwnProperty(h)&&(f[h]=y(d[h]))}}}return f}return d}function B(a,c,d,f){if(c.hasOwnProperty(d)){var g=a[d];"object"!=typeof g||w[v.call(g)]||G(g)?!f&&d in a||(a[d]=c[d]):b(a[d],c[d],f)}}function b(d,g,f){for(var c in g){B(d,g,c,f)}return d}function C(){if(!A){if(q("../dep/excanvas"),window.G_vmlCanvasManager){var a=document.createElement("div");a.style.position="absolute",a.style.top="-1000px",document.body.appendChild(a),A=G_vmlCanvasManager.initElement(a).getContext("2d")}else{A=document.createElement("canvas").getContext("2d")}}return A}function E(a,f){if(a.indexOf){return a.indexOf(f)}for(var c=0,d=a.length;d>c;c++){if(a[c]===f){return c}}return -1}function F(d,h){function f(){}var g=d.prototype;f.prototype=h.prototype,d.prototype=new f;for(var c in g){d.prototype[c]=g[c]}d.constructor=d}function z(d,l,f){if(d&&l){if(d.forEach&&d.forEach===H){d.forEach(l,f)}else{if(d.length===+d.length){for(var g=0,c=d.length;c>g;g++){l.call(f,d[g],g,d)}}else{for(var h in d){d.hasOwnProperty(h)&&l.call(f,d[h],h,d)}}}}}function x(d,l,f){if(d&&l){if(d.map&&d.map===J){return d.map(l,f)}for(var g=[],c=0,h=d.length;h>c;c++){g.push(l.call(f,d[c],c,d))}return g}}function k(d,l,f){if(d&&l){if(d.filter&&d.filter===I){return d.filter(l,f)}for(var g=[],c=0,h=d.length;h>c;c++){l.call(f,d[c],c,d)&&g.push(d[c])}return g}}function j(a,c){return function(){a.apply(c,arguments)}}var A,D=Array.prototype,H=D.forEach,J=D.map,I=D.filter,w={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1},v=Object.prototype.toString;return{inherits:F,clone:y,merge:b,getContext:C,indexOf:E,each:z,map:x,filter:k,bind:j}}),define("zrender/tool/event",["require","../mixin/Eventful"],function(c){function h(a){return"undefined"!=typeof a.zrenderX&&a.zrenderX||"undefined"!=typeof a.offsetX&&a.offsetX||"undefined"!=typeof a.layerX&&a.layerX||"undefined"!=typeof a.clientX&&a.clientX}function d(a){return"undefined"!=typeof a.zrenderY&&a.zrenderY||"undefined"!=typeof a.offsetY&&a.offsetY||"undefined"!=typeof a.layerY&&a.layerY||"undefined"!=typeof a.clientY&&a.clientY}function f(a){return"undefined"!=typeof a.zrenderDelta&&a.zrenderDelta||"undefined"!=typeof a.wheelDelta&&a.wheelDelta||"undefined"!=typeof a.detail&&-a.detail}var b=c("../mixin/Eventful"),g="function"==typeof window.addEventListener?function(a){a.preventDefault(),a.stopPropagation(),a.cancelBubble=!0}:function(a){a.returnValue=!1,a.cancelBubble=!0};return{getX:h,getY:d,getDelta:f,stop:g,Dispatcher:b}}),define("zrender/tool/env",[],function(){function a(w){var J=this.os={},B=this.browser={},E=w.match(/Web[kK]it[\/]{0,1}([\d.]+)/),j=w.match(/(Android);?[\s\/]+([\d.]+)?/),F=w.match(/(iPad).*OS\s([\d_]+)/),H=w.match(/(iPod)(.*OS\s([\d_]+))?/),I=!F&&w.match(/(iPhone\sOS)\s([\d_]+)/),C=w.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),A=C&&w.match(/TouchPad/),v=w.match(/Kindle\/([\d.]+)/),q=w.match(/Silk\/([\d._]+)/),D=w.match(/(BlackBerry).*Version\/([\d.]+)/),G=w.match(/(BB10).*Version\/([\d.]+)/),K=w.match(/(RIM\sTablet\sOS)\s([\d.]+)/),M=w.match(/PlayBook/),L=w.match(/Chrome\/([\d.]+)/)||w.match(/CriOS\/([\d.]+)/),z=w.match(/Firefox\/([\d.]+)/),x=w.match(/MSIE ([\d.]+)/),N=E&&w.match(/Mobile\//)&&!L,k=w.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/)&&!L,x=w.match(/MSIE\s([\d.]+)/);return(B.webkit=!!E)&&(B.version=E[1]),j&&(J.android=!0,J.version=j[2]),I&&!H&&(J.ios=J.iphone=!0,J.version=I[2].replace(/_/g,".")),F&&(J.ios=J.ipad=!0,J.version=F[2].replace(/_/g,".")),H&&(J.ios=J.ipod=!0,J.version=H[3]?H[3].replace(/_/g,"."):null),C&&(J.webos=!0,J.version=C[2]),A&&(J.touchpad=!0),D&&(J.blackberry=!0,J.version=D[2]),G&&(J.bb10=!0,J.version=G[2]),K&&(J.rimtabletos=!0,J.version=K[2]),M&&(B.playbook=!0),v&&(J.kindle=!0,J.version=v[1]),q&&(B.silk=!0,B.version=q[1]),!q&&J.android&&w.match(/Kindle Fire/)&&(B.silk=!0),L&&(B.chrome=!0,B.version=L[1]),z&&(B.firefox=!0,B.version=z[1]),x&&(B.ie=!0,B.version=x[1]),N&&(w.match(/Safari/)||J.ios)&&(B.safari=!0),k&&(B.webview=!0),x&&(B.ie=!0,B.version=x[1]),J.tablet=!!(F||M||j&&!w.match(/Mobile/)||z&&w.match(/Tablet/)||x&&!w.match(/Phone/)&&w.match(/Touch/)),J.phone=!(J.tablet||J.ipod||!(j||I||C||D||G||L&&w.match(/Android/)||L&&w.match(/CriOS\/([\d.]+)/)||z&&w.match(/Mobile/)||x&&w.match(/Touch/))),{browser:B,os:J,canvasSupported:document.createElement("canvas").getContext?!0:!1}}return a(navigator.userAgent)}),define("zrender",["zrender/zrender"],function(a){return a}),define("zrender/zrender",["require","./dep/excanvas","./tool/util","./tool/log","./tool/guid","./Handler","./Painter","./Storage","./animation/Animation","./tool/env"],function(j){function x(a){return function(){a._needsRefreshNextFrame&&a.refresh()}}j("./dep/excanvas");var m=j("./tool/util"),q=j("./tool/log"),b=j("./tool/guid"),u=j("./Handler"),v=j("./Painter"),w=j("./Storage"),p=j("./animation/Animation"),k={},g={};g.version="2.1.1",g.init=function(a){var c=new f(b(),a);return k[c.id]=c,c},g.dispose=function(a){if(a){a.dispose()}else{for(var c in k){k[c].dispose()}k={}}return g},g.getInstance=function(a){return k[a]},g.delInstance=function(a){return delete k[a],g};var f=function(o,r){this.id=o,this.env=j("./tool/env"),this.storage=new w,this.painter=new v(r,this.storage),this.handler=new u(r,this.storage,this.painter),this.animation=new p({stage:{update:x(this)}}),this.animation.start();var c=this;this.painter.refreshNextFrame=function(){c.refreshNextFrame()},this._needsRefreshNextFrame=!1;var c=this,l=this.storage,e=l.delFromMap;l.delFromMap=function(a){var d=l.get(a);c.stopAnimation(d),e.call(l,a)}};return f.prototype.getId=function(){return this.id},f.prototype.addShape=function(a){return this.addElement(a),this},f.prototype.addGroup=function(a){return this.addElement(a),this},f.prototype.delShape=function(a){return this.delElement(a),this},f.prototype.delGroup=function(a){return this.delElement(a),this},f.prototype.modShape=function(a,c){return this.modElement(a,c),this},f.prototype.modGroup=function(a,c){return this.modElement(a,c),this},f.prototype.addElement=function(a){return this.storage.addRoot(a),this._needsRefreshNextFrame=!0,this},f.prototype.delElement=function(a){return this.storage.delRoot(a),this._needsRefreshNextFrame=!0,this},f.prototype.modElement=function(a,c){return this.storage.mod(a,c),this._needsRefreshNextFrame=!0,this},f.prototype.modLayer=function(a,c){return this.painter.modLayer(a,c),this._needsRefreshNextFrame=!0,this},f.prototype.addHoverShape=function(a){return this.storage.addHover(a),this},f.prototype.render=function(a){return this.painter.render(a),this._needsRefreshNextFrame=!1,this},f.prototype.refresh=function(a){return this.painter.refresh(a),this._needsRefreshNextFrame=!1,this},f.prototype.refreshNextFrame=function(){return this._needsRefreshNextFrame=!0,this},f.prototype.refreshHover=function(a){return this.painter.refreshHover(a),this},f.prototype.refreshShapes=function(a,c){return this.painter.refreshShapes(a,c),this},f.prototype.resize=function(){return this.painter.resize(),this},f.prototype.animate=function(z,G,i){var D=this;if("string"==typeof z&&(z=this.storage.get(z)),z){var E;if(G){for(var F=G.split("."),B=z,A=0,y=F.length;y>A;A++){B&&(B=B[F[A]])}B&&(E=B)}else{E=z}if(!E){return void q('Property "'+G+'" is not existed in element '+z.id)}null==z.__animators&&(z.__animators=[]);var n=z.__animators,C=this.animation.animate(E,{loop:i}).during(function(){D.modShape(z)}).done(function(){var a=m.indexOf(z.__animators,C);a>=0&&n.splice(a,1)});return n.push(C),C}q("Element not existed")},f.prototype.stopAnimation=function(a){if(a.__animators){for(var h=a.__animators,c=h.length,d=0;c>d;d++){h[d].stop()}h.length=0}return this},f.prototype.clearAnimation=function(){return this.animation.clear(),this},f.prototype.showLoading=function(a){return this.painter.showLoading(a),this},f.prototype.hideLoading=function(){return this.painter.hideLoading(),this},f.prototype.getWidth=function(){return this.painter.getWidth()},f.prototype.getHeight=function(){return this.painter.getHeight()},f.prototype.toDataURL=function(a,d,c){return this.painter.toDataURL(a,d,c)},f.prototype.shapeToImage=function(a,h,c){var d=b();return this.painter.shapeToImage(d,a,h,c)},f.prototype.on=function(a,d,c){return this.handler.on(a,d,c),this},f.prototype.un=function(a,c){return this.handler.un(a,c),this},f.prototype.trigger=function(a,c){return this.handler.trigger(a,c),this},f.prototype.clear=function(){return this.storage.delRoot(),this.painter.clear(),this},f.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,g.delInstance(this.id)},g}),define("zrender/config",[],function(){var a={EVENT:{RESIZE:"resize",CLICK:"click",DBLCLICK:"dblclick",MOUSEWHEEL:"mousewheel",MOUSEMOVE:"mousemove",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",GLOBALOUT:"globalout",DRAGSTART:"dragstart",DRAGEND:"dragend",DRAGENTER:"dragenter",DRAGOVER:"dragover",DRAGLEAVE:"dragleave",DROP:"drop",touchClickDelay:300},elementClassName:"zr-element",catchBrushException:!1,debugMode:0,devicePixelRatio:Math.max(window.devicePixelRatio||1,1)};return a}),define("echarts/chart/island",["require","./base","zrender/shape/Circle","../config","../util/ecData","zrender/tool/util","zrender/tool/event","zrender/tool/color","../util/accMath","../chart"],function(c){function k(m,s,p,i,q){d.call(this,m,s,p,i,q),this._nameConnector,this._valueConnector,this._zrHeight=this.zr.getHeight(),this._zrWidth=this.zr.getWidth();var o=this;o.shapeHandler.onmousewheel=function(u){var z=u.target,w=u.event,x=j.getDelta(w);x=x>0?-1:1,z.style.r-=x,z.style.r=z.style.r<5?5:z.style.r;var l=g.get(z,"value"),y=l*o.option.island.calculateStep;l=y>1?Math.round(l-y*x):+(l-y*x).toFixed(2);var v=g.get(z,"name");z.style.text=v+":"+l,g.set(z,"value",l),g.set(z,"name",v),o.zr.modShape(z.id),o.zr.refreshNextFrame(),j.stop(w)}}var d=c("./base"),f=c("zrender/shape/Circle"),b=c("../config");b.island={zlevel:0,z:5,r:15,calculateStep:0.1};var g=c("../util/ecData"),h=c("zrender/tool/util"),j=c("zrender/tool/event");return k.prototype={type:b.CHART_TYPE_ISLAND,_combine:function(q,l){var m=c("zrender/tool/color"),e=c("../util/accMath"),o=e.accAdd(g.get(q,"value"),g.get(l,"value")),p=g.get(q,"name")+this._nameConnector+g.get(l,"name");q.style.text=p+this._valueConnector+o,g.set(q,"value",o),g.set(q,"name",p),q.style.r=this.option.island.r,q.style.color=m.mix(q.style.color,l.style.color)},refresh:function(a){a&&(a.island=this.reformOption(a.island),this.option=a,this._nameConnector=this.option.nameConnector,this._valueConnector=this.option.valueConnector)},getOption:function(){return this.option},resize:function(){var m=this.zr.getWidth(),s=this.zr.getHeight(),p=m/(this._zrWidth||m),q=s/(this._zrHeight||s);if(1!==p||1!==q){this._zrWidth=m,this._zrHeight=s;for(var l=0,r=this.shapeList.length;r>l;l++){this.zr.modShape(this.shapeList[l].id,{style:{x:Math.round(this.shapeList[l].style.x*p),y:Math.round(this.shapeList[l].style.y*q)}})}}},add:function(n){var v=g.get(n,"name"),o=g.get(n,"value"),m=null!=g.get(n,"series")?g.get(n,"series").name:"",q=this.getFont(this.option.island.textStyle),u=this.option.island,p={zlevel:u.zlevel,z:u.z,style:{x:n.style.x,y:n.style.y,r:this.option.island.r,color:n.style.color||n.style.strokeColor,text:v+this._valueConnector+o,textFont:q},draggable:!0,hoverable:!0,onmousewheel:this.shapeHandler.onmousewheel,_type:"island"};"#fff"===p.style.color&&(p.style.color=n.style.strokeColor),this.setCalculable(p),p.dragEnableTime=0,g.pack(p,{name:m},-1,o,-1,v),p=new f(p),this.shapeList.push(p),this.zr.addShape(p)},del:function(a){this.zr.delShape(a.id);for(var o=[],l=0,m=this.shapeList.length;m>l;l++){this.shapeList[l].id!=a.id&&o.push(this.shapeList[l])}this.shapeList=o},ondrop:function(a,o){if(this.isDrop&&a.target){var l=a.target,m=a.dragged;this._combine(l,m),this.zr.modShape(l.id),o.dragIn=!0,this.isDrop=!1}},ondragend:function(a,m){var l=a.target;this.isDragend?m.dragIn&&(this.del(l),m.needRefresh=!0):m.dragIn||(l.style.x=j.getX(a.event),l.style.y=j.getY(a.event),this.add(l),m.needRefresh=!0),this.isDragend=!1}},h.inherits(k,d),c("../chart").define("island",k),k}),define("echarts/component/toolbox",["require","./base","zrender/shape/Line","zrender/shape/Image","zrender/shape/Rectangle","../util/shape/Icon","../config","zrender/tool/util","zrender/config","zrender/tool/event","./dataView","../component"],function(j){function z(d,m,h,c,i){p.call(this,d,m,h,c,i),this.dom=i.dom,this._magicType={},this._magicMap={},this._isSilence=!1,this._iconList,this._iconShapeMap={},this._featureTitle={},this._featureIcon={},this._featureColor={},this._featureOption={},this._enableColor="red",this._disableColor="#ccc",this._markShapeList=[];var l=this;l._onMark=function(a){l.__onMark(a)},l._onMarkUndo=function(a){l.__onMarkUndo(a)},l._onMarkClear=function(a){l.__onMarkClear(a)},l._onDataZoom=function(a){l.__onDataZoom(a)},l._onDataZoomReset=function(a){l.__onDataZoomReset(a)},l._onDataView=function(a){l.__onDataView(a)},l._onRestore=function(a){l.__onRestore(a)},l._onSaveAsImage=function(a){l.__onSaveAsImage(a)},l._onMagicType=function(a){l.__onMagicType(a)},l._onCustomHandler=function(a){l.__onCustomHandler(a)},l._onmousemove=function(a){return l.__onmousemove(a)},l._onmousedown=function(a){return l.__onmousedown(a)},l._onmouseup=function(a){return l.__onmouseup(a)},l._onclick=function(a){return l.__onclick(a)}}var p=j("./base"),v=j("zrender/shape/Line"),b=j("zrender/shape/Image"),w=j("zrender/shape/Rectangle"),x=j("../util/shape/Icon"),y=j("../config");y.toolbox={zlevel:0,z:6,show:!1,orient:"horizontal",x:"right",y:"top",color:["#1e90ff","#22bb22","#4b0082","#d2691e"],disableColor:"#ddd",effectiveColor:"red",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemSize:16,showTitle:!0,feature:{mark:{show:!1,title:{mark:"Place Marker",markUndo:"Undo Marker",markClear:"Clear Marker"},lineStyle:{width:1,color:"#1e90ff",type:"dashed"}},dataZoom:{show:!1,title:{dataZoom:"Zoom",dataZoomReset:"Reset Zoom"}},dataView:{show:!1,title:"View Data",readOnly:!1,lang:["View Data","Close","Refresh"]},magicType:{show:!1,title:{line:"Line Chart",bar:"Bar Chart",stack:"Stack Chart",tiled:"Tile Chart",force:"Force Chart",chord:"Chord Chart",pie:"Pie Chart",funnel:"Funnel Chart"},type:[]},restore:{show:!1,title:"Restore"},saveAsImage:{show:!1,title:"Save Image",type:"png",lang:["Save"]}}};var q=j("zrender/tool/util"),k=j("zrender/config"),g=j("zrender/tool/event"),f="stack",u="tiled";return z.prototype={type:y.COMPONENT_TYPE_TOOLBOX,_buildShape:function(){this._iconList=[];var d=this.option.toolbox;this._enableColor=d.effectiveColor,this._disableColor=d.disableColor;var A=d.feature,h=[];for(var l in A){if(A[l].show){switch(l){case"mark":h.push({key:l,name:"mark"}),h.push({key:l,name:"markUndo"}),h.push({key:l,name:"markClear"});break;case"magicType":for(var c=0,m=A[l].type.length;m>c;c++){A[l].title[A[l].type[c]+"Chart"]=A[l].title[A[l].type[c]],A[l].option&&(A[l].option[A[l].type[c]+"Chart"]=A[l].option[A[l].type[c]]),h.push({key:l,name:A[l].type[c]+"Chart"})}break;case"dataZoom":h.push({key:l,name:"dataZoom"}),h.push({key:l,name:"dataZoomReset"});break;case"saveAsImage":this.canvasSupported&&h.push({key:l,name:"saveAsImage"});break;default:h.push({key:l,name:l})}}}if(h.length>0){for(var s,l,c=0,m=h.length;m>c;c++){s=h[c].name,l=h[c].key,this._iconList.push(s),this._featureTitle[s]=A[l].title[s]||A[l].title,A[l].icon&&(this._featureIcon[s]=A[l].icon[s]||A[l].icon),A[l].color&&(this._featureColor[s]=A[l].color[s]||A[l].color),A[l].option&&(this._featureOption[s]=A[l].option[s]||A[l].option)}this._itemGroupLocation=this._getItemGroupLocation(),this._buildBackground(),this._buildItem();for(var c=0,m=this.shapeList.length;m>c;c++){this.zr.addShape(this.shapeList[c])}this._iconShapeMap.mark&&(this._iconDisable(this._iconShapeMap.markUndo),this._iconDisable(this._iconShapeMap.markClear)),this._iconShapeMap.dataZoomReset&&0===this._zoomQueue.length&&this._iconDisable(this._iconShapeMap.dataZoomReset)}},_buildItem:function(){var I,B,E,F,H=this.option.toolbox,C=this._iconList.length,A=this._itemGroupLocation.x,e=this._itemGroupLocation.y,a=H.itemSize,D=H.itemGap,G=H.color instanceof Array?H.color:[H.color],J=this.getFont(H.textStyle);"horizontal"===H.orient?(B=this._itemGroupLocation.y/this.zr.getHeight()<0.5?"bottom":"top",E=this._itemGroupLocation.x/this.zr.getWidth()<0.5?"left":"right",F=this._itemGroupLocation.y/this.zr.getHeight()<0.5?"top":"bottom"):B=this._itemGroupLocation.x/this.zr.getWidth()<0.5?"right":"left",this._iconShapeMap={};for(var L=this,K=0;C>K;K++){switch(I={type:"icon",zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:A,y:e,width:a,height:a,iconType:this._iconList[K],lineWidth:1,strokeColor:this._featureColor[this._iconList[K]]||G[K%G.length],brushType:"stroke"},highlightStyle:{lineWidth:1,text:H.showTitle?this._featureTitle[this._iconList[K]]:void 0,textFont:J,textPosition:B,strokeColor:this._featureColor[this._iconList[K]]||G[K%G.length]},hoverable:!0,clickable:!0},this._featureIcon[this._iconList[K]]&&(I.style.image=this._featureIcon[this._iconList[K]].replace(new RegExp("^image:\\/\\/"),""),I.style.opacity=0.8,I.highlightStyle.opacity=1,I.type="image"),"horizontal"===H.orient&&(0===K&&"left"===E&&(I.highlightStyle.textPosition="specific",I.highlightStyle.textAlign=E,I.highlightStyle.textBaseline=F,I.highlightStyle.textX=A,I.highlightStyle.textY="top"===F?e+a+10:e-10),K===C-1&&"right"===E&&(I.highlightStyle.textPosition="specific",I.highlightStyle.textAlign=E,I.highlightStyle.textBaseline=F,I.highlightStyle.textX=A+a,I.highlightStyle.textY="top"===F?e+a+10:e-10)),this._iconList[K]){case"mark":I.onclick=L._onMark;break;case"markUndo":I.onclick=L._onMarkUndo;break;case"markClear":I.onclick=L._onMarkClear;break;case"dataZoom":I.onclick=L._onDataZoom;break;case"dataZoomReset":I.onclick=L._onDataZoomReset;break;case"dataView":if(!this._dataView){var r=j("./dataView");this._dataView=new r(this.ecTheme,this.messageCenter,this.zr,this.option,this.myChart)}I.onclick=L._onDataView;break;case"restore":I.onclick=L._onRestore;break;case"saveAsImage":I.onclick=L._onSaveAsImage;break;default:this._iconList[K].match("Chart")?(I._name=this._iconList[K].replace("Chart",""),I.onclick=L._onMagicType):I.onclick=L._onCustomHandler}"icon"===I.type?I=new x(I):"image"===I.type&&(I=new b(I)),this.shapeList.push(I),this._iconShapeMap[this._iconList[K]]=I,"horizontal"===H.orient?A+=a+D:e+=a+D}},_buildBackground:function(){var a=this.option.toolbox,c=this.reformCssArray(this.option.toolbox.padding);this.shapeList.push(new w({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this._itemGroupLocation.x-c[3],y:this._itemGroupLocation.y-c[0],width:this._itemGroupLocation.width+c[3]+c[1],height:this._itemGroupLocation.height+c[0]+c[2],brushType:0===a.borderWidth?"fill":"both",color:a.backgroundColor,strokeColor:a.borderColor,lineWidth:a.borderWidth}}))},_getItemGroupLocation:function(){var A=this.option.toolbox,I=this.reformCssArray(this.option.toolbox.padding),C=this._iconList.length,E=A.itemGap,c=A.itemSize,F=0,G=0;"horizontal"===A.orient?(F=(c+E)*C-E,G=c):(G=(c+E)*C-E,F=c);var H,D=this.zr.getWidth();switch(A.x){case"center":H=Math.floor((D-F)/2);break;case"left":H=I[3]+A.borderWidth;break;case"right":H=D-F-I[1]-A.borderWidth;break;default:H=A.x-0,H=isNaN(H)?0:H}var B,m=this.zr.getHeight();switch(A.y){case"top":B=I[0]+A.borderWidth;break;case"bottom":B=m-G-I[2]-A.borderWidth;break;case"center":B=Math.floor((m-G)/2);break;default:B=A.y-0,B=isNaN(B)?0:B}return{x:H,y:B,width:F,height:G}},__onmousemove:function(a){this._marking&&(this._markShape.style.xEnd=g.getX(a.event),this._markShape.style.yEnd=g.getY(a.event),this.zr.addHoverShape(this._markShape)),this._zooming&&(this._zoomShape.style.width=g.getX(a.event)-this._zoomShape.style.x,this._zoomShape.style.height=g.getY(a.event)-this._zoomShape.style.y,this.zr.addHoverShape(this._zoomShape),this.dom.style.cursor="crosshair",g.stop(a.event)),this._zoomStart&&"pointer"!=this.dom.style.cursor&&"move"!=this.dom.style.cursor&&(this.dom.style.cursor="crosshair")},__onmousedown:function(a){if(!a.target){this._zooming=!0;var h=g.getX(a.event),c=g.getY(a.event),d=this.option.dataZoom||{};return this._zoomShape=new w({zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:h,y:c,width:1,height:1,brushType:"both"},highlightStyle:{lineWidth:2,color:d.fillerColor||y.dataZoom.fillerColor,strokeColor:d.handleColor||y.dataZoom.handleColor,brushType:"both"}}),this.zr.addHoverShape(this._zoomShape),!0}},__onmouseup:function(){if(!this._zoomShape||Math.abs(this._zoomShape.style.width)<10||Math.abs(this._zoomShape.style.height)<10){return this._zooming=!1,!0}if(this._zooming&&this.component.dataZoom){this._zooming=!1;var a=this.component.dataZoom.rectZoom(this._zoomShape.style);a&&(this._zoomQueue.push({start:a.start,end:a.end,start2:a.start2,end2:a.end2}),this._iconEnable(this._iconShapeMap.dataZoomReset),this.zr.refreshNextFrame())}return !0},__onclick:function(a){if(!a.target){if(this._marking){this._marking=!1,this._markShapeList.push(this._markShape),this._iconEnable(this._iconShapeMap.markUndo),this._iconEnable(this._iconShapeMap.markClear),this.zr.addShape(this._markShape),this.zr.refreshNextFrame()}else{if(this._markStart){this._marking=!0;var d=g.getX(a.event),c=g.getY(a.event);this._markShape=new v({zlevel:this.getZlevelBase(),z:this.getZBase(),style:{xStart:d,yStart:c,xEnd:d,yEnd:c,lineWidth:this.query(this.option,"toolbox.feature.mark.lineStyle.width"),strokeColor:this.query(this.option,"toolbox.feature.mark.lineStyle.color"),lineType:this.query(this.option,"toolbox.feature.mark.lineStyle.type")}}),this.zr.addHoverShape(this._markShape)}}}},__onMark:function(a){var d=a.target;if(this._marking||this._markStart){this._resetMark(),this.zr.refreshNextFrame()}else{this._resetZoom(),this.zr.modShape(d.id,{style:{strokeColor:this._enableColor}}),this.zr.refreshNextFrame(),this._markStart=!0;var c=this;setTimeout(function(){c.zr&&c.zr.on(k.EVENT.CLICK,c._onclick)&&c.zr.on(k.EVENT.MOUSEMOVE,c._onmousemove)},10)}return !0},__onMarkUndo:function(){if(this._marking){this._marking=!1}else{var a=this._markShapeList.length;if(a>=1){var c=this._markShapeList[a-1];this.zr.delShape(c.id),this.zr.refreshNextFrame(),this._markShapeList.pop(),1===a&&(this._iconDisable(this._iconShapeMap.markUndo),this._iconDisable(this._iconShapeMap.markClear))}}return !0},__onMarkClear:function(){this._marking&&(this._marking=!1);var a=this._markShapeList.length;if(a>0){for(;a--;){this.zr.delShape(this._markShapeList.pop().id)}this._iconDisable(this._iconShapeMap.markUndo),this._iconDisable(this._iconShapeMap.markClear),this.zr.refreshNextFrame()}return !0},__onDataZoom:function(a){var d=a.target;if(this._zooming||this._zoomStart){this._resetZoom(),this.zr.refreshNextFrame(),this.dom.style.cursor="default"}else{this._resetMark(),this.zr.modShape(d.id,{style:{strokeColor:this._enableColor}}),this.zr.refreshNextFrame(),this._zoomStart=!0;var c=this;setTimeout(function(){c.zr&&c.zr.on(k.EVENT.MOUSEDOWN,c._onmousedown)&&c.zr.on(k.EVENT.MOUSEUP,c._onmouseup)&&c.zr.on(k.EVENT.MOUSEMOVE,c._onmousemove)},10),this.dom.style.cursor="crosshair"}return !0},__onDataZoomReset:function(){return this._zooming&&(this._zooming=!1),this._zoomQueue.pop(),this._zoomQueue.length>0?this.component.dataZoom.absoluteZoom(this._zoomQueue[this._zoomQueue.length-1]):(this.component.dataZoom.rectZoom(),this._iconDisable(this._iconShapeMap.dataZoomReset),this.zr.refreshNextFrame()),!0},_resetMark:function(){this._marking=!1,this._markStart&&(this._markStart=!1,this._iconShapeMap.mark&&this.zr.modShape(this._iconShapeMap.mark.id,{style:{strokeColor:this._iconShapeMap.mark.highlightStyle.strokeColor}}),this.zr.un(k.EVENT.CLICK,this._onclick),this.zr.un(k.EVENT.MOUSEMOVE,this._onmousemove))},_resetZoom:function(){this._zooming=!1,this._zoomStart&&(this._zoomStart=!1,this._iconShapeMap.dataZoom&&this.zr.modShape(this._iconShapeMap.dataZoom.id,{style:{strokeColor:this._iconShapeMap.dataZoom.highlightStyle.strokeColor}}),this.zr.un(k.EVENT.MOUSEDOWN,this._onmousedown),this.zr.un(k.EVENT.MOUSEUP,this._onmouseup),this.zr.un(k.EVENT.MOUSEMOVE,this._onmousemove))},_iconDisable:function(a){"image"!=a.type?this.zr.modShape(a.id,{hoverable:!1,clickable:!1,style:{strokeColor:this._disableColor}}):this.zr.modShape(a.id,{hoverable:!1,clickable:!1,style:{opacity:0.3}})},_iconEnable:function(a){"image"!=a.type?this.zr.modShape(a.id,{hoverable:!0,clickable:!0,style:{strokeColor:a.highlightStyle.strokeColor}}):this.zr.modShape(a.id,{hoverable:!0,clickable:!0,style:{opacity:0.8}})},__onDataView:function(){return this._dataView.show(this.option),!0},__onRestore:function(){return this._resetMark(),this._resetZoom(),this.messageCenter.dispatch(y.EVENT.RESTORE,null,null,this.myChart),!0},__onSaveAsImage:function(){var d=this.option.toolbox.feature.saveAsImage,m=d.type||"png";"png"!=m&&"jpeg"!=m&&(m="png");var h;h=this.myChart.isConnected()?this.myChart.getConnectedDataURL(m):this.zr.toDataURL("image/"+m,this.option.backgroundColor&&"rgba(0,0,0,0)"===this.option.backgroundColor.replace(" ","")?"#fff":this.option.backgroundColor);var l=document.createElement("div");l.id="__echarts_download_wrap__",l.style.cssText="position:fixed;z-index:99999;display:block;top:0;left:0;background-color:rgba(33,33,33,0.5);text-align:center;width:100%;height:100%;line-height:"+document.documentElement.clientHeight+"px;";var c=document.createElement("a");c.href=h,c.setAttribute("download",(d.name?d.name:this.option.title&&(this.option.title.text||this.option.title.subtext)?this.option.title.text||this.option.title.subtext:"ECharts")+"."+m),c.innerHTML='<img style="vertical-align:middle" src="'+h+'" title="'+(window.ActiveXObject||"ActiveXObject" in window?"右键->图片另存为":d.lang?d.lang[0]:"点击保存")+'"/>',l.appendChild(c),document.body.appendChild(l),c=null,l=null,setTimeout(function(){var a=document.getElementById("__echarts_download_wrap__");a&&(a.onclick=function(){var i=document.getElementById("__echarts_download_wrap__");i.onclick=null,i.innerHTML="",document.body.removeChild(i),i=null},a=null)},500)},__onMagicType:function(a){this._resetMark();var c=a.target._name;return this._magicType[c]||(this._magicType[c]=!0,c===y.CHART_TYPE_LINE?this._magicType[y.CHART_TYPE_BAR]=!1:c===y.CHART_TYPE_BAR&&(this._magicType[y.CHART_TYPE_LINE]=!1),c===y.CHART_TYPE_PIE?this._magicType[y.CHART_TYPE_FUNNEL]=!1:c===y.CHART_TYPE_FUNNEL&&(this._magicType[y.CHART_TYPE_PIE]=!1),c===y.CHART_TYPE_FORCE?this._magicType[y.CHART_TYPE_CHORD]=!1:c===y.CHART_TYPE_CHORD&&(this._magicType[y.CHART_TYPE_FORCE]=!1),c===f?this._magicType[u]=!1:c===u&&(this._magicType[f]=!1),this.messageCenter.dispatch(y.EVENT.MAGIC_TYPE_CHANGED,a.event,{magicType:this._magicType},this.myChart)),!0},setMagicType:function(a){this._resetMark(),this._magicType=a,!this._isSilence&&this.messageCenter.dispatch(y.EVENT.MAGIC_TYPE_CHANGED,null,{magicType:this._magicType},this.myChart)},__onCustomHandler:function(a){var d=a.target.style.iconType,c=this.option.toolbox.feature[d].onclick;"function"==typeof c&&c.call(this,this.option)},reset:function(m,G){if(G&&this.clear(),this.query(m,"toolbox.show")&&this.query(m,"toolbox.feature.magicType.show")){var B=m.toolbox.feature.magicType.type,C=B.length;for(this._magicMap={};C--;){this._magicMap[B[C]]=!0}C=m.series.length;for(var c,D;C--;){c=m.series[C].type,this._magicMap[c]&&(D=m.xAxis instanceof Array?m.xAxis[m.series[C].xAxisIndex||0]:m.xAxis,D&&"category"===(D.type||"category")&&(D.__boundaryGap=null!=D.boundaryGap?D.boundaryGap:!0),D=m.yAxis instanceof Array?m.yAxis[m.series[C].yAxisIndex||0]:m.yAxis,D&&"category"===D.type&&(D.__boundaryGap=null!=D.boundaryGap?D.boundaryGap:!0),m.series[C].__type=c,m.series[C].__itemStyle=q.clone(m.series[C].itemStyle||{})),(this._magicMap[f]||this._magicMap[u])&&(m.series[C].__stack=m.series[C].stack)}}this._magicType=G?{}:this._magicType||{};for(var E in this._magicType){if(this._magicType[E]){this.option=m,this.getMagicOption();break}}var F=m.dataZoom;if(F&&F.show){var A=null!=F.start&&F.start>=0&&F.start<=100?F.start:0,l=null!=F.end&&F.end>=0&&F.end<=100?F.end:100;A>l&&(A+=l,l=A-l,A-=l),this._zoomQueue=[{start:A,end:l,start2:0,end2:100}]}else{this._zoomQueue=[]}},getMagicOption:function(){var d,m;if(this._magicType[y.CHART_TYPE_LINE]||this._magicType[y.CHART_TYPE_BAR]){for(var h=this._magicType[y.CHART_TYPE_LINE]?!1:!0,l=0,c=this.option.series.length;c>l;l++){m=this.option.series[l].type,(m==y.CHART_TYPE_LINE||m==y.CHART_TYPE_BAR)&&(d=this.option.xAxis instanceof Array?this.option.xAxis[this.option.series[l].xAxisIndex||0]:this.option.xAxis,d&&"category"===(d.type||"category")&&(d.boundaryGap=h?!0:d.__boundaryGap),d=this.option.yAxis instanceof Array?this.option.yAxis[this.option.series[l].yAxisIndex||0]:this.option.yAxis,d&&"category"===d.type&&(d.boundaryGap=h?!0:d.__boundaryGap))}this._defaultMagic(y.CHART_TYPE_LINE,y.CHART_TYPE_BAR)}if(this._defaultMagic(y.CHART_TYPE_CHORD,y.CHART_TYPE_FORCE),this._defaultMagic(y.CHART_TYPE_PIE,y.CHART_TYPE_FUNNEL),this._magicType[f]||this._magicType[u]){for(var l=0,c=this.option.series.length;c>l;l++){this._magicType[f]?(this.option.series[l].stack="_ECHARTS_STACK_KENER_2014_",m=f):this._magicType[u]&&(this.option.series[l].stack=null,m=u),this._featureOption[m+"Chart"]&&q.merge(this.option.series[l],this._featureOption[m+"Chart"]||{},!0)}}return this.option},_defaultMagic:function(d,m){if(this._magicType[d]||this._magicType[m]){for(var h=0,l=this.option.series.length;l>h;h++){var c=this.option.series[h].type;(c==d||c==m)&&(this.option.series[h].type=this._magicType[d]?d:m,this.option.series[h].itemStyle=q.clone(this.option.series[h].__itemStyle),c=this.option.series[h].type,this._featureOption[c+"Chart"]&&q.merge(this.option.series[h],this._featureOption[c+"Chart"]||{},!0))}}},silence:function(a){this._isSilence=a},resize:function(){this._resetMark(),this.clear(),this.option&&this.option.toolbox&&this.option.toolbox.show&&this._buildShape(),this._dataView&&this._dataView.resize()},hideDataView:function(){this._dataView&&this._dataView.hide()},clear:function(a){this.zr&&(this.zr.delShape(this.shapeList),this.shapeList=[],a||(this.zr.delShape(this._markShapeList),this._markShapeList=[]))},onbeforDispose:function(){this._dataView&&(this._dataView.dispose(),this._dataView=null),this._markShapeList=null},refresh:function(a){a&&(this._resetMark(),this._resetZoom(),a.toolbox=this.reformOption(a.toolbox),this.option=a,this.clear(!0),a.toolbox.show&&this._buildShape(),this.hideDataView())}},q.inherits(z,p),j("../component").define("toolbox",z),z}),define("echarts/component",[],function(){var a={},b={};return a.define=function(c,d){return b[c]=d,a},a.get=function(c){return b[c]},a}),define("echarts/component/title",["require","./base","zrender/shape/Text","zrender/shape/Rectangle","../config","zrender/tool/util","zrender/tool/area","zrender/tool/color","../component"],function(c){function m(l,r,p,i,q){d.call(this,l,r,p,i,q),this.refresh(i)}var d=c("./base"),g=c("zrender/shape/Text"),b=c("zrender/shape/Rectangle"),h=c("../config");h.title={zlevel:0,z:6,show:!0,text:"",subtext:"",x:"left",y:"top",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:5,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}};var j=c("zrender/tool/util"),k=c("zrender/tool/area"),f=c("zrender/tool/color");return m.prototype={type:h.COMPONENT_TYPE_TITLE,_buildShape:function(){if(this.titleOption.show){this._itemGroupLocation=this._getItemGroupLocation(),this._buildBackground(),this._buildItem();for(var a=0,i=this.shapeList.length;i>a;a++){this.zr.addShape(this.shapeList[a])}}},_buildItem:function(){var v=this.titleOption.text,D=this.titleOption.link,x=this.titleOption.target,l=this.titleOption.subtext,z=this.titleOption.sublink,B=this.titleOption.subtarget,C=this.getFont(this.titleOption.textStyle),w=this.getFont(this.titleOption.subtextStyle),q=this._itemGroupLocation.x,n=this._itemGroupLocation.y,y=this._itemGroupLocation.width,A=this._itemGroupLocation.height,E={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{y:n,color:this.titleOption.textStyle.color,text:v,textFont:C,textBaseline:"top"},highlightStyle:{color:f.lift(this.titleOption.textStyle.color,1),brushType:"fill"},hoverable:!1};D&&(E.hoverable=!0,E.clickable=!0,E.onclick=function(){x&&"self"==x?window.location=D:window.open(D)});var F={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{y:n+A,color:this.titleOption.subtextStyle.color,text:l,textFont:w,textBaseline:"bottom"},highlightStyle:{color:f.lift(this.titleOption.subtextStyle.color,1),brushType:"fill"},hoverable:!1};switch(z&&(F.hoverable=!0,F.clickable=!0,F.onclick=function(){B&&"self"==B?window.location=z:window.open(z)}),this.titleOption.x){case"center":E.style.x=F.style.x=q+y/2,E.style.textAlign=F.style.textAlign="center";break;case"left":E.style.x=F.style.x=q,E.style.textAlign=F.style.textAlign="left";break;case"right":E.style.x=F.style.x=q+y,E.style.textAlign=F.style.textAlign="right";break;default:q=this.titleOption.x-0,q=isNaN(q)?0:q,E.style.x=F.style.x=q}this.titleOption.textAlign&&(E.style.textAlign=F.style.textAlign=this.titleOption.textAlign),this.shapeList.push(new g(E)),""!==l&&this.shapeList.push(new g(F))},_buildBackground:function(){var a=this.reformCssArray(this.titleOption.padding);this.shapeList.push(new b({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this._itemGroupLocation.x-a[3],y:this._itemGroupLocation.y-a[0],width:this._itemGroupLocation.width+a[3]+a[1],height:this._itemGroupLocation.height+a[0]+a[2],brushType:0===this.titleOption.borderWidth?"fill":"both",color:this.titleOption.backgroundColor,strokeColor:this.titleOption.borderColor,lineWidth:this.titleOption.borderWidth}}))},_getItemGroupLocation:function(){var u,B=this.reformCssArray(this.titleOption.padding),w=this.titleOption.text,y=this.titleOption.subtext,p=this.getFont(this.titleOption.textStyle),z=this.getFont(this.titleOption.subtextStyle),A=Math.max(k.getTextWidth(w,p),k.getTextWidth(y,z)),x=k.getTextHeight(w,p)+(""===y?0:this.titleOption.itemGap+k.getTextHeight(y,z)),v=this.zr.getWidth();switch(this.titleOption.x){case"center":u=Math.floor((v-A)/2);break;case"left":u=B[3]+this.titleOption.borderWidth;break;case"right":u=v-A-B[1]-this.titleOption.borderWidth;break;default:u=this.titleOption.x-0,u=isNaN(u)?0:u}var s,q=this.zr.getHeight();switch(this.titleOption.y){case"top":s=B[0]+this.titleOption.borderWidth;break;case"bottom":s=q-x-B[2]-this.titleOption.borderWidth;break;case"center":s=Math.floor((q-x)/2);break;default:s=this.titleOption.y-0,s=isNaN(s)?0:s}return{x:u,y:s,width:A,height:x}},refresh:function(a){a&&(this.option=a,this.option.title=this.reformOption(this.option.title),this.titleOption=this.option.title,this.titleOption.textStyle=this.getTextStyle(this.titleOption.textStyle),this.titleOption.subtextStyle=this.getTextStyle(this.titleOption.subtextStyle)),this.clear(),this._buildShape()}},j.inherits(m,d),c("../component").define("title",m),m}),define("echarts/component/tooltip",["require","./base","../util/shape/Cross","zrender/shape/Line","zrender/shape/Rectangle","../config","../util/ecData","zrender/config","zrender/tool/event","zrender/tool/area","zrender/tool/color","zrender/tool/util","zrender/shape/Base","../component"],function(j){function C(a,m,d,h,i){q.call(this,a,m,d,h,i),this.dom=i.dom;var c=this;c._onmousemove=function(l){return c.__onmousemove(l)},c._onglobalout=function(l){return c.__onglobalout(l)},this.zr.on(k.EVENT.MOUSEMOVE,c._onmousemove),this.zr.on(k.EVENT.GLOBALOUT,c._onglobalout),c._hide=function(l){return c.__hide(l)},c._tryShow=function(l){return c.__tryShow(l)},c._refixed=function(l){return c.__refixed(l)},c._setContent=function(l,n){return c.__setContent(l,n)},this._tDom=this._tDom||document.createElement("div"),this._tDom.onselectstart=function(){return !1},this._tDom.onmouseover=function(){c._mousein=!0},this._tDom.onmouseout=function(){c._mousein=!1},this._tDom.className="echarts-tooltip",this._tDom.style.position="absolute",this.hasAppend=!1,this._axisLineShape&&this.zr.delShape(this._axisLineShape.id),this._axisLineShape=new b({zlevel:this.getZlevelBase(),z:this.getZBase(),invisible:!0,hoverable:!1}),this.shapeList.push(this._axisLineShape),this.zr.addShape(this._axisLineShape),this._axisShadowShape&&this.zr.delShape(this._axisShadowShape.id),this._axisShadowShape=new b({zlevel:this.getZlevelBase(),z:1,invisible:!0,hoverable:!1}),this.shapeList.push(this._axisShadowShape),this.zr.addShape(this._axisShadowShape),this._axisCrossShape&&this.zr.delShape(this._axisCrossShape.id),this._axisCrossShape=new x({zlevel:this.getZlevelBase(),z:this.getZBase(),invisible:!0,hoverable:!1}),this.shapeList.push(this._axisCrossShape),this.zr.addShape(this._axisCrossShape),this.showing=!1,this.refresh(h)}var q=j("./base"),x=j("../util/shape/Cross"),b=j("zrender/shape/Line"),y=j("zrender/shape/Rectangle"),A=new y({}),B=j("../config");B.tooltip={zlevel:1,z:8,show:!0,showContent:!0,trigger:"item",islandFormatter:"{a} <br/>{b} : {c}",showDelay:20,hideDelay:100,transitionDuration:0.4,enterable:!1,backgroundColor:"rgba(0,0,0,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,axisPointer:{type:"line",lineStyle:{color:"#48b",width:2,type:"solid"},crossStyle:{color:"#1e90ff",width:1,type:"dashed"},shadowStyle:{color:"rgba(150,150,150,0.3)",width:"auto",type:"default"}},textStyle:{color:"#fff"}};var v=j("../util/ecData"),k=j("zrender/config"),g=j("zrender/tool/event"),f=j("zrender/tool/area"),w=j("zrender/tool/color"),z=j("zrender/tool/util"),D=j("zrender/shape/Base");return C.prototype={type:B.COMPONENT_TYPE_TOOLTIP,_gCssText:"position:absolute;display:block;border-style:solid;white-space:nowrap;",_style:function(d){if(!d){return""}var m=[];if(d.transitionDuration){var h="left "+d.transitionDuration+"s,top "+d.transitionDuration+"s";m.push("transition:"+h),m.push("-moz-transition:"+h),m.push("-webkit-transition:"+h),m.push("-o-transition:"+h)}d.backgroundColor&&(m.push("background-Color:"+w.toHex(d.backgroundColor)),m.push("filter:alpha(opacity=70)"),m.push("background-Color:"+d.backgroundColor)),null!=d.borderWidth&&m.push("border-width:"+d.borderWidth+"px"),null!=d.borderColor&&m.push("border-color:"+d.borderColor),null!=d.borderRadius&&(m.push("border-radius:"+d.borderRadius+"px"),m.push("-moz-border-radius:"+d.borderRadius+"px"),m.push("-webkit-border-radius:"+d.borderRadius+"px"),m.push("-o-border-radius:"+d.borderRadius+"px"));var l=d.textStyle;l&&(l.color&&m.push("color:"+l.color),l.decoration&&m.push("text-decoration:"+l.decoration),l.align&&m.push("text-align:"+l.align),l.fontFamily&&m.push("font-family:"+l.fontFamily),l.fontSize&&m.push("font-size:"+l.fontSize+"px"),l.fontSize&&m.push("line-height:"+Math.round(3*l.fontSize/2)+"px"),l.fontStyle&&m.push("font-style:"+l.fontStyle),l.fontWeight&&m.push("font-weight:"+l.fontWeight));var c=d.padding;return null!=c&&(c=this.reformCssArray(c),m.push("padding:"+c[0]+"px "+c[1]+"px "+c[2]+"px "+c[3]+"px")),m=m.join(";")+";"},__hide:function(){this._lastDataIndex=-1,this._lastSeriesIndex=-1,this._lastItemTriggerId=-1,this._tDom&&(this._tDom.style.display="none");var a=!1;this._axisLineShape.invisible||(this._axisLineShape.invisible=!0,this.zr.modShape(this._axisLineShape.id),a=!0),this._axisShadowShape.invisible||(this._axisShadowShape.invisible=!0,this.zr.modShape(this._axisShadowShape.id),a=!0),this._axisCrossShape.invisible||(this._axisCrossShape.invisible=!0,this.zr.modShape(this._axisCrossShape.id),a=!0),this._lastTipShape&&this._lastTipShape.tipShape.length>0&&(this.zr.delShape(this._lastTipShape.tipShape),this._lastTipShape=!1,this.shapeList.length=2),a&&this.zr.refreshNextFrame(),this.showing=!1},_show:function(d,p,h,l){var c=this._tDom.offsetHeight,m=this._tDom.offsetWidth;d&&("function"==typeof d&&(d=d([p,h])),d instanceof Array&&(p=d[0],h=d[1])),p+m>this._zrWidth&&(p-=m+40),h+c>this._zrHeight&&(h-=c-20),20>h&&(h=0),this._tDom.style.cssText=this._gCssText+this._defaultCssText+(l?l:"")+"left:"+p+"px;top:"+h+"px;",(10>c||10>m)&&setTimeout(this._refixed,20),this.showing=!0},__refixed:function(){if(this._tDom){var a="",d=this._tDom.offsetHeight,c=this._tDom.offsetWidth;this._tDom.offsetLeft+c>this._zrWidth&&(a+="left:"+(this._zrWidth-c-20)+"px;"),this._tDom.offsetTop+d>this._zrHeight&&(a+="top:"+(this._zrHeight-d-10)+"px;"),""!==a&&(this._tDom.style.cssText+=a)}},__tryShow:function(){var a,h;if(this._curTarget){if("island"===this._curTarget._type&&this.option.tooltip.show){return void this._showItemTrigger()}var c=v.get(this._curTarget,"series"),d=v.get(this._curTarget,"data");a=this.deepQuery([d,c,this.option],"tooltip.show"),null!=c&&null!=d&&a?(h=this.deepQuery([d,c,this.option],"tooltip.trigger"),"axis"===h?this._showAxisTrigger(c.xAxisIndex,c.yAxisIndex,v.get(this._curTarget,"dataIndex")):this._showItemTrigger()):(clearTimeout(this._hidingTicket),clearTimeout(this._showingTicket),this._hidingTicket=setTimeout(this._hide,this._hideDelay))}else{this._findPolarTrigger()||this._findAxisTrigger()}},_findAxisTrigger:function(){if(!this.component.xAxis||!this.component.yAxis){return void (this._hidingTicket=setTimeout(this._hide,this._hideDelay))}for(var d,m,h=this.option.series,l=0,c=h.length;c>l;l++){if("axis"===this.deepQuery([h[l],this.option],"tooltip.trigger")){return d=h[l].xAxisIndex||0,m=h[l].yAxisIndex||0,this.component.xAxis.getAxis(d)&&this.component.xAxis.getAxis(d).type===B.COMPONENT_TYPE_AXIS_CATEGORY?void this._showAxisTrigger(d,m,this._getNearestDataIndex("x",this.component.xAxis.getAxis(d))):this.component.yAxis.getAxis(m)&&this.component.yAxis.getAxis(m).type===B.COMPONENT_TYPE_AXIS_CATEGORY?void this._showAxisTrigger(d,m,this._getNearestDataIndex("y",this.component.yAxis.getAxis(m))):void this._showAxisTrigger(d,m,-1)}}"cross"===this.option.tooltip.axisPointer.type&&this._showAxisTrigger(-1,-1,-1)},_findPolarTrigger:function(){if(!this.component.polar){return !1}var a,h=g.getX(this._event),c=g.getY(this._event),d=this.component.polar.getNearestIndex([h,c]);return d?(a=d.valueIndex,d=d.polarIndex):d=-1,-1!=d?this._showPolarTrigger(d,a):!1},_getNearestDataIndex:function(u,M){var F=-1,I=g.getX(this._event),d=g.getY(this._event);if("x"===u){for(var J,K,L=this.component.grid.getXend(),G=M.getCoordByIndex(F);L>G&&(K=G,I>=G);){J=G,G=M.getCoordByIndex(++F)}return 0>=F?F=0:K-I>=I-J?F-=1:null==M.getNameByIndex(F)&&(F-=1),F}for(var E,p,H=this.component.grid.getY(),G=M.getCoordByIndex(F);G>H&&(E=G,G>=d);){p=G,G=M.getCoordByIndex(++F)}return 0>=F?F=0:d-E>=p-d?F-=1:null==M.getNameByIndex(F)&&(F-=1),F},_showAxisTrigger:function(G,R,K){if(!this._event.connectTrigger&&this.messageCenter.dispatch(B.EVENT.TOOLTIP_IN_GRID,this._event,null,this.myChart),null==this.component.xAxis||null==this.component.yAxis||null==G||null==R){return clearTimeout(this._hidingTicket),clearTimeout(this._showingTicket),void (this._hidingTicket=setTimeout(this._hide,this._hideDelay))}var N,s,O,Q,L=this.option.series,J=[],F=[],M="";if("axis"===this.option.tooltip.trigger){if(!this.option.tooltip.show){return}s=this.option.tooltip.formatter,O=this.option.tooltip.position}var P,S,W=-1!=G&&this.component.xAxis.getAxis(G).type===B.COMPONENT_TYPE_AXIS_CATEGORY?"xAxis":-1!=R&&this.component.yAxis.getAxis(R).type===B.COMPONENT_TYPE_AXIS_CATEGORY?"yAxis":!1;if(W){var T="xAxis"==W?G:R;N=this.component[W].getAxis(T);for(var I=0,H=L.length;H>I;I++){this._isSelected(L[I].name)&&L[I][W+"Index"]===T&&"axis"===this.deepQuery([L[I],this.option],"tooltip.trigger")&&(Q=this.query(L[I],"tooltip.showContent")||Q,s=this.query(L[I],"tooltip.formatter")||s,O=this.query(L[I],"tooltip.position")||O,M+=this._style(this.query(L[I],"tooltip")),null!=L[I].stack&&"xAxis"==W?(J.unshift(L[I]),F.unshift(I)):(J.push(L[I]),F.push(I)))}this.messageCenter.dispatch(B.EVENT.TOOLTIP_HOVER,this._event,{seriesIndex:F,dataIndex:K},this.myChart);var Y;"xAxis"==W?(P=this.subPixelOptimize(N.getCoordByIndex(K),this._axisLineWidth),S=g.getY(this._event),Y=[P,this.component.grid.getY(),P,this.component.grid.getYend()]):(P=g.getX(this._event),S=this.subPixelOptimize(N.getCoordByIndex(K),this._axisLineWidth),Y=[this.component.grid.getX(),S,this.component.grid.getXend(),S]),this._styleAxisPointer(J,Y[0],Y[1],Y[2],Y[3],N.getGap(),P,S)}else{P=g.getX(this._event),S=g.getY(this._event),this._styleAxisPointer(L,this.component.grid.getX(),S,this.component.grid.getXend(),S,0,P,S),K>=0?this._showItemTrigger(!0):(clearTimeout(this._hidingTicket),clearTimeout(this._showingTicket),this._tDom.style.display="none")}if(J.length>0){if(this._lastItemTriggerId=-1,this._lastDataIndex!=K||this._lastSeriesIndex!=F[0]){this._lastDataIndex=K,this._lastSeriesIndex=F[0];var E,d;if("function"==typeof s){for(var X=[],I=0,H=J.length;H>I;I++){E=J[I].data[K],d=this.getDataFromOption(E,"-"),X.push({seriesIndex:F[I],seriesName:J[I].name||"",series:J[I],dataIndex:K,data:E,name:N.getNameByIndex(K),value:d,0:J[I].name||"",1:N.getNameByIndex(K),2:d,3:E})}this._curTicket="axis:"+K,this._tDom.innerHTML=s.call(this.myChart,X,this._curTicket,this._setContent)}else{if("string"==typeof s){this._curTicket=0/0,s=s.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}");for(var I=0,H=J.length;H>I;I++){s=s.replace("{a"+I+"}",this._encodeHTML(J[I].name||"")),s=s.replace("{b"+I+"}",this._encodeHTML(N.getNameByIndex(K))),E=J[I].data[K],E=this.getDataFromOption(E,"-"),s=s.replace("{c"+I+"}",E instanceof Array?E:this.numAddCommas(E))}this._tDom.innerHTML=s}else{this._curTicket=0/0,s=this._encodeHTML(N.getNameByIndex(K));for(var I=0,H=J.length;H>I;I++){s+="<br/>"+this._encodeHTML(J[I].name||"")+" : ",E=J[I].data[K],E=this.getDataFromOption(E,"-"),s+=E instanceof Array?E:this.numAddCommas(E)}this._tDom.innerHTML=s}}}if(Q===!1||!this.option.tooltip.showContent){return}this.hasAppend||(this._tDom.style.left=this._zrWidth/2+"px",this._tDom.style.top=this._zrHeight/2+"px",this.dom.firstChild.appendChild(this._tDom),this.hasAppend=!0),this._show(O,P+10,S+10,M)}},_showPolarTrigger:function(F,R){if(null==this.component.polar||null==F||null==R||0>R){return !1}var J,M,d,N=this.option.series,P=[],Q=[],K="";if("axis"===this.option.tooltip.trigger){if(!this.option.tooltip.show){return !1}J=this.option.tooltip.formatter,M=this.option.tooltip.position}for(var I=this.option.polar[F].indicator[R].text,E=0,L=N.length;L>E;E++){this._isSelected(N[E].name)&&N[E].polarIndex===F&&"axis"===this.deepQuery([N[E],this.option],"tooltip.trigger")&&(d=this.query(N[E],"tooltip.showContent")||d,J=this.query(N[E],"tooltip.formatter")||J,M=this.query(N[E],"tooltip.position")||M,K+=this._style(this.query(N[E],"tooltip")),P.push(N[E]),Q.push(E))}if(P.length>0){for(var O,S,W,T=[],E=0,L=P.length;L>E;E++){O=P[E].data;for(var H=0,G=O.length;G>H;H++){S=O[H],this._isSelected(S.name)&&(S=null!=S?S:{name:"",value:{dataIndex:"-"}},W=this.getDataFromOption(S.value[R]),T.push({seriesIndex:Q[E],seriesName:P[E].name||"",series:P[E],dataIndex:R,data:S,name:S.name,indicator:I,value:W,0:P[E].name||"",1:S.name,2:W,3:I}))}}if(T.length<=0){return}if(this._lastItemTriggerId=-1,this._lastDataIndex!=R||this._lastSeriesIndex!=Q[0]){if(this._lastDataIndex=R,this._lastSeriesIndex=Q[0],"function"==typeof J){this._curTicket="axis:"+R,this._tDom.innerHTML=J.call(this.myChart,T,this._curTicket,this._setContent)}else{if("string"==typeof J){J=J.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}").replace("{d}","{d0}");for(var E=0,L=T.length;L>E;E++){J=J.replace("{a"+E+"}",this._encodeHTML(T[E].seriesName)),J=J.replace("{b"+E+"}",this._encodeHTML(T[E].name)),J=J.replace("{c"+E+"}",this.numAddCommas(T[E].value)),J=J.replace("{d"+E+"}",this._encodeHTML(T[E].indicator))}this._tDom.innerHTML=J}else{J=this._encodeHTML(T[0].name)+"<br/>"+this._encodeHTML(T[0].indicator)+" : "+this.numAddCommas(T[0].value);for(var E=1,L=T.length;L>E;E++){J+="<br/>"+this._encodeHTML(T[E].name)+"<br/>",J+=this._encodeHTML(T[E].indicator)+" : "+this.numAddCommas(T[E].value)}this._tDom.innerHTML=J}}}if(d===!1||!this.option.tooltip.showContent){return}return this.hasAppend||(this._tDom.style.left=this._zrWidth/2+"px",this._tDom.style.top=this._zrHeight/2+"px",this.dom.firstChild.appendChild(this._tDom),this.hasAppend=!0),this._show(M,g.getX(this._event),g.getY(this._event),K),!0}},_showItemTrigger:function(s){if(this._curTarget){var N,H,J,d=v.get(this._curTarget,"series"),K=v.get(this._curTarget,"seriesIndex"),M=v.get(this._curTarget,"data"),G=v.get(this._curTarget,"dataIndex"),l=v.get(this._curTarget,"name"),I=v.get(this._curTarget,"value"),L=v.get(this._curTarget,"special"),O=v.get(this._curTarget,"special2"),Q=[M,d,this.option],P="";if("island"!=this._curTarget._type){var F=s?"axis":"item";this.option.tooltip.trigger===F&&(N=this.option.tooltip.formatter,H=this.option.tooltip.position),this.query(d,"tooltip.trigger")===F&&(J=this.query(d,"tooltip.showContent")||J,N=this.query(d,"tooltip.formatter")||N,H=this.query(d,"tooltip.position")||H,P+=this._style(this.query(d,"tooltip"))),J=this.query(M,"tooltip.showContent")||J,N=this.query(M,"tooltip.formatter")||N,H=this.query(M,"tooltip.position")||H,P+=this._style(this.query(M,"tooltip"))}else{this._lastItemTriggerId=0/0,J=this.deepQuery(Q,"tooltip.showContent"),N=this.deepQuery(Q,"tooltip.islandFormatter"),H=this.deepQuery(Q,"tooltip.islandPosition")}this._lastDataIndex=-1,this._lastSeriesIndex=-1,this._lastItemTriggerId!==this._curTarget.id&&(this._lastItemTriggerId=this._curTarget.id,"function"==typeof N?(this._curTicket=(d.name||"")+":"+G,this._tDom.innerHTML=N.call(this.myChart,{seriesIndex:K,seriesName:d.name||"",series:d,dataIndex:G,data:M,name:l,value:I,percent:L,indicator:L,value2:O,indicator2:O,0:d.name||"",1:l,2:I,3:L,4:O,5:M,6:K,7:G},this._curTicket,this._setContent)):"string"==typeof N?(this._curTicket=0/0,N=N.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}"),N=N.replace("{a0}",this._encodeHTML(d.name||"")).replace("{b0}",this._encodeHTML(l)).replace("{c0}",I instanceof Array?I:this.numAddCommas(I)),N=N.replace("{d}","{d0}").replace("{d0}",L||""),N=N.replace("{e}","{e0}").replace("{e0}",v.get(this._curTarget,"special2")||""),this._tDom.innerHTML=N):(this._curTicket=0/0,this._tDom.innerHTML=d.type===B.CHART_TYPE_RADAR&&L?this._itemFormatter.radar.call(this,d,l,I,L):d.type===B.CHART_TYPE_EVENTRIVER?this._itemFormatter.eventRiver.call(this,d,l,I,M):""+(null!=d.name?this._encodeHTML(d.name)+"<br/>":"")+(""===l?"":this._encodeHTML(l)+" : ")+(I instanceof Array?I:this.numAddCommas(I))));var E=g.getX(this._event),R=g.getY(this._event);this.deepQuery(Q,"tooltip.axisPointer.show")&&this.component.grid?this._styleAxisPointer([d],this.component.grid.getX(),R,this.component.grid.getXend(),R,0,E,R):this._hide(),J!==!1&&this.option.tooltip.showContent&&(this.hasAppend||(this._tDom.style.left=this._zrWidth/2+"px",this._tDom.style.top=this._zrHeight/2+"px",this.dom.firstChild.appendChild(this._tDom),this.hasAppend=!0),this._show(H,E+20,R-20,P))}},_itemFormatter:{radar:function(d,p,h,l){var c="";c+=this._encodeHTML(""===p?d.name||"":p),c+=""===c?"":"<br />";for(var m=0;m<l.length;m++){c+=this._encodeHTML(l[m].text)+" : "+this.numAddCommas(h[m])+"<br />"}return c},chord:function(d,s,h,l,c){if(null==c){return this._encodeHTML(s)+" ("+this.numAddCommas(h)+")"}var m=this._encodeHTML(s),p=this._encodeHTML(l);return""+(null!=d.name?this._encodeHTML(d.name)+"<br/>":"")+m+" -> "+p+" ("+this.numAddCommas(h)+")<br />"+p+" -> "+m+" ("+this.numAddCommas(c)+")"},eventRiver:function(d,s,h,l){var c="";c+=this._encodeHTML(""===d.name?"":d.name+" : "),c+=this._encodeHTML(s),c+=""===c?"":"<br />",l=l.evolution;for(var m=0,p=l.length;p>m;m++){c+='<div style="padding-top:5px;">',l[m].detail&&(l[m].detail.img&&(c+='<img src="'+l[m].detail.img+'" style="float:left;width:40px;height:40px;">'),c+='<div style="margin-left:45px;">'+l[m].time+"<br/>",c+='<a href="'+l[m].detail.link+'" target="_blank">',c+=l[m].detail.text+"</a></div>",c+="</div>")}return c}},_styleAxisPointer:function(H,T,L,O,E,P,R,S){if(H.length>0){var M,K,G=this.option.tooltip.axisPointer,F=G.type,N={line:{},cross:{},shadow:{}};for(var Q in N){N[Q].color=G[Q+"Style"].color,N[Q].width=G[Q+"Style"].width,N[Q].type=G[Q+"Style"].type}for(var W=0,Y=H.length;Y>W;W++){M=H[W],K=this.query(M,"tooltip.axisPointer.type"),F=K||F,K&&(N[K].color=this.query(M,"tooltip.axisPointer."+K+"Style.color")||N[K].color,N[K].width=this.query(M,"tooltip.axisPointer."+K+"Style.width")||N[K].width,N[K].type=this.query(M,"tooltip.axisPointer."+K+"Style.type")||N[K].type)}if("line"===F){var X=N.line.width,J=T==O;this._axisLineShape.style={xStart:J?this.subPixelOptimize(T,X):T,yStart:J?L:this.subPixelOptimize(L,X),xEnd:J?this.subPixelOptimize(O,X):O,yEnd:J?E:this.subPixelOptimize(E,X),strokeColor:N.line.color,lineWidth:X,lineType:N.line.type},this._axisLineShape.invisible=!1,this.zr.modShape(this._axisLineShape.id)}else{if("cross"===F){var I=N.cross.width;this._axisCrossShape.style={brushType:"stroke",rect:this.component.grid.getArea(),x:this.subPixelOptimize(R,I),y:this.subPixelOptimize(S,I),text:("( "+this.component.xAxis.getAxis(0).getValueFromCoord(R)+" , "+this.component.yAxis.getAxis(0).getValueFromCoord(S)+" )").replace("  , "," ").replace(" ,  "," "),textPosition:"specific",strokeColor:N.cross.color,lineWidth:I,lineType:N.cross.type},this.component.grid.getXend()-R>100?(this._axisCrossShape.style.textAlign="left",this._axisCrossShape.style.textX=R+10):(this._axisCrossShape.style.textAlign="right",this._axisCrossShape.style.textX=R-10),S-this.component.grid.getY()>50?(this._axisCrossShape.style.textBaseline="bottom",this._axisCrossShape.style.textY=S-10):(this._axisCrossShape.style.textBaseline="top",this._axisCrossShape.style.textY=S+10),this._axisCrossShape.invisible=!1,this.zr.modShape(this._axisCrossShape.id)}else{"shadow"===F&&((null==N.shadow.width||"auto"===N.shadow.width||isNaN(N.shadow.width))&&(N.shadow.width=P),T===O?Math.abs(this.component.grid.getX()-T)<2?(N.shadow.width/=2,T=O+=N.shadow.width/2):Math.abs(this.component.grid.getXend()-T)<2&&(N.shadow.width/=2,T=O-=N.shadow.width/2):L===E&&(Math.abs(this.component.grid.getY()-L)<2?(N.shadow.width/=2,L=E+=N.shadow.width/2):Math.abs(this.component.grid.getYend()-L)<2&&(N.shadow.width/=2,L=E-=N.shadow.width/2)),this._axisShadowShape.style={xStart:T,yStart:L,xEnd:O,yEnd:E,strokeColor:N.shadow.color,lineWidth:N.shadow.width},this._axisShadowShape.invisible=!1,this.zr.modShape(this._axisShadowShape.id))}}this.zr.refreshNextFrame()}},__onmousemove:function(d){if(clearTimeout(this._hidingTicket),clearTimeout(this._showingTicket),!this._mousein||!this._enterable){var E=d.target,p=g.getX(d.event),s=g.getY(d.event);if(E){this._curTarget=E,this._event=d.event,this._event.zrenderX=p,this._event.zrenderY=s;var c;if(this._needAxisTrigger&&this.component.polar&&-1!=(c=this.component.polar.isInside([p,s]))){for(var u=this.option.series,r=0,m=u.length;m>r;r++){if(u[r].polarIndex===c&&"axis"===this.deepQuery([u[r],this.option],"tooltip.trigger")){this._curTarget=null;break}}}this._showingTicket=setTimeout(this._tryShow,this._showDelay)}else{this._curTarget=!1,this._event=d.event,this._event.zrenderX=p,this._event.zrenderY=s,this._needAxisTrigger&&this.component.grid&&f.isInside(A,this.component.grid.getArea(),p,s)?this._showingTicket=setTimeout(this._tryShow,this._showDelay):this._needAxisTrigger&&this.component.polar&&-1!=this.component.polar.isInside([p,s])?this._showingTicket=setTimeout(this._tryShow,this._showDelay):(!this._event.connectTrigger&&this.messageCenter.dispatch(B.EVENT.TOOLTIP_OUT_GRID,this._event,null,this.myChart),this._hidingTicket=setTimeout(this._hide,this._hideDelay))}}},__onglobalout:function(){clearTimeout(this._hidingTicket),clearTimeout(this._showingTicket),this._hidingTicket=setTimeout(this._hide,this._hideDelay)},__setContent:function(a,c){this._tDom&&(a===this._curTicket&&(this._tDom.innerHTML=c),setTimeout(this._refixed,20))},ontooltipHover:function(a,h){if(!this._lastTipShape||this._lastTipShape&&this._lastTipShape.dataIndex!=a.dataIndex){this._lastTipShape&&this._lastTipShape.tipShape.length>0&&(this.zr.delShape(this._lastTipShape.tipShape),this.shapeList.length=2);for(var c=0,d=h.length;d>c;c++){h[c].zlevel=this.getZlevelBase(),h[c].z=this.getZBase(),h[c].style=D.prototype.getHighlightStyle(h[c].style,h[c].highlightStyle),h[c].draggable=!1,h[c].hoverable=!1,h[c].clickable=!1,h[c].ondragend=null,h[c].ondragover=null,h[c].ondrop=null,this.shapeList.push(h[c]),this.zr.addShape(h[c])}this._lastTipShape={dataIndex:a.dataIndex,tipShape:h}}},ondragend:function(){this._hide()},onlegendSelected:function(a){this._selectedMap=a.selected},_setSelectedMap:function(){this._selectedMap=this.component.legend?z.clone(this.component.legend.getSelectedMap()):{}},_isSelected:function(a){return null!=this._selectedMap[a]?this._selectedMap[a]:!0},showTip:function(G){if(G){var P,J=this.option.series;if(null!=G.seriesIndex){P=G.seriesIndex}else{for(var L=G.seriesName,l=0,M=J.length;M>l;l++){if(J[l].name===L){P=l;break}}}var O=J[P];if(null!=O){var F=this.myChart.chart[O.type],E="axis"===this.deepQuery([O,this.option],"tooltip.trigger");if(F){if(E){var K=G.dataIndex;switch(F.type){case B.CHART_TYPE_LINE:case B.CHART_TYPE_BAR:case B.CHART_TYPE_K:case B.CHART_TYPE_RADAR:if(null==this.component.polar||O.data[0].value.length<=K){return}var N=O.polarIndex||0,Q=this.component.polar.getVector(N,K,"max");this._event={zrenderX:Q[0],zrenderY:Q[1]},this._showPolarTrigger(N,K)}}else{var S,R,I=F.shapeList;switch(F.type){case B.CHART_TYPE_LINE:case B.CHART_TYPE_BAR:case B.CHART_TYPE_K:case B.CHART_TYPE_TREEMAP:case B.CHART_TYPE_SCATTER:for(var K=G.dataIndex,l=0,M=I.length;M>l;l++){if(null==I[l]._mark&&v.get(I[l],"seriesIndex")==P&&v.get(I[l],"dataIndex")==K){this._curTarget=I[l],S=I[l].style.x,R=F.type!=B.CHART_TYPE_K?I[l].style.y:I[l].style.y[0];break}}break;case B.CHART_TYPE_RADAR:for(var K=G.dataIndex,l=0,M=I.length;M>l;l++){if("polygon"===I[l].type&&v.get(I[l],"seriesIndex")==P&&v.get(I[l],"dataIndex")==K){this._curTarget=I[l];var Q=this.component.polar.getCenter(O.polarIndex||0);S=Q[0],R=Q[1];break}}break;case B.CHART_TYPE_PIE:for(var H=G.name,l=0,M=I.length;M>l;l++){if("sector"===I[l].type&&v.get(I[l],"seriesIndex")==P&&v.get(I[l],"name")==H){this._curTarget=I[l];var T=this._curTarget.style,s=(T.startAngle+T.endAngle)/2*Math.PI/180;S=this._curTarget.style.x+Math.cos(s)*T.r/1.5,R=this._curTarget.style.y-Math.sin(s)*T.r/1.5;break}}break;case B.CHART_TYPE_MAP:for(var H=G.name,h=O.mapType,l=0,M=I.length;M>l;l++){if("text"===I[l].type&&I[l]._mapType===h&&I[l].style._name===H){this._curTarget=I[l],S=this._curTarget.style.x+this._curTarget.position[0],R=this._curTarget.style.y+this._curTarget.position[1];break}}break;case B.CHART_TYPE_CHORD:for(var H=G.name,l=0,M=I.length;M>l;l++){if("sector"===I[l].type&&v.get(I[l],"name")==H){this._curTarget=I[l];var T=this._curTarget.style,s=(T.startAngle+T.endAngle)/2*Math.PI/180;return S=this._curTarget.style.x+Math.cos(s)*(T.r-2),R=this._curTarget.style.y-Math.sin(s)*(T.r-2),void this.zr.trigger(k.EVENT.MOUSEMOVE,{zrenderX:S,zrenderY:R})}}break;case B.CHART_TYPE_FORCE:for(var H=G.name,l=0,M=I.length;M>l;l++){if("circle"===I[l].type&&v.get(I[l],"name")==H){this._curTarget=I[l],S=this._curTarget.position[0],R=this._curTarget.position[1];break}}}null!=S&&null!=R&&(this._event={zrenderX:S,zrenderY:R},this.zr.addHoverShape(this._curTarget),this.zr.refreshHover(),this._showItemTrigger())}}}}},hideTip:function(){this._hide()},refresh:function(d){if(this._zrHeight=this.zr.getHeight(),this._zrWidth=this.zr.getWidth(),this._lastTipShape&&this._lastTipShape.tipShape.length>0&&this.zr.delShape(this._lastTipShape.tipShape),this._lastTipShape=!1,this.shapeList.length=2,this._lastDataIndex=-1,this._lastSeriesIndex=-1,this._lastItemTriggerId=-1,d){this.option=d,this.option.tooltip=this.reformOption(this.option.tooltip),this.option.tooltip.textStyle=z.merge(this.option.tooltip.textStyle,this.ecTheme.textStyle),this._needAxisTrigger=!1,"axis"===this.option.tooltip.trigger&&(this._needAxisTrigger=!0);for(var m=this.option.series,h=0,l=m.length;l>h;h++){if("axis"===this.query(m[h],"tooltip.trigger")){this._needAxisTrigger=!0;break}}this._showDelay=this.option.tooltip.showDelay,this._hideDelay=this.option.tooltip.hideDelay,this._defaultCssText=this._style(this.option.tooltip),this._setSelectedMap(),this._axisLineWidth=this.option.tooltip.axisPointer.lineStyle.width,this._enterable=this.option.tooltip.enterable,!this._enterable&&this._tDom.className.indexOf(k.elementClassName)<0&&(this._tDom.className+=" "+k.elementClassName)}if(this.showing){var c=this;setTimeout(function(){c.zr.trigger(k.EVENT.MOUSEMOVE,c.zr.handler._event)},50)}},onbeforDispose:function(){this._lastTipShape&&this._lastTipShape.tipShape.length>0&&this.zr.delShape(this._lastTipShape.tipShape),clearTimeout(this._hidingTicket),clearTimeout(this._showingTicket),this.zr.un(k.EVENT.MOUSEMOVE,this._onmousemove),this.zr.un(k.EVENT.GLOBALOUT,this._onglobalout),this.hasAppend&&this.dom.firstChild&&this.dom.firstChild.removeChild(this._tDom),this._tDom=null},_encodeHTML:function(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}},z.inherits(C,q),j("../component").define("tooltip",C),C}),define("echarts/component/legend",["require","./base","zrender/shape/Text","zrender/shape/Rectangle","zrender/shape/Sector","../util/shape/Icon","../util/shape/Candle","../config","zrender/tool/util","zrender/tool/area","../component"],function(j){function z(d,m,h,c,i){if(!this.query(c,"legend.data")){return void console.error("option.legend.data has not been defined.")}p.call(this,d,m,h,c,i);var l=this;l._legendSelected=function(a){l.__legendSelected(a)},l._dispatchHoverLink=function(a){return l.__dispatchHoverLink(a)},this._colorIndex=0,this._colorMap={},this._selectedMap={},this._hasDataMap={},this.refresh(c)}var p=j("./base"),v=j("zrender/shape/Text"),b=j("zrender/shape/Rectangle"),w=j("zrender/shape/Sector"),x=j("../util/shape/Icon"),y=j("../util/shape/Candle"),q=j("../config");q.legend={zlevel:0,z:4,show:!0,orient:"horizontal",x:"center",y:"top",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemWidth:20,itemHeight:14,textStyle:{color:"#333"},selectedMode:!0};var k=j("zrender/tool/util"),g=j("zrender/tool/area");z.prototype={type:q.COMPONENT_TYPE_LEGEND,_buildShape:function(){if(this.legendOption.show){this._itemGroupLocation=this._getItemGroupLocation(),this._buildBackground(),this._buildItem();for(var a=0,c=this.shapeList.length;c>a;a++){this.zr.addShape(this.shapeList[a])}}},_buildItem:function(){var A,J,D,h,G,I,E,r,F=this.legendOption.data,H=F.length,K=this.legendOption.textStyle,M=this.zr.getWidth(),L=this.zr.getHeight(),C=this._itemGroupLocation.x,B=this._itemGroupLocation.y,O=this.legendOption.itemWidth,n=this.legendOption.itemHeight,d=this.legendOption.itemGap;"vertical"===this.legendOption.orient&&"right"===this.legendOption.x&&(C=this._itemGroupLocation.x+this._itemGroupLocation.width-O);for(var N=0;H>N;N++){G=k.merge(F[N].textStyle||{},K),I=this.getFont(G),A=this._getName(F[N]),E=this._getFormatterName(A),""!==A?(J=F[N].icon||this._getSomethingByName(A).type,r=this.getColor(A),"horizontal"===this.legendOption.orient?200>M-C&&O+5+g.getTextWidth(E,I)+(N===H-1||""===F[N+1]?0:d)>=M-C&&(C=this._itemGroupLocation.x,B+=n+d):200>L-B&&n+(N===H-1||""===F[N+1]?0:d)>=L-B&&("right"===this.legendOption.x?C-=this._itemGroupLocation.maxWidth+d:C+=this._itemGroupLocation.maxWidth+d,B=this._itemGroupLocation.y),D=this._getItemShapeByType(C,B,O,n,this._selectedMap[A]&&this._hasDataMap[A]?r:"#ccc",J,r),D._name=A,D=new x(D),h={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:C+O+5,y:B+n/2,color:this._selectedMap[A]?"auto"===G.color?r:G.color:"#ccc",text:E,textFont:I,textBaseline:"middle"},highlightStyle:{color:r,brushType:"fill"},hoverable:!!this.legendOption.selectedMode,clickable:!!this.legendOption.selectedMode},"vertical"===this.legendOption.orient&&"right"===this.legendOption.x&&(h.style.x-=O+10,h.style.textAlign="right"),h._name=A,h=new v(h),this.legendOption.selectedMode&&(D.onclick=h.onclick=this._legendSelected,D.onmouseover=h.onmouseover=this._dispatchHoverLink,D.hoverConnect=h.id,h.hoverConnect=D.id),this.shapeList.push(D),this.shapeList.push(h),"horizontal"===this.legendOption.orient?C+=O+5+g.getTextWidth(E,I)+d:B+=n+d):"horizontal"===this.legendOption.orient?(C=this._itemGroupLocation.x,B+=n+d):("right"===this.legendOption.x?C-=this._itemGroupLocation.maxWidth+d:C+=this._itemGroupLocation.maxWidth+d,B=this._itemGroupLocation.y)}"horizontal"===this.legendOption.orient&&"center"===this.legendOption.x&&B!=this._itemGroupLocation.y&&this._mLineOptimize()},_getName:function(a){return"undefined"!=typeof a.name?a.name:a},_getFormatterName:function(a){var d,c=this.legendOption.formatter;return d="function"==typeof c?c.call(this.myChart,a):"string"==typeof c?c.replace("{name}",a):a},_getFormatterNameFromData:function(a){var c=this._getName(a);return this._getFormatterName(c)},_mLineOptimize:function(){for(var d=[],m=this._itemGroupLocation.x,h=2,l=this.shapeList.length;l>h;h++){this.shapeList[h].style.x===m?d.push((this._itemGroupLocation.width-(this.shapeList[h-1].style.x+g.getTextWidth(this.shapeList[h-1].style.text,this.shapeList[h-1].style.textFont)-m))/2):h===l-1&&d.push((this._itemGroupLocation.width-(this.shapeList[h].style.x+g.getTextWidth(this.shapeList[h].style.text,this.shapeList[h].style.textFont)-m))/2)}for(var c=-1,h=1,l=this.shapeList.length;l>h;h++){this.shapeList[h].style.x===m&&c++,0!==d[c]&&(this.shapeList[h].style.x+=d[c])}},_buildBackground:function(){var a=this.reformCssArray(this.legendOption.padding);this.shapeList.push(new b({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this._itemGroupLocation.x-a[3],y:this._itemGroupLocation.y-a[0],width:this._itemGroupLocation.width+a[3]+a[1],height:this._itemGroupLocation.height+a[0]+a[2],brushType:0===this.legendOption.borderWidth?"fill":"both",color:this.legendOption.backgroundColor,strokeColor:this.legendOption.borderColor,lineWidth:this.legendOption.borderWidth}}))},_getItemGroupLocation:function(){var A=this.legendOption.data,L=A.length,D=this.legendOption.itemGap,G=this.legendOption.itemWidth+5,d=this.legendOption.itemHeight,H=this.legendOption.textStyle,J=this.getFont(H),K=0,E=0,h=this.reformCssArray(this.legendOption.padding),F=this.zr.getWidth()-h[1]-h[3],I=this.zr.getHeight()-h[0]-h[2],M=0,O=0;if("horizontal"===this.legendOption.orient){E=d;for(var N=0;L>N;N++){if(""!==this._getName(A[N])){var C=g.getTextWidth(this._getFormatterNameFromData(A[N]),A[N].textStyle?this.getFont(k.merge(A[N].textStyle||{},H)):J);M+G+C+D>F?(M-=D,K=Math.max(K,M),E+=d+D,M=0):(M+=G+C+D,K=Math.max(K,M-D))}else{M-=D,K=Math.max(K,M),E+=d+D,M=0}}}else{for(var N=0;L>N;N++){O=Math.max(O,g.getTextWidth(this._getFormatterNameFromData(A[N]),A[N].textStyle?this.getFont(k.merge(A[N].textStyle||{},H)):J))}O+=G,K=O;for(var N=0;L>N;N++){""!==this._getName(A[N])?M+d+D>I?(K+=O+D,M-=D,E=Math.max(E,M),M=0):(M+=d+D,E=Math.max(E,M-D)):(K+=O+D,M-=D,E=Math.max(E,M),M=0)}}F=this.zr.getWidth(),I=this.zr.getHeight();var B;switch(this.legendOption.x){case"center":B=Math.floor((F-K)/2);break;case"left":B=h[3]+this.legendOption.borderWidth;break;case"right":B=F-K-h[1]-h[3]-2*this.legendOption.borderWidth;break;default:B=this.parsePercent(this.legendOption.x,F)}var P;switch(this.legendOption.y){case"top":P=h[0]+this.legendOption.borderWidth;break;case"bottom":P=I-E-h[0]-h[2]-2*this.legendOption.borderWidth;break;case"center":P=Math.floor((I-E)/2);break;default:P=this.parsePercent(this.legendOption.y,I)}return{x:B,y:P,width:K,height:E,maxWidth:O}},_getSomethingByName:function(d){for(var A,h=this.option.series,l=0,c=h.length;c>l;l++){if(h[l].name===d){return{type:h[l].type,series:h[l],seriesIndex:l,data:null,dataIndex:-1}}if(h[l].type===q.CHART_TYPE_PIE||h[l].type===q.CHART_TYPE_RADAR||h[l].type===q.CHART_TYPE_CHORD||h[l].type===q.CHART_TYPE_FORCE||h[l].type===q.CHART_TYPE_FUNNEL||h[l].type===q.CHART_TYPE_TREEMAP){A=h[l].categories||h[l].data||h[l].nodes;for(var m=0,s=A.length;s>m;m++){if(A[m].name===d){return{type:h[l].type,series:h[l],seriesIndex:l,data:A[m],dataIndex:m}}}}}return{type:"bar",series:null,seriesIndex:-1,data:null,dataIndex:-1}},_getItemShapeByType:function(m,G,B,C,c,D,E){var F,A="#ccc"===c?E:c,l={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{iconType:"legendicon"+D,x:m,y:G,width:B,height:C,color:c,strokeColor:c,lineWidth:2},highlightStyle:{color:A,strokeColor:A,lineWidth:1},hoverable:this.legendOption.selectedMode,clickable:this.legendOption.selectedMode};if(D.match("image")){var F=D.replace(new RegExp("^image:\\/\\/"),"");D="image"}switch(D){case"line":l.style.brushType="stroke",l.highlightStyle.lineWidth=3;break;case"radar":case"venn":case"tree":case"treemap":case"scatter":l.highlightStyle.lineWidth=3;break;case"k":l.style.brushType="both",l.highlightStyle.lineWidth=3,l.highlightStyle.color=l.style.color=this.deepQuery([this.ecTheme,q],"k.itemStyle.normal.color")||"#fff",l.style.strokeColor="#ccc"!=c?this.deepQuery([this.ecTheme,q],"k.itemStyle.normal.lineStyle.color")||"#ff3200":c;break;case"image":l.style.iconType="image",l.style.image=F,"#ccc"===c&&(l.style.opacity=0.5)}return l},__legendSelected:function(a){var d=a.target._name;if("single"===this.legendOption.selectedMode){for(var c in this._selectedMap){this._selectedMap[c]=!1}}this._selectedMap[d]=!this._selectedMap[d],this.messageCenter.dispatch(q.EVENT.LEGEND_SELECTED,a.event,{selected:this._selectedMap,target:d},this.myChart)},__dispatchHoverLink:function(a){this.messageCenter.dispatch(q.EVENT.LEGEND_HOVERLINK,a.event,{target:a.target._name},this.myChart)},refresh:function(d){if(d){this.option=d||this.option,this.option.legend=this.reformOption(this.option.legend),this.legendOption=this.option.legend;var E,m,A,c,B=this.legendOption.data||[];if(this.legendOption.selected){for(var C in this.legendOption.selected){this._selectedMap[C]="undefined"!=typeof this._selectedMap[C]?this._selectedMap[C]:this.legendOption.selected[C]}}for(var D=0,l=B.length;l>D;D++){E=this._getName(B[D]),""!==E&&(m=this._getSomethingByName(E),m.series?(this._hasDataMap[E]=!0,c=!m.data||m.type!==q.CHART_TYPE_PIE&&m.type!==q.CHART_TYPE_FORCE&&m.type!==q.CHART_TYPE_FUNNEL?[m.series]:[m.data,m.series],A=this.getItemStyleColor(this.deepQuery(c,"itemStyle.normal.color"),m.seriesIndex,m.dataIndex,m.data),A&&m.type!=q.CHART_TYPE_K&&this.setColor(E,A),this._selectedMap[E]=null!=this._selectedMap[E]?this._selectedMap[E]:!0):this._hasDataMap[E]=!1)}}this.clear(),this._buildShape()},getRelatedAmount:function(d){for(var C,h=0,l=this.option.series,c=0,m=l.length;m>c;c++){if(l[c].name===d&&h++,l[c].type===q.CHART_TYPE_PIE||l[c].type===q.CHART_TYPE_RADAR||l[c].type===q.CHART_TYPE_CHORD||l[c].type===q.CHART_TYPE_FORCE||l[c].type===q.CHART_TYPE_FUNNEL){C=l[c].type!=q.CHART_TYPE_FORCE?l[c].data:l[c].categories;for(var A=0,B=C.length;B>A;A++){C[A].name===d&&"-"!=C[A].value&&h++}}}return h},setColor:function(a,c){this._colorMap[a]=c},getColor:function(a){return this._colorMap[a]||(this._colorMap[a]=this.zr.getColor(this._colorIndex++)),this._colorMap[a]},hasColor:function(a){return this._colorMap[a]?this._colorMap[a]:!1},add:function(d,m){for(var h=this.legendOption.data,l=0,c=h.length;c>l;l++){if(this._getName(h[l])===d){return}}this.legendOption.data.push(d),this.setColor(d,m),this._selectedMap[d]=!0,this._hasDataMap[d]=!0},del:function(a){for(var h=this.legendOption.data,c=0,d=h.length;d>c;c++){if(this._getName(h[c])===a){return this.legendOption.data.splice(c,1)}}},getItemShape:function(a){if(null!=a){for(var h,c=0,d=this.shapeList.length;d>c;c++){if(h=this.shapeList[c],h._name===a&&"text"!=h.type){return h}}}},setItemShape:function(d,m){for(var h,l=0,c=this.shapeList.length;c>l;l++){h=this.shapeList[l],h._name===d&&"text"!=h.type&&(this._selectedMap[d]||(m.style.color="#ccc",m.style.strokeColor="#ccc"),this.zr.modShape(h.id,m))}},isSelected:function(a){return"undefined"!=typeof this._selectedMap[a]?this._selectedMap[a]:!0},getSelectedMap:function(){return this._selectedMap},setSelected:function(a,d){if("single"===this.legendOption.selectedMode){for(var c in this._selectedMap){this._selectedMap[c]=!1}}this._selectedMap[a]=d,this.messageCenter.dispatch(q.EVENT.LEGEND_SELECTED,null,{selected:this._selectedMap,target:a},this.myChart)},onlegendSelected:function(a,h){var c=a.selected;for(var d in c){this._selectedMap[d]!=c[d]&&(h.needRefresh=!0),this._selectedMap[d]=c[d]}}};var f={line:function(a,d){var c=d.height/2;a.moveTo(d.x,d.y+c),a.lineTo(d.x+d.width,d.y+c)},pie:function(d,o){var h=o.x,l=o.y,c=o.width,m=o.height;w.prototype.buildPath(d,{x:h+c/2,y:l+m+2,r:m,r0:6,startAngle:45,endAngle:135})},eventRiver:function(d,r){var h=r.x,l=r.y,c=r.width,m=r.height;d.moveTo(h,l+m),d.bezierCurveTo(h+c,l+m,h,l+4,h+c,l+4),d.lineTo(h+c,l),d.bezierCurveTo(h,l,h+c,l+m-4,h,l+m-4),d.lineTo(h,l+m)},k:function(d,r){var h=r.x,l=r.y,c=r.width,m=r.height;y.prototype.buildPath(d,{x:h+c/2,y:[l+1,l+1,l+m-6,l+m],width:c-6})},bar:function(d,A){var h=A.x,l=A.y+1,c=A.width,m=A.height-2,s=3;d.moveTo(h+s,l),d.lineTo(h+c-s,l),d.quadraticCurveTo(h+c,l,h+c,l+s),d.lineTo(h+c,l+m-s),d.quadraticCurveTo(h+c,l+m,h+c-s,l+m),d.lineTo(h+s,l+m),d.quadraticCurveTo(h,l+m,h,l+m-s),d.lineTo(h,l+s),d.quadraticCurveTo(h,l,h+s,l)},force:function(a,c){x.prototype.iconLibrary.circle(a,c)},radar:function(C,K){var E=6,G=K.x+K.width/2,m=K.y+K.height/2,H=K.height/2,I=2*Math.PI/E,J=-Math.PI/2,F=G+H*Math.cos(J),D=m+H*Math.sin(J);C.moveTo(F,D),J+=I;for(var B=0,A=E-1;A>B;B++){C.lineTo(G+H*Math.cos(J),m+H*Math.sin(J)),J+=I}C.lineTo(F,D)}};f.chord=f.pie,f.map=f.bar;for(var u in f){x.prototype.iconLibrary["legendicon"+u]=f[u]}return k.inherits(z,p),j("../component").define("legend",z),z}),define("echarts/util/ecData",[],function(){function a(g,u,h,k,f,m,p,q){var j;return"undefined"!=typeof k&&(j=null==k.value?k:k.value),g._echartsData={_series:u,_seriesIndex:h,_data:k,_dataIndex:f,_name:m,_value:j,_special:p,_special2:q},g._echartsData}function d(f,h){var g=f._echartsData;if(!h){return g}switch(h){case"series":case"seriesIndex":case"data":case"dataIndex":case"name":case"value":case"special":case"special2":return g&&g["_"+h]}return null}function b(f,h,g){switch(f._echartsData=f._echartsData||{},h){case"series":case"seriesIndex":case"data":case"dataIndex":case"name":case"value":case"special":case"special2":f._echartsData["_"+h]=g}}function c(f,g){g._echartsData={_series:f._echartsData._series,_seriesIndex:f._echartsData._seriesIndex,_data:f._echartsData._data,_dataIndex:f._echartsData._dataIndex,_name:f._echartsData._name,_value:f._echartsData._value,_special:f._echartsData._special,_special2:f._echartsData._special2}}return{pack:a,set:b,get:d,clone:c}}),define("echarts/chart",[],function(){var a={},b={};return a.define=function(c,d){return b[c]=d,a},a.get=function(c){return b[c]},a}),define("zrender/tool/color",["require","../tool/util"],function(ae){function aG(a){ad=a}function am(){ad=ax}function aw(a,b){return a=0|a,b=b||ad,b[a%b.length]}function q(a){Z=a}function ay(){al=Z}function aC(){return Z}function aE(c,v,f,k,b,m,p){az||(az=aB.getContext());for(var u=az.createRadialGradient(c,v,f,k,b,m),g=0,d=p.length;d>g;g++){u.addColorStop(p[g][0],p[g][1])}return u.__nonRecursion=!0,u}function ar(c,l,d,f,b){az||(az=aB.getContext());for(var g=az.createLinearGradient(c,l,d,f),h=0,k=b.length;k>h;h++){g.addColorStop(b[h][0],b[h][1])}return g.__nonRecursion=!0,g}function ak(f,B,k){f=aI(f),B=aI(B),f=aF(f),B=aF(B);for(var w=[],b=(B[0]-f[0])/k,x=(B[1]-f[1])/k,z=(B[2]-f[2])/k,A=(B[3]-f[3])/k,u=0,g=f[0],c=f[1],v=f[2],y=f[3];k>u;u++){w[u]=aa([aH(Math.floor(g),[0,255]),aH(Math.floor(c),[0,255]),aH(Math.floor(v),[0,255]),y.toFixed(4)-0],"rgba"),g+=b,c+=x,v+=z,y+=A}return g=B[0],c=B[1],v=B[2],y=B[3],w[u]=aa([g,c,v,y],"rgba"),w}function ac(c,k){var d=[],f=c.length;if(void 0===k&&(k=20),1===f){d=ak(c[0],c[0],k)}else{if(f>1){for(var b=0,g=f-1;g>b;b++){var h=ak(c[b],c[b+1],k);g-1>b&&h.pop(),d=d.concat(h)}}}return d}function aa(a,c){if(c=c||"rgb",a&&(3===a.length||4===a.length)){if(a=ab(a,function(d){return d>1?Math.ceil(d):d}),c.indexOf("hex")>-1){return"#"+((1<<24)+(a[0]<<16)+(a[1]<<8)+ +a[2]).toString(16).slice(1)}if(c.indexOf("hs")>-1){var b=ab(a.slice(1,3),function(d){return d+"%"});a[1]=b[0],a[2]=b[1]}return c.indexOf("a")>-1?(3===a.length&&a.push(1),a[3]=aH(a[3],[0,1]),c+"("+a.slice(0,4).join(",")+")"):c+"("+a.slice(0,3).join(",")+")"}}function au(a){a=aK(a),a.indexOf("rgba")<0&&(a=aI(a));var c=[],b=0;return a.replace(/[\d.]+/g,function(d){d=3>b?0|d:+d,c[b++]=d}),c}function aA(a,d){if(!af(a)){return a}var b=aF(a),c=b[3];return"undefined"==typeof c&&(c=1),a.indexOf("hsb")>-1?b=aR(b):a.indexOf("hsl")>-1&&(b=Q(b)),d.indexOf("hsb")>-1||d.indexOf("hsv")>-1?b=ah(b):d.indexOf("hsl")>-1&&(b=ao(b)),b[3]=c,aa(b,d)}function aI(a){return aA(a,"rgba")}function aL(a){return aA(a,"rgb")}function aJ(a){return aA(a,"hex")}function ai(a){return aA(a,"hsva")}function ag(a){return aA(a,"hsv")}function aQ(a){return aA(a,"hsba")}function Y(a){return aA(a,"hsb")}function j(a){return aA(a,"hsla")}function aO(a){return aA(a,"hsl")}function ap(a){for(var b in aj){if(aJ(aj[b])===aJ(a)){return b}}return null}function aK(a){return String(a).replace(/\s+/g,"")}function at(a){if(aj[a]&&(a=aj[a]),a=aK(a),a=a.replace(/hsv/i,"hsb"),/^#[\da-f]{3}$/i.test(a)){a=parseInt(a.slice(1),16);var d=(3840&a)<<8,b=(240&a)<<4,c=15&a;a="#"+((1<<24)+(d<<4)+d+(b<<4)+b+(c<<4)+c).toString(16).slice(1)}return a}function aM(c,g){if(!af(c)){return c}var d=g>0?1:-1;"undefined"==typeof g&&(g=0),g=Math.abs(g)>1?1:Math.abs(g),c=aL(c);for(var f=aF(c),b=0;3>b;b++){f[b]=1===d?f[b]*(1-g)|0:(255-f[b])*g+f[b]|0}return"rgb("+f.join(",")+")"}function aN(a){if(!af(a)){return a}var b=aF(aI(a));return b=ab(b,function(c){return 255-c}),aa(b,"rgb")}function aP(f,z,k){if(!af(f)||!af(z)){return f}"undefined"==typeof k&&(k=0.5),k=1-aH(k,[0,1]);for(var v=2*k-1,b=aF(aI(f)),w=aF(aI(z)),x=b[3]-w[3],y=((v*x===-1?v:(v+x)/(1+v*x))+1)/2,p=1-y,g=[],c=0;3>c;c++){g[c]=b[c]*y+w[c]*p}var u=b[3]*k+w[3]*(1-k);return u=Math.max(0,Math.min(1,u)),1===b[3]&&1===w[3]?aa(g,"rgb"):(g[3]=u,aa(g,"rgba"))}function an(){return"#"+(Math.random().toString(16)+"0000").slice(2,8)}function aF(f){f=at(f);var x=f.match(aD);if(null===x){throw new Error("The color format error")}var k,p,b,u=[];if(x[2]){k=x[2].replace("#","").split(""),b=[k[0]+k[1],k[2]+k[3],k[4]+k[5]],u=ab(b,function(a){return aH(parseInt(a,16),[0,255])})}else{if(x[4]){var v=x[4].split(",");p=v[3],b=v.slice(0,3),u=ab(b,function(a){return a=Math.floor(a.indexOf("%")>0?2.55*parseInt(a,0):a),aH(a,[0,255])}),"undefined"!=typeof p&&u.push(aH(parseFloat(p),[0,1]))}else{if(x[5]||x[6]){var w=(x[5]||x[6]).split(","),m=parseInt(w[0],0)/360,g=w[1],c=w[2];p=w[3],u=ab([g,c],function(a){return aH(parseFloat(a)/100,[0,1])}),u.unshift(m),"undefined"!=typeof p&&u.push(aH(parseFloat(p),[0,1]))}}}return u}function aq(a,c){if(!af(a)){return a}null===c&&(c=1);var b=aF(aI(a));return b[3]=aH(Number(c).toFixed(4),[0,1]),aa(b,"rgba")}function ab(a,d){if("function"!=typeof d){throw new TypeError}for(var b=a?a.length:0,c=0;b>c;c++){a[c]=d(a[c])}return a}function aH(a,b){return a<=b[0]?a=b[0]:a>=b[1]&&(a=b[1]),a}function af(a){return a instanceof Array||"string"==typeof a}function aR(k){var E,w,z,b=k[0],A=k[1],C=k[2];if(0===A){E=255*C,w=255*C,z=255*C}else{var D=6*b;6===D&&(D=0);var x=0|D,v=C*(1-A),g=C*(1-A*(D-x)),f=C*(1-A*(1-(D-x))),y=0,B=0,F=0;0===x?(y=C,B=f,F=v):1===x?(y=g,B=C,F=v):2===x?(y=v,B=C,F=f):3===x?(y=v,B=g,F=C):4===x?(y=f,B=v,F=C):(y=C,B=v,F=g),E=255*y,w=255*B,z=255*F}return[E,w,z]}function Q(c){var p,d,g,b=c[0],h=c[1],k=c[2];if(0===h){p=255*k,d=255*k,g=255*k}else{var m;m=0.5>k?k*(1+h):k+h-h*k;var f=2*k-m;p=255*av(f,m,b+1/3),d=255*av(f,m,b),g=255*av(f,m,b-1/3)}return[p,d,g]}function av(a,c,b){return 0>b&&(b+=1),b>1&&(b-=1),1>6*b?a+6*(c-a)*b:1>2*b?c:2>3*b?a+(c-a)*(2/3-b)*6:a}function ah(k){var B,u,x=k[0]/255,b=k[1]/255,y=k[2]/255,z=Math.min(x,b,y),A=Math.max(x,b,y),v=A-z,p=A;if(0===v){B=0,u=0}else{u=v/A;var g=((A-x)/6+v/2)/v,f=((A-b)/6+v/2)/v,w=((A-y)/6+v/2)/v;x===A?B=w-f:b===A?B=1/3+g-w:y===A&&(B=2/3+f-g),0>B&&(B+=1),B>1&&(B-=1)}return B=360*B,u=100*u,p=100*p,[B,u,p]}function ao(k){var B,u,x=k[0]/255,b=k[1]/255,y=k[2]/255,z=Math.min(x,b,y),A=Math.max(x,b,y),v=A-z,p=(A+z)/2;if(0===v){B=0,u=0}else{u=0.5>p?v/(A+z):v/(2-A-z);var g=((A-x)/6+v/2)/v,f=((A-b)/6+v/2)/v,w=((A-y)/6+v/2)/v;x===A?B=w-f:b===A?B=1/3+g-w:y===A&&(B=2/3+f-g),0>B&&(B+=1),B>1&&(B-=1)}return B=360*B,u=100*u,p=100*p,[B,u,p]}var az,aB=ae("../tool/util"),ad=["#ff9277"," #dddd00"," #ffc877"," #bbe3ff"," #d5ffbb","#bbbbff"," #ddb000"," #b0dd00"," #e2bbff"," #ffbbe3","#ff7777"," #ff9900"," #83dd00"," #77e3ff"," #778fff","#c877ff"," #ff77ab"," #ff6600"," #aa8800"," #77c7ff","#ad77ff"," #ff77ff"," #dd0083"," #777700"," #00aa00","#0088aa"," #8400dd"," #aa0088"," #dd0000"," #772e00"],ax=ad,Z="rgba(255,255,0,0.5)",al=Z,aD=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,aj={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#0ff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000",blanchedalmond:"#ffebcd",blue:"#00f",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#f0f",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#0f0",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#f0f",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#f00",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#fff",whitesmoke:"#f5f5f5",yellow:"#ff0",yellowgreen:"#9acd32"};return{customPalette:aG,resetPalette:am,getColor:aw,getHighlightColor:aC,customHighlight:q,resetHighlight:ay,getRadialGradient:aE,getLinearGradient:ar,getGradientColors:ac,getStepColors:ak,reverse:aN,mix:aP,lift:aM,trim:aK,random:an,toRGB:aL,toRGBA:aI,toHex:aJ,toHSL:aO,toHSLA:j,toHSB:Y,toHSBA:aQ,toHSV:ag,toHSVA:ai,toName:ap,toColor:aa,toArray:au,alpha:aq,getData:aF}}),define("echarts/component/timeline",["require","./base","zrender/shape/Rectangle","../util/shape/Icon","../util/shape/Chain","../config","zrender/tool/util","zrender/tool/area","zrender/tool/event","../component"],function(f){function v(h,w,l,d,n){m.call(this,h,w,l,d,n);var s=this;if(s._onclick=function(a){return s.__onclick(a)},s._ondrift=function(a,i){return s.__ondrift(this,a,i)},s._ondragend=function(){return s.__ondragend()},s._setCurrentOption=function(){var a=s.timelineOption;s.currentIndex%=a.data.length;var i=s.options[s.currentIndex]||{};s.myChart._setOption(i,a.notMerge,!0),s.messageCenter.dispatch(u.EVENT.TIMELINE_CHANGED,null,{currentIndex:s.currentIndex,data:null!=a.data[s.currentIndex].name?a.data[s.currentIndex].name:a.data[s.currentIndex]},s.myChart)},s._onFrame=function(){s._setCurrentOption(),s._syncHandleShape(),s.timelineOption.autoPlay&&(s.playTicket=setTimeout(function(){return s.currentIndex+=1,!s.timelineOption.loop&&s.currentIndex>=s.timelineOption.data.length?(s.currentIndex=s.timelineOption.data.length-1,void s.stop()):void s._onFrame()},s.timelineOption.playInterval))},this.setTheme(!1),this.options=this.option.options,this.currentIndex=this.timelineOption.currentIndex%this.timelineOption.data.length,this.timelineOption.notMerge||0===this.currentIndex||(this.options[this.currentIndex]=k.merge(this.options[this.currentIndex],this.options[0])),this.timelineOption.show&&(this._buildShape(),this._syncHandleShape()),this._setCurrentOption(),this.timelineOption.autoPlay){var s=this;this.playTicket=setTimeout(function(){s.play()},null!=this.ecTheme.animationDuration?this.ecTheme.animationDuration:u.animationDuration)}}function j(x,E){var z=2,B=E.x+z,o=E.y+z+2,C=E.width-z,D=E.height-z,A=E.symbol;if("last"===A){x.moveTo(B+C-2,o+D/3),x.lineTo(B+C-2,o),x.lineTo(B+2,o+D/2),x.lineTo(B+C-2,o+D),x.lineTo(B+C-2,o+D/3*2),x.moveTo(B,o),x.lineTo(B,o)}else{if("next"===A){x.moveTo(B+2,o+D/3),x.lineTo(B+2,o),x.lineTo(B+C-2,o+D/2),x.lineTo(B+2,o+D),x.lineTo(B+2,o+D/3*2),x.moveTo(B,o),x.lineTo(B,o)}else{if("play"===A){if("stop"===E.status){x.moveTo(B+2,o),x.lineTo(B+C-2,o+D/2),x.lineTo(B+2,o+D),x.lineTo(B+2,o)}else{var y="both"===E.brushType?2:3;x.rect(B+2,o,y,D),x.rect(B+C-y-2,o,y,D)}}else{if(A.match("image")){var w="";w=A.replace(new RegExp("^image:\\/\\/"),""),A=p.prototype.iconLibrary.image,A(x,{x:B,y:o,width:C,height:D,image:w})}}}}}var m=f("./base"),b=f("zrender/shape/Rectangle"),p=f("../util/shape/Icon"),q=f("../util/shape/Chain"),u=f("../config");u.timeline={zlevel:0,z:4,show:!0,type:"time",notMerge:!1,realtime:!0,x:80,x2:80,y2:0,height:50,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,controlPosition:"left",autoPlay:!1,loop:!0,playInterval:2000,lineStyle:{width:1,color:"#666",type:"dashed"},label:{show:!0,interval:"auto",rotate:0,textStyle:{color:"#333"}},checkpointStyle:{symbol:"auto",symbolSize:"auto",color:"auto",borderColor:"auto",borderWidth:"auto",label:{show:!1,textStyle:{color:"auto"}}},controlStyle:{itemSize:15,itemGap:5,normal:{color:"#333"},emphasis:{color:"#1e90ff"}},symbol:"emptyDiamond",symbolSize:4,currentIndex:0};var k=f("zrender/tool/util"),g=f("zrender/tool/area"),c=f("zrender/tool/event");return v.prototype={type:u.COMPONENT_TYPE_TIMELINE,_buildShape:function(){if(this._location=this._getLocation(),this._buildBackground(),this._buildControl(),this._chainPoint=this._getChainPoint(),this.timelineOption.label.show){for(var a=this._getInterval(),l=0,d=this._chainPoint.length;d>l;l+=a){this._chainPoint[l].showLabel=!0}}this._buildChain(),this._buildHandle();for(var l=0,h=this.shapeList.length;h>l;l++){this.zr.addShape(this.shapeList[l])}},_getLocation:function(){var w,E=this.timelineOption,y=this.reformCssArray(this.timelineOption.padding),A=this.zr.getWidth(),d=this.parsePercent(E.x,A),B=this.parsePercent(E.x2,A);null==E.width?(w=A-d-B,B=A-B):(w=this.parsePercent(E.width,A),B=d+w);var C,D,z=this.zr.getHeight(),x=this.parsePercent(E.height,z);return null!=E.y?(C=this.parsePercent(E.y,z),D=C+x):(D=z-this.parsePercent(E.y2,z),C=D-x),{x:d+y[3],y:C+y[0],x2:B-y[1],y2:D-y[2],width:w-y[1]-y[3],height:x-y[0]-y[2]}},_getReformedLabel:function(a){var l=this.timelineOption,d=null!=l.data[a].name?l.data[a].name:l.data[a],h=l.data[a].formatter||l.label.formatter;return h&&("function"==typeof h?d=h.call(this.myChart,d):"string"==typeof h&&(d=h.replace("{value}",d))),d},_getInterval:function(){var y=this._chainPoint,H=this.timelineOption,z=H.label.interval;if("auto"===z){var C=H.label.textStyle.fontSize,h=H.data,D=H.data.length;if(D>3){var F,G,A=!1;for(z=0;!A&&D>z;){z++,A=!0;for(var x=z;D>x;x+=z){if(F=y[x].x-y[x-z].x,0!==H.label.rotate){G=C}else{if(h[x].textStyle){G=g.getTextWidth(y[x].name,y[x].textFont)}else{var w=y[x].name+"",B=(w.match(/\w/g)||"").length,E=w.length-B;G=B*C*2/3+E*C}}if(G>F){A=!1;break}}}}else{z=1}}else{z=z-0+1}return z},_getChainPoint:function(){function C(a){return null!=F[a].name?F[a].name:F[a]+""}var N,G=this.timelineOption,I=G.symbol.toLowerCase(),w=G.symbolSize,J=G.label.rotate,L=G.label.textStyle,M=this.getFont(L),F=G.data,B=this._location.x,A=this._location.y+this._location.height/4*3,H=this._location.x2-this._location.x,K=F.length,O=[];if(K>1){var Q=H/K;if(Q=Q>50?50:20>Q?5:Q,H-=2*Q,"number"===G.type){for(var P=0;K>P;P++){O.push(B+Q+H/(K-1)*P)}}else{O[0]=new Date(C(0).replace(/-/g,"/")),O[K-1]=new Date(C(K-1).replace(/-/g,"/"))-O[0];for(var P=1;K>P;P++){O[P]=B+Q+H*(new Date(C(P).replace(/-/g,"/"))-O[0])/O[K-1]}O[0]=B+Q}}else{O.push(B+H/2)}for(var E,D,S,z,l,R=[],P=0;K>P;P++){B=O[P],E=F[P].symbol&&F[P].symbol.toLowerCase()||I,E.match("empty")?(E=E.replace("empty",""),S=!0):S=!1,E.match("star")&&(D=E.replace("star","")-0||5,E="star"),N=F[P].textStyle?k.merge(F[P].textStyle||{},L):L,z=N.align||"center",J?(z=J>0?"right":"left",l=[J*Math.PI/180,B,A-5]):l=!1,R.push({x:B,n:D,isEmpty:S,symbol:E,symbolSize:F[P].symbolSize||w,color:F[P].color,borderColor:F[P].borderColor,borderWidth:F[P].borderWidth,name:this._getReformedLabel(P),textColor:N.color,textAlign:z,textBaseline:N.baseline||"middle",textX:B,textY:A-(J?5:0),textFont:F[P].textStyle?this.getFont(N):M,rotation:l,showLabel:!1})}return R},_buildBackground:function(){var a=this.timelineOption,l=this.reformCssArray(this.timelineOption.padding),d=this._location.width,h=this._location.height;(0!==a.borderWidth||"rgba(0,0,0,0)"!=a.backgroundColor.replace(/\s/g,""))&&this.shapeList.push(new b({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this._location.x-l[3],y:this._location.y-l[0],width:d+l[1]+l[3],height:h+l[0]+l[2],brushType:0===a.borderWidth?"fill":"both",color:a.backgroundColor,strokeColor:a.borderColor,lineWidth:a.borderWidth}}))},_buildControl:function(){var w=this,C=this.timelineOption,y=C.lineStyle,z=C.controlStyle;if("none"!==C.controlPosition){var l,A=z.itemSize,B=z.itemGap;"left"===C.controlPosition?(l=this._location.x,this._location.x+=3*(A+B)):(l=this._location.x2-(3*(A+B)-B),this._location.x2-=3*(A+B));var x=this._location.y,o={zlevel:this.getZlevelBase(),z:this.getZBase()+1,style:{iconType:"timelineControl",symbol:"last",x:l,y:x,width:A,height:A,brushType:"stroke",color:z.normal.color,strokeColor:z.normal.color,lineWidth:y.width},highlightStyle:{color:z.emphasis.color,strokeColor:z.emphasis.color,lineWidth:y.width+1},clickable:!0};this._ctrLastShape=new p(o),this._ctrLastShape.onclick=function(){w.last()},this.shapeList.push(this._ctrLastShape),l+=A+B,this._ctrPlayShape=new p(k.clone(o)),this._ctrPlayShape.style.brushType="fill",this._ctrPlayShape.style.symbol="play",this._ctrPlayShape.style.status=this.timelineOption.autoPlay?"playing":"stop",this._ctrPlayShape.style.x=l,this._ctrPlayShape.onclick=function(){"stop"===w._ctrPlayShape.style.status?w.play():w.stop()},this.shapeList.push(this._ctrPlayShape),l+=A+B,this._ctrNextShape=new p(k.clone(o)),this._ctrNextShape.style.symbol="next",this._ctrNextShape.style.x=l,this._ctrNextShape.onclick=function(){w.next()},this.shapeList.push(this._ctrNextShape)}},_buildChain:function(){var a=this.timelineOption,d=a.lineStyle;this._timelineShae={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:this._location.x,y:this.subPixelOptimize(this._location.y,d.width),width:this._location.x2-this._location.x,height:this._location.height,chainPoint:this._chainPoint,brushType:"both",strokeColor:d.color,lineWidth:d.width,lineType:d.type},hoverable:!1,clickable:!0,onclick:this._onclick},this._timelineShae=new q(this._timelineShae),this.shapeList.push(this._timelineShae)},_buildHandle:function(){var a=this._chainPoint[this.currentIndex],d=a.symbolSize+1;d=5>d?5:d,this._handleShape={zlevel:this.getZlevelBase(),z:this.getZBase()+1,hoverable:!1,draggable:!0,style:{iconType:"diamond",n:a.n,x:a.x-d,y:this._location.y+this._location.height/4-d,width:2*d,height:2*d,brushType:"both",textPosition:"specific",textX:a.x,textY:this._location.y-this._location.height/4,textAlign:"center",textBaseline:"middle"},highlightStyle:{},ondrift:this._ondrift,ondragend:this._ondragend},this._handleShape=new p(this._handleShape),this.shapeList.push(this._handleShape)},_syncHandleShape:function(){if(this.timelineOption.show){var a=this.timelineOption,l=a.checkpointStyle,d=this._chainPoint[this.currentIndex];this._handleShape.style.text=l.label.show?d.name:"",this._handleShape.style.textFont=d.textFont,this._handleShape.style.n=d.n,"auto"===l.symbol?this._handleShape.style.iconType="none"!=d.symbol?d.symbol:"diamond":(this._handleShape.style.iconType=l.symbol,l.symbol.match("star")&&(this._handleShape.style.n=l.symbol.replace("star","")-0||5,this._handleShape.style.iconType="star"));var h;"auto"===l.symbolSize?(h=d.symbolSize+2,h=5>h?5:h):h=l.symbolSize-0,this._handleShape.style.color="auto"===l.color?d.color?d.color:a.controlStyle.emphasis.color:l.color,this._handleShape.style.textColor="auto"===l.label.textStyle.color?this._handleShape.style.color:l.label.textStyle.color,this._handleShape.highlightStyle.strokeColor=this._handleShape.style.strokeColor="auto"===l.borderColor?d.borderColor?d.borderColor:"#fff":l.borderColor,this._handleShape.style.lineWidth="auto"===l.borderWidth?d.borderWidth?d.borderWidth:0:l.borderWidth-0,this._handleShape.highlightStyle.lineWidth=this._handleShape.style.lineWidth+1,this.zr.animate(this._handleShape.id,"style").when(500,{x:d.x-h,textX:d.x,y:this._location.y+this._location.height/4-h,width:2*h,height:2*h}).start("ExponentialOut")}},_findChainIndex:function(a){var l=this._chainPoint,d=l.length;if(a<=l[0].x){return 0}if(a>=l[d-1].x){return d-1}for(var h=0;d-1>h;h++){if(a>=l[h].x&&a<=l[h+1].x){return Math.abs(a-l[h].x)<Math.abs(a-l[h+1].x)?h:h+1}}},__onclick:function(a){var h=c.getX(a.event),d=this._findChainIndex(h);return d===this.currentIndex?!0:(this.currentIndex=d,this.timelineOption.autoPlay&&this.stop(),clearTimeout(this.playTicket),void this._onFrame())},__ondrift:function(h,A){this.timelineOption.autoPlay&&this.stop();var l,w=this._chainPoint,d=w.length;h.style.x+A<=w[0].x-w[0].symbolSize?(h.style.x=w[0].x-w[0].symbolSize,l=0):h.style.x+A>=w[d-1].x-w[d-1].symbolSize?(h.style.x=w[d-1].x-w[d-1].symbolSize,l=d-1):(h.style.x+=A,l=this._findChainIndex(h.style.x));var x=w[l],y=x.symbolSize+2;if(h.style.iconType=x.symbol,h.style.n=x.n,h.style.textX=h.style.x+y/2,h.style.y=this._location.y+this._location.height/4-y,h.style.width=2*y,h.style.height=2*y,h.style.text=x.name,l===this.currentIndex){return !0}if(this.currentIndex=l,this.timelineOption.realtime){clearTimeout(this.playTicket);var z=this;this.playTicket=setTimeout(function(){z._setCurrentOption()},200)}return !0},__ondragend:function(){this.isDragend=!0},ondragend:function(a,d){this.isDragend&&a.target&&(!this.timelineOption.realtime&&this._setCurrentOption(),d.dragOut=!0,d.dragIn=!0,d.needRefresh=!1,this.isDragend=!1,this._syncHandleShape())},last:function(){return this.timelineOption.autoPlay&&this.stop(),this.currentIndex-=1,this.currentIndex<0&&(this.currentIndex=this.timelineOption.data.length-1),this._onFrame(),this.currentIndex},next:function(){return this.timelineOption.autoPlay&&this.stop(),this.currentIndex+=1,this.currentIndex>=this.timelineOption.data.length&&(this.currentIndex=0),this._onFrame(),this.currentIndex},play:function(a,d){return this._ctrPlayShape&&"playing"!=this._ctrPlayShape.style.status&&(this._ctrPlayShape.style.status="playing",this.zr.modShape(this._ctrPlayShape.id),this.zr.refreshNextFrame()),this.timelineOption.autoPlay=null!=d?d:!0,this.timelineOption.autoPlay||clearTimeout(this.playTicket),this.currentIndex=null!=a?a:this.currentIndex+1,this.currentIndex>=this.timelineOption.data.length&&(this.currentIndex=0),this._onFrame(),this.currentIndex},stop:function(){return this._ctrPlayShape&&"stop"!=this._ctrPlayShape.style.status&&(this._ctrPlayShape.style.status="stop",this.zr.modShape(this._ctrPlayShape.id),this.zr.refreshNextFrame()),this.timelineOption.autoPlay=!1,clearTimeout(this.playTicket),this.currentIndex},resize:function(){this.timelineOption.show&&(this.clear(),this._buildShape(),this._syncHandleShape())},setTheme:function(a){this.timelineOption=this.reformOption(k.clone(this.option.timeline)),this.timelineOption.label.textStyle=this.getTextStyle(this.timelineOption.label.textStyle),this.timelineOption.checkpointStyle.label.textStyle=this.getTextStyle(this.timelineOption.checkpointStyle.label.textStyle),this.myChart.canvasSupported||(this.timelineOption.realtime=!1),this.timelineOption.show&&a&&(this.clear(),this._buildShape(),this._syncHandleShape())},onbeforDispose:function(){clearTimeout(this.playTicket)}},p.prototype.iconLibrary.timelineControl=j,k.inherits(v,m),f("../component").define("timeline",v),v}),define("zrender/shape/Image",["require","./Base","../tool/util"],function(a){var c=a("./Base"),b=function(d){c.call(this,d)};return b.prototype={type:"image",brush:function(k,D,v){var y=this.style||{};D&&(y=this.getHighlightStyle(y,this.highlightStyle||{}));var f=y.image,z=this;if(this._imageCache||(this._imageCache={}),"string"==typeof f){var B=f;this._imageCache[B]?f=this._imageCache[B]:(f=new Image,f.onload=function(){f.onload=null,z.modSelf(),v()},f.src=B,this._imageCache[B]=f)}if(f){if("IMG"==f.nodeName.toUpperCase()){if(window.ActiveXObject){if("complete"!=f.readyState){return}}else{if(!f.complete){return}}}var C=y.width||f.width,w=y.height||f.height,q=y.x,j=y.y;if(!f.width||!f.height){return}if(k.save(),this.doClip(k),this.setContext(k,y),this.setTransform(k),y.sWidth&&y.sHeight){var g=y.sx||0,x=y.sy||0;k.drawImage(f,g,x,y.sWidth,y.sHeight,q,j,C,w)}else{if(y.sx&&y.sy){var g=y.sx,x=y.sy,A=C-g,E=w-x;k.drawImage(f,g,x,A,E,q,j,C,w)}else{k.drawImage(f,q,j,C,w)}}y.width||(y.width=C),y.height||(y.height=w),this.style.width||(this.style.width=C),this.style.height||(this.style.height=w),this.drawText(k,y,this.style),k.restore()}},getRect:function(d){return{x:d.x,y:d.y,width:d.width,height:d.height}},clearCache:function(){this._imageCache={}}},a("../tool/util").inherits(b,c),b}),define("zrender/loadingEffect/Bar",["require","./Base","../tool/util","../tool/color","../shape/Rectangle"],function(c){function h(a){d.call(this,a)}var d=c("./Base"),f=c("../tool/util"),b=c("../tool/color"),g=c("../shape/Rectangle");return f.inherits(h,d),h.prototype._start=function(a,p){var k=f.merge(this.options,{textStyle:{color:"#888"},backgroundColor:"rgba(250, 250, 250, 0.8)",effectOption:{x:0,y:this.canvasHeight/2-30,width:this.canvasWidth,height:5,brushType:"fill",timeInterval:100}}),n=this.createTextShape(k.textStyle),o=this.createBackgroundShape(k.backgroundColor),m=k.effectOption,j=new g({highlightStyle:f.clone(m)});return j.highlightStyle.color=m.color||b.getLinearGradient(m.x,m.y,m.x+m.width,m.y+m.height,[[0,"#ff6400"],[0.5,"#ffe100"],[1,"#b1ff00"]]),null!=k.progress?(a(o),j.highlightStyle.width=this.adjust(k.progress,[0,1])*k.effectOption.width,a(j),a(n),void p()):(j.highlightStyle.width=0,setInterval(function(){a(o),j.highlightStyle.width<m.width?j.highlightStyle.width+=8:j.highlightStyle.width=0,a(j),a(n),p()},m.timeInterval))},h}),define("zrender/loadingEffect/Bubble",["require","./Base","../tool/util","../tool/color","../shape/Circle"],function(c){function h(a){d.call(this,a)}var d=c("./Base"),f=c("../tool/util"),b=c("../tool/color"),g=c("../shape/Circle");return f.inherits(h,d),h.prototype._start=function(k,z){for(var o=f.merge(this.options,{textStyle:{color:"#888"},backgroundColor:"rgba(250, 250, 250, 0.8)",effect:{n:50,lineWidth:2,brushType:"stroke",color:"random",timeInterval:100}}),x=this.createTextShape(o.textStyle),y=this.createBackgroundShape(o.backgroundColor),q=o.effect,n=q.n,j=q.brushType,a=q.lineWidth,v=[],w=this.canvasWidth,A=this.canvasHeight,C=0;n>C;C++){var B="random"==q.color?b.alpha(b.random(),0.3):q.color;v[C]=new g({highlightStyle:{x:Math.ceil(Math.random()*w),y:Math.ceil(Math.random()*A),r:Math.ceil(40*Math.random()),brushType:j,color:B,strokeColor:B,lineWidth:a},animationY:Math.ceil(20*Math.random())})}return setInterval(function(){k(y);for(var e=0;n>e;e++){var l=v[e].highlightStyle;l.y-v[e].animationY+l.r<=0&&(v[e].highlightStyle.y=A+l.r,v[e].highlightStyle.x=Math.ceil(Math.random()*w)),v[e].highlightStyle.y-=v[e].animationY,k(v[e])}k(x),z()},q.timeInterval)},h}),define("zrender/loadingEffect/DynamicLine",["require","./Base","../tool/util","../tool/color","../shape/Line"],function(c){function h(a){d.call(this,a)}var d=c("./Base"),f=c("../tool/util"),b=c("../tool/color"),g=c("../shape/Line");return f.inherits(h,d),h.prototype._start=function(k,B){for(var v=f.merge(this.options,{textStyle:{color:"#fff"},backgroundColor:"rgba(0, 0, 0, 0.8)",effectOption:{n:30,lineWidth:1,color:"random",timeInterval:100}}),z=this.createTextShape(v.textStyle),A=this.createBackgroundShape(v.backgroundColor),w=v.effectOption,q=w.n,j=w.lineWidth,a=[],x=this.canvasWidth,y=this.canvasHeight,C=0;q>C;C++){var E=-Math.ceil(1000*Math.random()),D=Math.ceil(400*Math.random()),o=Math.ceil(Math.random()*y),n="random"==w.color?b.random():w.color;a[C]=new g({highlightStyle:{xStart:E,yStart:o,xEnd:E+D,yEnd:o,strokeColor:n,lineWidth:j},animationX:Math.ceil(100*Math.random()),len:D})}return setInterval(function(){k(A);for(var e=0;q>e;e++){var l=a[e].highlightStyle;l.xStart>=x&&(a[e].len=Math.ceil(400*Math.random()),l.xStart=-400,l.xEnd=-400+a[e].len,l.yStart=Math.ceil(Math.random()*y),l.yEnd=l.yStart),l.xStart+=a[e].animationX,l.xEnd+=a[e].animationX,k(a[e])}k(z),B()},w.timeInterval)},h}),define("zrender/loadingEffect/Ring",["require","./Base","../tool/util","../tool/color","../shape/Ring","../shape/Sector"],function(c){function j(a){d.call(this,a)}var d=c("./Base"),f=c("../tool/util"),b=c("../tool/color"),g=c("../shape/Ring"),h=c("../shape/Sector");return f.inherits(j,d),j.prototype._start=function(r,G){var A=f.merge(this.options,{textStyle:{color:"#07a"},backgroundColor:"rgba(250, 250, 250, 0.8)",effect:{x:this.canvasWidth/2,y:this.canvasHeight/2,r0:60,r:100,color:"#bbdcff",brushType:"fill",textPosition:"inside",textFont:"normal 30px verdana",textColor:"rgba(30, 144, 255, 0.6)",timeInterval:100}}),F=A.effect,C=A.textStyle;null==C.x&&(C.x=F.x),null==C.y&&(C.y=F.y+(F.r0+F.r)/2-5);for(var z=this.createTextShape(A.textStyle),q=this.createBackgroundShape(A.backgroundColor),o=F.x,D=F.y,E=F.r0+6,H=F.r-6,J=F.color,I=b.lift(J,0.1),w=new g({highlightStyle:f.clone(F)}),v=[],L=b.getGradientColors(["#ff6400","#ffe100","#97ff00"],25),n=15,a=240,K=0;16>K;K++){v.push(new h({highlightStyle:{x:o,y:D,r0:E,r:H,startAngle:a-n,endAngle:a,brushType:"fill",color:I},_color:b.getLinearGradient(o+E*Math.cos(a,!0),D-E*Math.sin(a,!0),o+E*Math.cos(a-n,!0),D-E*Math.sin(a-n,!0),[[0,L[2*K]],[1,L[2*K+1]]])})),a-=n}a=360;for(var K=0;4>K;K++){v.push(new h({highlightStyle:{x:o,y:D,r0:E,r:H,startAngle:a-n,endAngle:a,brushType:"fill",color:I},_color:b.getLinearGradient(o+E*Math.cos(a,!0),D-E*Math.sin(a,!0),o+E*Math.cos(a-n,!0),D-E*Math.sin(a-n,!0),[[0,L[2*K+32]],[1,L[2*K+33]]])})),a-=n}var B=0;if(null!=A.progress){r(q),B=100*this.adjust(A.progress,[0,1]).toFixed(2)/5,w.highlightStyle.text=5*B+"%",r(w);for(var K=0;20>K;K++){v[K].highlightStyle.color=B>K?v[K]._color:I,r(v[K])}return r(z),void G()}return setInterval(function(){r(q),B+=B>=20?-20:1,r(w);for(var e=0;20>e;e++){v[e].highlightStyle.color=B>e?v[e]._color:I,r(v[e])}r(z),G()},F.timeInterval)},j}),define("zrender/loadingEffect/Spin",["require","./Base","../tool/util","../tool/color","../tool/area","../shape/Sector"],function(c){function j(a){d.call(this,a)}var d=c("./Base"),f=c("../tool/util"),b=c("../tool/color"),g=c("../tool/area"),h=c("../shape/Sector");return f.inherits(j,d),j.prototype._start=function(r,G){var A=f.merge(this.options,{textStyle:{color:"#fff",textAlign:"start"},backgroundColor:"rgba(0, 0, 0, 0.8)"}),F=this.createTextShape(A.textStyle),C=10,z=g.getTextWidth(F.highlightStyle.text,F.highlightStyle.textFont),q=g.getTextHeight(F.highlightStyle.text,F.highlightStyle.textFont),o=f.merge(this.options.effect||{},{r0:9,r:15,n:18,color:"#fff",timeInterval:100}),D=this.getLocation(this.options.textStyle,z+C+2*o.r,Math.max(2*o.r,q));o.x=D.x+o.r,o.y=F.highlightStyle.y=D.y+D.height/2,F.highlightStyle.x=o.x+o.r+C;for(var E=this.createBackgroundShape(A.backgroundColor),H=o.n,J=o.x,I=o.y,w=o.r0,v=o.r,L=o.color,n=[],a=Math.round(180/H),K=0;H>K;K++){n[K]=new h({highlightStyle:{x:J,y:I,r0:w,r:v,startAngle:a*K*2,endAngle:a*K*2+a,color:b.alpha(L,(K+1)/H),brushType:"fill"}})}var B=[0,J,I];return setInterval(function(){r(E),B[0]-=0.3;for(var e=0;H>e;e++){n[e].rotation=B,r(n[e])}r(F),G()},o.timeInterval)},j}),define("zrender/loadingEffect/Whirling",["require","./Base","../tool/util","../tool/area","../shape/Ring","../shape/Droplet","../shape/Circle"],function(c){function k(a){d.call(this,a)}var d=c("./Base"),f=c("../tool/util"),b=c("../tool/area"),g=c("../shape/Ring"),h=c("../shape/Droplet"),j=c("../shape/Circle");return f.inherits(k,d),k.prototype._start=function(o,z){var v=f.merge(this.options,{textStyle:{color:"#888",textAlign:"start"},backgroundColor:"rgba(250, 250, 250, 0.8)"}),w=this.createTextShape(v.textStyle),s=10,n=b.getTextWidth(w.highlightStyle.text,w.highlightStyle.textFont),a=b.getTextHeight(w.highlightStyle.text,w.highlightStyle.textFont),x=f.merge(this.options.effect||{},{r:18,colorIn:"#fff",colorOut:"#555",colorWhirl:"#6cf",timeInterval:50}),y=this.getLocation(this.options.textStyle,n+s+2*x.r,Math.max(2*x.r,a));x.x=y.x+x.r,x.y=w.highlightStyle.y=y.y+y.height/2,w.highlightStyle.x=x.x+x.r+s;var A=this.createBackgroundShape(v.backgroundColor),C=new h({highlightStyle:{a:Math.round(x.r/2),b:Math.round(x.r-x.r/6),brushType:"fill",color:x.colorWhirl}}),B=new j({highlightStyle:{r:Math.round(x.r/6),brushType:"fill",color:x.colorIn}}),r=new g({highlightStyle:{r0:Math.round(x.r-x.r/3),r:x.r,brushType:"fill",color:x.colorOut}}),q=[0,x.x,x.y];return C.highlightStyle.x=B.highlightStyle.x=r.highlightStyle.x=q[1],C.highlightStyle.y=B.highlightStyle.y=r.highlightStyle.y=q[2],setInterval(function(){o(A),o(r),q[0]-=0.3,C.rotation=q,o(C),o(B),o(w),z()},x.timeInterval)},k}),define("echarts/theme/macarons",[],function(){var a={color:["#2ec7c9","#b6a2de","#5ab1ef","#ffb980","#d87a80","#8d98b3","#e5cf0d","#97b552","#95706d","#dc69aa","#07a2a4","#9a7fd1","#588dd5","#f5994e","#c05050","#59678c","#c9ab00","#7eb00a","#6f5553","#c14089"],title:{textStyle:{fontWeight:"normal",color:"#008acd"}},dataRange:{itemWidth:15,color:["#5ab1ef","#e0ffff"]},toolbox:{color:["#1e90ff","#1e90ff","#1e90ff","#1e90ff"],effectiveColor:"#ff4500"},tooltip:{backgroundColor:"rgba(50,50,50,0.5)",axisPointer:{type:"line",lineStyle:{color:"#008acd"},crossStyle:{color:"#008acd"},shadowStyle:{color:"rgba(200,200,200,0.2)"}}},dataZoom:{dataBackgroundColor:"#efefff",fillerColor:"rgba(182,162,222,0.2)",handleColor:"#008acd"},grid:{borderColor:"#eee"},categoryAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitLine:{lineStyle:{color:["#eee"]}}},valueAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.1)","rgba(200,200,200,0.1)"]}},splitLine:{lineStyle:{color:["#eee"]}}},polar:{axisLine:{lineStyle:{color:"#ddd"}},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(200,200,200,0.2)"]}},splitLine:{lineStyle:{color:"#ddd"}}},timeline:{lineStyle:{color:"#008acd"},controlStyle:{normal:{color:"#008acd"},emphasis:{color:"#008acd"}},symbol:"emptyCircle",symbolSize:3},bar:{itemStyle:{normal:{barBorderRadius:5},emphasis:{barBorderRadius:5}}},line:{smooth:!0,symbol:"emptyCircle",symbolSize:3},k:{itemStyle:{normal:{color:"#d87a80",color0:"#2ec7c9",lineStyle:{color:"#d87a80",color0:"#2ec7c9"}}}},scatter:{symbol:"circle",symbolSize:4},radar:{symbol:"emptyCircle",symbolSize:3},map:{itemStyle:{normal:{areaStyle:{color:"#ddd"},label:{textStyle:{color:"#d87a80"}}},emphasis:{areaStyle:{color:"#fe994e"}}}},force:{itemStyle:{normal:{linkStyle:{color:"#1e90ff"}}}},chord:{itemStyle:{normal:{borderWidth:1,borderColor:"rgba(128, 128, 128, 0.5)",chordStyle:{lineStyle:{color:"rgba(128, 128, 128, 0.5)"}}},emphasis:{borderWidth:1,borderColor:"rgba(128, 128, 128, 0.5)",chordStyle:{lineStyle:{color:"rgba(128, 128, 128, 0.5)"}}}}},gauge:{axisLine:{lineStyle:{color:[[0.2,"#2ec7c9"],[0.8,"#5ab1ef"],[1,"#d87a80"]],width:10}},axisTick:{splitNumber:10,length:15,lineStyle:{color:"auto"}},splitLine:{length:22,lineStyle:{color:"auto"}},pointer:{width:5}},textStyle:{fontFamily:"微软雅黑, Arial, Verdana, sans-serif"}};return a}),define("echarts/theme/infographic",[],function(){var a={color:["#C1232B","#B5C334","#FCCE10","#E87C25","#27727B","#FE8463","#9BCA63","#FAD860","#F3A43B","#60C0DD","#D7504B","#C6E579","#F4E001","#F0805A","#26C0C0"],title:{textStyle:{fontWeight:"normal",color:"#27727B"}},dataRange:{x:"right",y:"center",itemWidth:5,itemHeight:25,color:["#C1232B","#FCCE10"]},toolbox:{color:["#C1232B","#B5C334","#FCCE10","#E87C25","#27727B","#FE8463","#9BCA63","#FAD860","#F3A43B","#60C0DD"],effectiveColor:"#ff4500"},tooltip:{backgroundColor:"rgba(50,50,50,0.5)",axisPointer:{type:"line",lineStyle:{color:"#27727B",type:"dashed"},crossStyle:{color:"#27727B"},shadowStyle:{color:"rgba(200,200,200,0.3)"}}},dataZoom:{dataBackgroundColor:"rgba(181,195,52,0.3)",fillerColor:"rgba(181,195,52,0.2)",handleColor:"#27727B"},grid:{borderWidth:0},categoryAxis:{axisLine:{lineStyle:{color:"#27727B"}},splitLine:{show:!1}},valueAxis:{axisLine:{show:!1},splitArea:{show:!1},splitLine:{lineStyle:{color:["#ccc"],type:"dashed"}}},polar:{axisLine:{lineStyle:{color:"#ddd"}},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(200,200,200,0.2)"]}},splitLine:{lineStyle:{color:"#ddd"}}},timeline:{lineStyle:{color:"#27727B"},controlStyle:{normal:{color:"#27727B"},emphasis:{color:"#27727B"}},symbol:"emptyCircle",symbolSize:3},line:{itemStyle:{normal:{borderWidth:2,borderColor:"#fff",lineStyle:{width:3}},emphasis:{borderWidth:0}},symbol:"circle",symbolSize:3.5},k:{itemStyle:{normal:{color:"#C1232B",color0:"#B5C334",lineStyle:{width:1,color:"#C1232B",color0:"#B5C334"}}}},scatter:{itemStyle:{normal:{borderWidth:1,borderColor:"rgba(200,200,200,0.5)"},emphasis:{borderWidth:0}},symbol:"star4",symbolSize:4},radar:{symbol:"emptyCircle",symbolSize:3},map:{itemStyle:{normal:{areaStyle:{color:"#ddd"},label:{textStyle:{color:"#C1232B"}}},emphasis:{areaStyle:{color:"#fe994e"},label:{textStyle:{color:"rgb(100,0,0)"}}}}},force:{itemStyle:{normal:{linkStyle:{color:"#27727B"}}}},chord:{itemStyle:{normal:{borderWidth:1,borderColor:"rgba(128, 128, 128, 0.5)",chordStyle:{lineStyle:{color:"rgba(128, 128, 128, 0.5)"}}},emphasis:{borderWidth:1,borderColor:"rgba(128, 128, 128, 0.5)",chordStyle:{lineStyle:{color:"rgba(128, 128, 128, 0.5)"}}}}},gauge:{center:["50%","80%"],radius:"100%",startAngle:180,endAngle:0,axisLine:{show:!0,lineStyle:{color:[[0.2,"#B5C334"],[0.8,"#27727B"],[1,"#C1232B"]],width:"40%"}},axisTick:{splitNumber:2,length:5,lineStyle:{color:"#fff"}},axisLabel:{textStyle:{color:"#fff",fontWeight:"bolder"}},splitLine:{length:"5%",lineStyle:{color:"#fff"}},pointer:{width:"40%",length:"80%",color:"#fff"},title:{offsetCenter:[0,-20],textStyle:{color:"auto",fontSize:20}},detail:{offsetCenter:[0,0],textStyle:{color:"auto",fontSize:40}}},textStyle:{fontFamily:"微软雅黑, Arial, Verdana, sans-serif"}};return a}),define("zrender/dep/excanvas",["require"],function(){return document.createElement("canvas").getContext?G_vmlCanvasManager=!1:!function(){function ai(){return this.context_||(this.context_=new ac(this))}function aM(a,c){var b=aD.call(arguments,2);return function(){return a.apply(c,b.concat(aD.call(arguments)))}}function aq(a){return String(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function aA(a,c,b){a.namespaces[c]||a.namespaces.add(c,b,"#default#VML")}function aa(a){if(aA(a,"g_vml_","urn:schemas-microsoft-com:vml"),aA(a,"g_o_","urn:schemas-microsoft-com:office:office"),!a.styleSheets.ex_canvas_){var b=a.createStyleSheet();b.owningElement.id="ex_canvas_",b.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}"}}function aC(a){var b=a.srcElement;switch(a.propertyName){case"width":b.getContext().clearRect(),b.style.width=b.attributes.width.nodeValue+"px",b.firstChild.style.width=b.clientWidth+"px";break;case"height":b.getContext().clearRect(),b.style.height=b.attributes.height.nodeValue+"px",b.firstChild.style.height=b.clientHeight+"px"}}function aI(a){var b=a.srcElement;b.firstChild&&(b.firstChild.style.width=b.clientWidth+"px",b.firstChild.style.height=b.clientHeight+"px")}function aK(){return[[1,0,0],[0,1,0],[0,0,1]]}function aw(c,k){for(var d=aK(),f=0;3>f;f++){for(var b=0;3>b;b++){for(var g=0,h=0;3>h;h++){g+=c[f][h]*k[h][b]}d[f][b]=g}}return d}function ao(a,b){b.fillStyle=a.fillStyle,b.lineCap=a.lineCap,b.lineJoin=a.lineJoin,b.lineWidth=a.lineWidth,b.miterLimit=a.miterLimit,b.shadowBlur=a.shadowBlur,b.shadowColor=a.shadowColor,b.shadowOffsetX=a.shadowOffsetX,b.shadowOffsetY=a.shadowOffsetY,b.strokeStyle=a.strokeStyle,b.globalAlpha=a.globalAlpha,b.font=a.font,b.textAlign=a.textAlign,b.textBaseline=a.textBaseline,b.scaleX_=a.scaleX_,b.scaleY_=a.scaleY_,b.lineScale_=a.lineScale_}function ag(a){var d=a.indexOf("(",3),b=a.indexOf(")",d+1),c=a.substring(d+1,b).split(",");return(4!=c.length||"a"!=a.charAt(3))&&(c[3]=1),c}function ae(a){return parseFloat(a)/100}function ay(a,c,b){return Math.min(b,Math.max(c,a))}function aE(c){var p,d,g,b,h,k;if(b=parseFloat(c[0])/360%360,0>b&&b++,h=ay(ae(c[1]),0,1),k=ay(ae(c[2]),0,1),0==h){p=d=g=k}else{var m=0.5>k?k*(1+h):k+h-k*h,f=2*k-m;p=aO(f,m,b+1/3),d=aO(f,m,b),g=aO(f,m,b-1/3)}return"#"+ah[Math.floor(255*p)]+ah[Math.floor(255*d)]+ah[Math.floor(255*g)]}function aO(a,c,b){return 0>b&&b++,b>1&&b--,1>6*b?a+6*(c-a)*b:1>2*b?c:2>3*b?a+(c-a)*(2/3-b)*6:a}function aR(c){if(c in aJ){return aJ[c]}var h,d=1;if(c=String(c),"#"==c.charAt(0)){h=c}else{if(/^rgb/.test(c)){for(var f,b=ag(c),h="#",g=0;3>g;g++){f=-1!=b[g].indexOf("%")?Math.floor(255*ae(b[g])):+b[g],h+=ah[ay(f,0,255)]}d=+b[3]}else{if(/^hsl/.test(c)){var b=ag(c);h=aE(b),d=b[3]}else{h=ap[c]||c}}}return aJ[c]={color:h,alpha:d}}function aP(c){if(aX[c]){return aX[c]}var g,d=document.createElement("div"),f=d.style;try{f.font=c,g=f.fontFamily.split(",")[0]}catch(b){}return aX[c]={style:f.fontStyle||an.style,variant:f.fontVariant||an.variant,weight:f.fontWeight||an.weight,size:f.fontSize||an.size,family:g||an.family}}function am(c,h){var d={};for(var f in c){d[f]=c[f]}var b=parseFloat(h.currentStyle.fontSize),g=parseFloat(c.size);return d.size="number"==typeof c.size?c.size:-1!=c.size.indexOf("px")?g:-1!=c.size.indexOf("em")?b*g:-1!=c.size.indexOf("%")?b/100*g:-1!=c.size.indexOf("pt")?g/0.75:b,d}function ak(a){return a.style+" "+a.variant+" "+a.weight+" "+a.size+"px '"+a.family+"'"}function aW(a){return aZ[a]||"square"}function ac(a){this.m_=aK(),this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.strokeStyle="#000",this.fillStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*al,this.globalAlpha=1,this.font="12px 微软雅黑",this.textAlign="left",this.textBaseline="alphabetic",this.canvas=a;var d="width:"+a.clientWidth+"px;height:"+a.clientHeight+"px;overflow:hidden;position:absolute",b=a.ownerDocument.createElement("div");b.style.cssText=d,a.appendChild(b);var c=b.cloneNode(!1);c.style.backgroundColor="#fff",c.style.filter="alpha(opacity=0)",a.appendChild(c),this.element_=b,this.scaleX_=1,this.scaleY_=1,this.lineScale_=1}function j(a,d,b,c){a.currentPath_.push({type:"bezierCurveTo",cp1x:d.x,cp1y:d.y,cp2x:b.x,cp2y:b.y,x:c.x,y:c.y}),a.currentX_=c.x,a.currentY_=c.y}function aU(c,h){var d=aR(c.strokeStyle),f=d.color,b=d.alpha*c.globalAlpha,g=c.lineScale_*c.lineWidth;1>g&&(b*=g),h.push("<g_vml_:stroke",' opacity="',b,'"',' joinstyle="',c.lineJoin,'"',' miterlimit="',c.miterLimit,'"',' endcap="',aW(c.lineCap),'"',' weight="',g,'px"',' color="',f,'" />')}function au(G,bc,V,a4){var v=G.fillStyle,a5=G.scaleX_,a9=G.scaleY_,ba=a4.x-V.x,a0=a4.y-V.y;if(v instanceof aT){var R=0,F={x:0,y:0},D=0,a2=1;if("gradient"==v.type_){var a7=v.x0_/a5,be=v.y0_/a9,bf=v.x1_/a5,Q=v.y1_/a9,N=aQ(G,a7,be),bi=aQ(G,bf,Q),C=bi.x-N.x,q=bi.y-N.y;R=180*Math.atan2(C,q)/Math.PI,0>R&&(R+=360),1e-06>R&&(R=0)}else{var N=aQ(G,v.x0_,v.y0_);F={x:(N.x-V.x)/ba,y:(N.y-V.y)/a0},ba/=a5*al,a0/=a9*al;var bh=af.max(ba,a0);D=2*v.r0_/bh,a2=2*v.r1_/bh-D}var Y=v.colors_;Y.sort(function(a,b){return a.offset-b.offset});for(var a1=Y.length,bg=Y[0].color,W=Y[a1-1].color,bb=Y[0].alpha*G.globalAlpha,Z=Y[a1-1].alpha*G.globalAlpha,bd=[],H=0;a1>H;H++){var bj=Y[H];bd.push(bj.offset*a2+D+" "+bj.color)}bc.push('<g_vml_:fill type="',v.type_,'"',' method="none" focus="100%"',' color="',bg,'"',' color2="',W,'"',' colors="',bd.join(","),'"',' opacity="',Z,'"',' g_o_:opacity2="',bb,'"',' angle="',R,'"',' focusposition="',F.x,",",F.y,'" />')}else{if(v instanceof aV){if(ba&&a0){var B=-V.x,a3=-V.y;bc.push("<g_vml_:fill",' position="',B/ba*a5*a5,",",a3/a0*a9*a9,'"',' type="tile"',' src="',v.src_,'" />')}}else{var X=aR(G.fillStyle),a6=X.color,a8=X.alpha*G.globalAlpha;bc.push('<g_vml_:fill color="',a6,'" opacity="',a8,'" />')}}}function aQ(a,d,b){var c=a.m_;return{x:al*(d*c[0][0]+b*c[1][0]+c[2][0])-at,y:al*(d*c[0][1]+b*c[1][1]+c[2][1])-at}}function ax(a){return isFinite(a[0][0])&&isFinite(a[0][1])&&isFinite(a[1][0])&&isFinite(a[1][1])&&isFinite(a[2][0])&&isFinite(a[2][1])}function aS(a,d,b){if(ax(d)&&(a.m_=d,a.scaleX_=Math.sqrt(d[0][0]*d[0][0]+d[0][1]*d[0][1]),a.scaleY_=Math.sqrt(d[1][0]*d[1][0]+d[1][1]*d[1][1]),b)){var c=d[0][0]*d[1][1]-d[0][1]*d[1][0];a.lineScale_=az(ab(c))}}function aT(a){this.type_=a,this.x0_=0,this.y0_=0,this.r0_=0,this.x1_=0,this.y1_=0,this.r1_=0,this.colors_=[]}function aV(a,b){switch(aL(a),b){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=b;break;default:ar("SYNTAX_ERR")}this.src_=a.src,this.width_=a.width,this.height_=a.height}function ar(a){throw new av(a)}function aL(a){a&&1==a.nodeType&&"IMG"==a.tagName||ar("TYPE_MISMATCH_ERR"),"complete"!=a.readyState&&ar("INVALID_STATE_ERR")}function av(a){this.code=this[a],this.message=a+": DOM Exception "+this.code}var af=Math,aN=af.round,aj=af.sin,aY=af.cos,ab=af.abs,az=af.sqrt,al=10,at=al/2,aD=(+navigator.userAgent.match(/MSIE ([\d.]+)?/)[1],Array.prototype.slice);aa(document);var aF={init:function(a){var b=a||document;b.createElement("canvas"),b.attachEvent("onreadystatechange",aM(this.init_,this,b))},init_:function(a){for(var c=a.getElementsByTagName("canvas"),b=0;b<c.length;b++){this.initElement(c[b])}},initElement:function(b){if(!b.getContext){b.getContext=ai,aa(b.ownerDocument),b.innerHTML="",b.attachEvent("onpropertychange",aC),b.attachEvent("onresize",aI);var a=b.attributes;a.width&&a.width.specified?b.style.width=a.width.nodeValue+"px":b.width=b.clientWidth,a.height&&a.height.specified?b.style.height=a.height.nodeValue+"px":b.height=b.clientHeight}return b}};aF.init();for(var ah=[],aB=0;16>aB;aB++){for(var ad=0;16>ad;ad++){ah[16*aB+ad]=aB.toString(16)+ad.toString(16)}}var ap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},aJ={},an={style:"normal",variant:"normal",weight:"normal",size:12,family:"微软雅黑"},aX={},aZ={butt:"flat",round:"round"},aH=ac.prototype;aH.clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null),this.element_.innerHTML=""},aH.beginPath=function(){this.currentPath_=[]},aH.moveTo=function(a,c){var b=aQ(this,a,c);this.currentPath_.push({type:"moveTo",x:b.x,y:b.y}),this.currentX_=b.x,this.currentY_=b.y},aH.lineTo=function(a,c){var b=aQ(this,a,c);this.currentPath_.push({type:"lineTo",x:b.x,y:b.y}),this.currentX_=b.x,this.currentY_=b.y},aH.bezierCurveTo=function(c,p,d,g,b,h){var k=aQ(this,b,h),m=aQ(this,c,p),f=aQ(this,d,g);j(this,m,f,k)},aH.quadraticCurveTo=function(c,l,d,f){var b=aQ(this,c,l),g=aQ(this,d,f),h={x:this.currentX_+2/3*(b.x-this.currentX_),y:this.currentY_+2/3*(b.y-this.currentY_)},k={x:h.x+(g.x-this.currentX_)/3,y:h.y+(g.y-this.currentY_)/3};j(this,h,k,g)},aH.arc=function(k,C,u,x,b,y){u*=al;var A=y?"at":"wa",B=k+aY(x)*u-at,v=C+aj(x)*u-at,q=k+aY(b)*u-at,g=C+aj(b)*u-at;B!=q||y||(B+=0.125);var f=aQ(this,k,C),w=aQ(this,B,v),z=aQ(this,q,g);this.currentPath_.push({type:A,x:f.x,y:f.y,radius:u,xStart:w.x,yStart:w.y,xEnd:z.x,yEnd:z.y})},aH.rect=function(a,d,b,c){this.moveTo(a,d),this.lineTo(a+b,d),this.lineTo(a+b,d+c),this.lineTo(a,d+c),this.closePath()},aH.strokeRect=function(c,g,d,f){var b=this.currentPath_;this.beginPath(),this.moveTo(c,g),this.lineTo(c+d,g),this.lineTo(c+d,g+f),this.lineTo(c,g+f),this.closePath(),this.stroke(),this.currentPath_=b},aH.fillRect=function(c,g,d,f){var b=this.currentPath_;this.beginPath(),this.moveTo(c,g),this.lineTo(c+d,g),this.lineTo(c+d,g+f),this.lineTo(c,g+f),this.closePath(),this.fill(),this.currentPath_=b},aH.createLinearGradient=function(c,g,d,f){var b=new aT("gradient");return b.x0_=c,b.y0_=g,b.x1_=d,b.y1_=f,b},aH.createRadialGradient=function(c,k,d,f,b,g){var h=new aT("gradientradial");return h.x0_=c,h.y0_=k,h.r0_=d,h.x1_=f,h.y1_=b,h.r1_=g,h},aH.drawImage=function(B){var O,F,J,v,K,M,N,H,E=B.runtimeStyle.width,A=B.runtimeStyle.height;B.runtimeStyle.width="auto",B.runtimeStyle.height="auto";var z=B.width,I=B.height;if(B.runtimeStyle.width=E,B.runtimeStyle.height=A,3==arguments.length){O=arguments[1],F=arguments[2],K=M=0,N=J=z,H=v=I}else{if(5==arguments.length){O=arguments[1],F=arguments[2],J=arguments[3],v=arguments[4],K=M=0,N=z,H=I}else{if(9!=arguments.length){throw Error("Invalid number of arguments")}K=arguments[1],M=arguments[2],N=arguments[3],H=arguments[4],O=arguments[5],F=arguments[6],J=arguments[7],v=arguments[8]}}var L=aQ(this,O,F),P=[],R=10,Q=10,D=T=1;if(P.push(" <g_vml_:group",' coordsize="',al*R,",",al*Q,'"',' coordorigin="0,0"',' style="width:',R,"px;height:",Q,"px;position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]||1!=this.m_[1][1]||this.m_[1][0]){var C=[],D=this.scaleX_,T=this.scaleY_;C.push("M11=",this.m_[0][0]/D,",","M12=",this.m_[1][0]/T,",","M21=",this.m_[0][1]/D,",","M22=",this.m_[1][1]/T,",","Dx=",aN(L.x/al),",","Dy=",aN(L.y/al),"");var w=L,q=aQ(this,O+J,F),S=aQ(this,O,F+v),G=aQ(this,O+J,F+v);w.x=af.max(w.x,q.x,S.x,G.x),w.y=af.max(w.y,q.y,S.y,G.y),P.push("padding:0 ",aN(w.x/al),"px ",aN(w.y/al),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",C.join(""),", SizingMethod='clip');")}else{P.push("top:",aN(L.y/al),"px;left:",aN(L.x/al),"px;")}P.push(' ">'),(K||M)&&P.push('<div style="overflow: hidden; width:',Math.ceil((J+K*J/N)*D),"px;"," height:",Math.ceil((v+M*v/H)*T),"px;"," filter:progid:DxImageTransform.Microsoft.Matrix(Dx=",-K*J/N*D,",Dy=",-M*v/H*T,');">'),P.push('<div style="width:',Math.round(D*z*J/N),"px;"," height:",Math.round(T*I*v/H),"px;"," filter:"),this.globalAlpha<1&&P.push(" progid:DXImageTransform.Microsoft.Alpha(opacity="+100*this.globalAlpha+")"),P.push(" progid:DXImageTransform.Microsoft.AlphaImageLoader(src=",B.src,',sizingMethod=scale)">'),(K||M)&&P.push("</div>"),P.push("</div></div>"),this.element_.insertAdjacentHTML("BeforeEnd",P.join(""))},aH.stroke=function(c){var p=[],d=10,g=10;p.push("<g_vml_:shape",' filled="',!!c,'"',' style="position:absolute;width:',d,"px;height:",g,'px;"',' coordorigin="0,0"',' coordsize="',al*d,",",al*g,'"',' stroked="',!c,'"',' path="');for(var b={x:null,y:null},h={x:null,y:null},k=0;k<this.currentPath_.length;k++){var m,f=this.currentPath_[k];switch(f.type){case"moveTo":m=f,p.push(" m ",aN(f.x),",",aN(f.y));break;case"lineTo":p.push(" l ",aN(f.x),",",aN(f.y));break;case"close":p.push(" x "),f=null;break;case"bezierCurveTo":p.push(" c ",aN(f.cp1x),",",aN(f.cp1y),",",aN(f.cp2x),",",aN(f.cp2y),",",aN(f.x),",",aN(f.y));break;case"at":case"wa":p.push(" ",f.type," ",aN(f.x-this.scaleX_*f.radius),",",aN(f.y-this.scaleY_*f.radius)," ",aN(f.x+this.scaleX_*f.radius),",",aN(f.y+this.scaleY_*f.radius)," ",aN(f.xStart),",",aN(f.yStart)," ",aN(f.xEnd),",",aN(f.yEnd))}f&&((null==b.x||f.x<b.x)&&(b.x=f.x),(null==h.x||f.x>h.x)&&(h.x=f.x),(null==b.y||f.y<b.y)&&(b.y=f.y),(null==h.y||f.y>h.y)&&(h.y=f.y))}p.push(' ">'),c?au(this,p,b,h):aU(this,p),p.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",p.join(""))},aH.fill=function(){this.stroke(!0)},aH.closePath=function(){this.currentPath_.push({type:"close"})},aH.save=function(){var a={};ao(this,a),this.aStack_.push(a),this.mStack_.push(this.m_),this.m_=aw(aK(),this.m_)},aH.restore=function(){this.aStack_.length&&(ao(this.aStack_.pop(),this),this.m_=this.mStack_.pop())},aH.translate=function(a,c){var b=[[1,0,0],[0,1,0],[a,c,1]];aS(this,aw(b,this.m_),!1)},aH.rotate=function(a){var d=aY(a),b=aj(a),c=[[d,b,0],[-b,d,0],[0,0,1]];aS(this,aw(c,this.m_),!1)},aH.scale=function(a,c){var b=[[a,0,0],[0,c,0],[0,0,1]];aS(this,aw(b,this.m_),!0)},aH.transform=function(c,k,d,f,b,g){var h=[[c,k,0],[d,f,0],[b,g,1]];aS(this,aw(h,this.m_),!0)},aH.setTransform=function(c,k,d,f,b,g){var h=[[c,k,0],[d,f,0],[b,g,1]];aS(this,h,!0)},aH.drawText_=function(v,F,A,g,B){var D=this.m_,E=1000,x=0,w=E,q={x:0,y:0},k=[],z=am(aP(this.font),this.element_),C=ak(z),G=this.element_.currentStyle,H=this.textAlign.toLowerCase();switch(H){case"left":case"center":case"right":break;case"end":H="ltr"==G.direction?"right":"left";break;case"start":H="rtl"==G.direction?"right":"left";break;default:H="left"}switch(this.textBaseline){case"hanging":case"top":q.y=z.size/1.75;break;case"middle":break;default:case null:case"alphabetic":case"ideographic":case"bottom":q.y=-z.size/2.25}switch(H){case"right":x=E,w=0.05;break;case"center":x=w=E/2}var I=aQ(this,F+q.x,A+q.y);k.push('<g_vml_:line from="',-x,' 0" to="',w,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!B,'" stroked="',!!B,'" style="position:absolute;width:1px;height:1px;">'),B?aU(this,k):au(this,k,{x:-x,y:0},{x:w,y:z.size});var i=D[0][0].toFixed(3)+","+D[1][0].toFixed(3)+","+D[0][1].toFixed(3)+","+D[1][1].toFixed(3)+",0,0",f=aN(I.x/al)+","+aN(I.y/al);k.push('<g_vml_:skew on="t" matrix="',i,'" ',' offset="',f,'" origin="',x,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',aq(v),'" style="v-text-align:',H,";font:",aq(C),'" /></g_vml_:line>'),this.element_.insertAdjacentHTML("beforeEnd",k.join(""))},aH.fillText=function(a,d,b,c){this.drawText_(a,d,b,c,!1)},aH.strokeText=function(a,d,b,c){this.drawText_(a,d,b,c,!0)},aH.measureText=function(a){if(!this.textMeasureEl_){var d='<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>';this.element_.insertAdjacentHTML("beforeEnd",d),this.textMeasureEl_=this.element_.lastChild}var b=this.element_.ownerDocument;this.textMeasureEl_.innerHTML="";try{this.textMeasureEl_.style.font=this.font}catch(c){}return this.textMeasureEl_.appendChild(b.createTextNode(a)),{width:this.textMeasureEl_.offsetWidth}},aH.clip=function(){},aH.arcTo=function(){},aH.createPattern=function(a,b){return new aV(a,b)},aT.prototype.addColorStop=function(a,b){b=aR(b),this.colors_.push({offset:a,color:b.color,alpha:b.alpha})};var aG=av.prototype=new Error;aG.INDEX_SIZE_ERR=1,aG.DOMSTRING_SIZE_ERR=2,aG.HIERARCHY_REQUEST_ERR=3,aG.WRONG_DOCUMENT_ERR=4,aG.INVALID_CHARACTER_ERR=5,aG.NO_DATA_ALLOWED_ERR=6,aG.NO_MODIFICATION_ALLOWED_ERR=7,aG.NOT_FOUND_ERR=8,aG.NOT_SUPPORTED_ERR=9,aG.INUSE_ATTRIBUTE_ERR=10,aG.INVALID_STATE_ERR=11,aG.SYNTAX_ERR=12,aG.INVALID_MODIFICATION_ERR=13,aG.NAMESPACE_ERR=14,aG.INVALID_ACCESS_ERR=15,aG.VALIDATION_ERR=16,aG.TYPE_MISMATCH_ERR=17,G_vmlCanvasManager=aF,CanvasRenderingContext2D=ac,CanvasGradient=aT,CanvasPattern=aV,DOMException=av}(),G_vmlCanvasManager}),define("zrender/mixin/Eventful",["require"],function(){var a=function(){this._handlers={}};return a.prototype.one=function(b,f,c){var d=this._handlers;return f&&b?(d[b]||(d[b]=[]),d[b].push({h:f,one:!0,ctx:c||this}),this):this},a.prototype.bind=function(b,f,c){var d=this._handlers;return f&&b?(d[b]||(d[b]=[]),d[b].push({h:f,one:!1,ctx:c||this}),this):this},a.prototype.unbind=function(c,h){var d=this._handlers;if(!c){return this._handlers={},this}if(h){if(d[c]){for(var f=[],b=0,g=d[c].length;g>b;b++){d[c][b].h!=h&&f.push(d[c][b])}d[c]=f}d[c]&&0===d[c].length&&delete d[c]}else{delete d[c]}return this},a.prototype.dispatch=function(c){if(this._handlers[c]){var h=arguments,d=h.length;d>3&&(h=Array.prototype.slice.call(h,1));for(var f=this._handlers[c],b=f.length,g=0;b>g;){switch(d){case 1:f[g].h.call(f[g].ctx);break;case 2:f[g].h.call(f[g].ctx,h[1]);break;case 3:f[g].h.call(f[g].ctx,h[1],h[2]);break;default:f[g].h.apply(f[g].ctx,h)}f[g].one?(f.splice(g,1),b--):g++}}return this},a.prototype.dispatchWithContext=function(c){if(this._handlers[c]){var j=arguments,d=j.length;d>4&&(j=Array.prototype.slice.call(j,1,j.length-1));for(var f=j[j.length-1],b=this._handlers[c],g=b.length,h=0;g>h;){switch(d){case 1:b[h].h.call(f);break;case 2:b[h].h.call(f,j[1]);break;case 3:b[h].h.call(f,j[1],j[2]);break;default:b[h].h.apply(f,j)}b[h].one?(b.splice(h,1),g--):h++}}return this},a}),define("zrender/tool/log",["require","../config"],function(a){var b=a("../config");return function(){if(0!==b.debugMode){if(1==b.debugMode){for(var c in arguments){throw new Error(arguments[c])}}else{if(b.debugMode>1){for(var c in arguments){console.log(arguments[c])}}}}}}),define("zrender/tool/guid",[],function(){var a=2311;return function(){return"zrender__"+a++}}),define("zrender/Handler",["require","./config","./tool/env","./tool/event","./tool/util","./tool/vector","./tool/matrix","./mixin/Eventful"],function(k){function E(a,c){return function(d,e){return a.call(c,d,e)}}function w(a,c){return function(e,g,d){return a.call(c,e,g,d)}}function z(a){for(var c=B.length;c--;){var d=B[c];a["_"+d+"Handler"]=E(H[d],a)}}function b(d,l,g){if(this._draggingTarget&&this._draggingTarget.id==d.id||d.isSilent()){return !1}var h=this._event;if(d.isCover(l,g)){d.hoverable&&this.storage.addHover(d);for(var c=d.parent;c;){if(c.clipShape&&!c.clipShape.isCover(this._mouseX,this._mouseY)){return !1}c=c.parent}return this._lastHover!=d&&(this._processOutShape(h),this._processDragLeave(h),this._lastHover=d,this._processDragEnter(h)),this._processOverShape(h),this._processDragOver(h),this._hasfound=1,!0}return !1}var A=k("./config"),C=k("./tool/env"),D=k("./tool/event"),x=k("./tool/util"),v=k("./tool/vector"),j=k("./tool/matrix"),f=A.EVENT,y=k("./mixin/Eventful"),B=["resize","click","dblclick","mousewheel","mousemove","mouseout","mouseup","mousedown","touchstart","touchend","touchmove"],F=function(a){if(window.G_vmlCanvasManager){return !0}a=a||window.event;var c=a.toElement||a.relatedTarget||a.srcElement||a.target;return c&&c.className.match(A.elementClassName)},H={resize:function(a){a=a||window.event,this._lastHover=null,this._isMouseDown=0,this.dispatch(f.RESIZE,a)},click:function(a,d){if(F(a)||d){a=this._zrenderEventFixed(a);var c=this._lastHover;(c&&c.clickable||!c)&&this._clickThreshold<5&&this._dispatchAgency(c,f.CLICK,a),this._mousemoveHandler(a)}},dblclick:function(a,d){if(F(a)||d){a=a||window.event,a=this._zrenderEventFixed(a);var c=this._lastHover;(c&&c.clickable||!c)&&this._clickThreshold<5&&this._dispatchAgency(c,f.DBLCLICK,a),this._mousemoveHandler(a)}},mousewheel:function(d,p){if(F(d)||p){d=this._zrenderEventFixed(d);var g=d.wheelDelta||-d.detail,h=g>0?1.1:1/1.1,c=!1,l=this._mouseX,m=this._mouseY;this.painter.eachBuildinLayer(function(n){var a=n.position;if(n.zoomable){n.__zoom=n.__zoom||1;var e=n.__zoom;e*=h,e=Math.max(Math.min(n.maxZoom,e),n.minZoom),h=e/n.__zoom,n.__zoom=e,a[0]-=(l-a[0])*(h-1),a[1]-=(m-a[1])*(h-1),n.scale[0]*=h,n.scale[1]*=h,n.dirty=!0,c=!0,D.stop(d)}}),c&&this.painter.refresh(),this._dispatchAgency(this._lastHover,f.MOUSEWHEEL,d),this._mousemoveHandler(d)}},mousemove:function(d,m){if((F(d)||m)&&!this.painter.isLoading()){d=this._zrenderEventFixed(d),this._lastX=this._mouseX,this._lastY=this._mouseY,this._mouseX=D.getX(d),this._mouseY=D.getY(d);var g=this._mouseX-this._lastX,h=this._mouseY-this._lastY;this._processDragStart(d),this._hasfound=0,this._event=d,this._iterateAndFindHover(),this._hasfound||((!this._draggingTarget||this._lastHover&&this._lastHover!=this._draggingTarget)&&(this._processOutShape(d),this._processDragLeave(d)),this._lastHover=null,this.storage.delHover(),this.painter.clearHover());var c="default";if(this._draggingTarget){this.storage.drift(this._draggingTarget.id,g,h),this._draggingTarget.modSelf(),this.storage.addHover(this._draggingTarget),this._clickThreshold++}else{if(this._isMouseDown){var l=!1;this.painter.eachBuildinLayer(function(a){a.panable&&(c="move",a.position[0]+=g,a.position[1]+=h,l=!0,a.dirty=!0)}),l&&this.painter.refresh()}}this._draggingTarget||this._hasfound&&this._lastHover.draggable?c="move":this._hasfound&&this._lastHover.clickable&&(c="pointer"),this.root.style.cursor=c,this._dispatchAgency(this._lastHover,f.MOUSEMOVE,d),(this._draggingTarget||this._hasfound||this.storage.hasHoverShape())&&this.painter.refreshHover()}},mouseout:function(a,d){if(F(a)||d){a=this._zrenderEventFixed(a);var c=a.toElement||a.relatedTarget;if(c!=this.root){for(;c&&9!=c.nodeType;){if(c==this.root){return void this._mousemoveHandler(a)}c=c.parentNode}}a.zrenderX=this._lastX,a.zrenderY=this._lastY,this.root.style.cursor="default",this._isMouseDown=0,this._processOutShape(a),this._processDrop(a),this._processDragEnd(a),this.painter.isLoading()||this.painter.refreshHover(),this.dispatch(f.GLOBALOUT,a)}},mousedown:function(a,c){if(F(a)||c){if(this._clickThreshold=0,2==this._lastDownButton){return this._lastDownButton=a.button,void (this._mouseDownTarget=null)}this._lastMouseDownMoment=new Date,a=this._zrenderEventFixed(a),this._isMouseDown=1,this._mouseDownTarget=this._lastHover,this._dispatchAgency(this._lastHover,f.MOUSEDOWN,a),this._lastDownButton=a.button}},mouseup:function(a,c){(F(a)||c)&&(a=this._zrenderEventFixed(a),this.root.style.cursor="default",this._isMouseDown=0,this._mouseDownTarget=null,this._dispatchAgency(this._lastHover,f.MOUSEUP,a),this._processDrop(a),this._processDragEnd(a))},touchstart:function(a,c){(F(a)||c)&&(a=this._zrenderEventFixed(a,!0),this._lastTouchMoment=new Date,this._mobileFindFixed(a),this._mousedownHandler(a))},touchmove:function(a,c){(F(a)||c)&&(a=this._zrenderEventFixed(a,!0),this._mousemoveHandler(a),this._isDragging&&D.stop(a))},touchend:function(a,d){if(F(a)||d){a=this._zrenderEventFixed(a,!0),this._mouseupHandler(a);var c=new Date;c-this._lastTouchMoment<f.touchClickDelay&&(this._mobileFindFixed(a),this._clickHandler(a),c-this._lastClickMoment<f.touchClickDelay/2&&(this._dblclickHandler(a),this._lastHover&&this._lastHover.clickable&&D.stop(a)),this._lastClickMoment=c),this.painter.clearHover()}}},G=function(a,d,c){y.call(this),this.root=a,this.storage=d,this.painter=c,this._lastX=this._lastY=this._mouseX=this._mouseY=0,this._findHover=w(b,this),this._domHover=c.getDomHover(),z(this),window.addEventListener?(window.addEventListener("resize",this._resizeHandler),C.os.tablet||C.os.phone?(a.addEventListener("touchstart",this._touchstartHandler),a.addEventListener("touchmove",this._touchmoveHandler),a.addEventListener("touchend",this._touchendHandler)):(a.addEventListener("click",this._clickHandler),a.addEventListener("dblclick",this._dblclickHandler),a.addEventListener("mousewheel",this._mousewheelHandler),a.addEventListener("mousemove",this._mousemoveHandler),a.addEventListener("mousedown",this._mousedownHandler),a.addEventListener("mouseup",this._mouseupHandler)),a.addEventListener("DOMMouseScroll",this._mousewheelHandler),a.addEventListener("mouseout",this._mouseoutHandler)):(window.attachEvent("onresize",this._resizeHandler),a.attachEvent("onclick",this._clickHandler),a.ondblclick=this._dblclickHandler,a.attachEvent("onmousewheel",this._mousewheelHandler),a.attachEvent("onmousemove",this._mousemoveHandler),a.attachEvent("onmouseout",this._mouseoutHandler),a.attachEvent("onmousedown",this._mousedownHandler),a.attachEvent("onmouseup",this._mouseupHandler))};G.prototype.on=function(a,d,c){return this.bind(a,d,c),this},G.prototype.un=function(a,c){return this.unbind(a,c),this},G.prototype.trigger=function(a,c){switch(a){case f.RESIZE:case f.CLICK:case f.DBLCLICK:case f.MOUSEWHEEL:case f.MOUSEMOVE:case f.MOUSEDOWN:case f.MOUSEUP:case f.MOUSEOUT:this["_"+a+"Handler"](c,!0)}},G.prototype.dispose=function(){var a=this.root;window.removeEventListener?(window.removeEventListener("resize",this._resizeHandler),C.os.tablet||C.os.phone?(a.removeEventListener("touchstart",this._touchstartHandler),a.removeEventListener("touchmove",this._touchmoveHandler),a.removeEventListener("touchend",this._touchendHandler)):(a.removeEventListener("click",this._clickHandler),a.removeEventListener("dblclick",this._dblclickHandler),a.removeEventListener("mousewheel",this._mousewheelHandler),a.removeEventListener("mousemove",this._mousemoveHandler),a.removeEventListener("mousedown",this._mousedownHandler),a.removeEventListener("mouseup",this._mouseupHandler)),a.removeEventListener("DOMMouseScroll",this._mousewheelHandler),a.removeEventListener("mouseout",this._mouseoutHandler)):(window.detachEvent("onresize",this._resizeHandler),a.detachEvent("onclick",this._clickHandler),a.detachEvent("dblclick",this._dblclickHandler),a.detachEvent("onmousewheel",this._mousewheelHandler),a.detachEvent("onmousemove",this._mousemoveHandler),a.detachEvent("onmouseout",this._mouseoutHandler),a.detachEvent("onmousedown",this._mousedownHandler),a.detachEvent("onmouseup",this._mouseupHandler)),this.root=this._domHover=this.storage=this.painter=null,this.un()},G.prototype._processDragStart=function(a){var d=this._lastHover;if(this._isMouseDown&&d&&d.draggable&&!this._draggingTarget&&this._mouseDownTarget==d){if(d.dragEnableTime&&new Date-this._lastMouseDownMoment<d.dragEnableTime){return}var c=d;this._draggingTarget=c,this._isDragging=1,c.invisible=!0,this.storage.mod(c.id),this._dispatchAgency(c,f.DRAGSTART,a),this.painter.refresh()}},G.prototype._processDragEnter=function(a){this._draggingTarget&&this._dispatchAgency(this._lastHover,f.DRAGENTER,a,this._draggingTarget)},G.prototype._processDragOver=function(a){this._draggingTarget&&this._dispatchAgency(this._lastHover,f.DRAGOVER,a,this._draggingTarget)},G.prototype._processDragLeave=function(a){this._draggingTarget&&this._dispatchAgency(this._lastHover,f.DRAGLEAVE,a,this._draggingTarget)},G.prototype._processDrop=function(a){this._draggingTarget&&(this._draggingTarget.invisible=!1,this.storage.mod(this._draggingTarget.id),this.painter.refresh(),this._dispatchAgency(this._lastHover,f.DROP,a,this._draggingTarget))},G.prototype._processDragEnd=function(a){this._draggingTarget&&(this._dispatchAgency(this._draggingTarget,f.DRAGEND,a),this._lastHover=null),this._isDragging=0,this._draggingTarget=null},G.prototype._processOverShape=function(a){this._dispatchAgency(this._lastHover,f.MOUSEOVER,a)},G.prototype._processOutShape=function(a){this._dispatchAgency(this._lastHover,f.MOUSEOUT,a)},G.prototype._dispatchAgency=function(d,u,g,h){var c="on"+u,l={type:u,event:g,target:d,cancelBubble:!1},m=d;for(h&&(l.dragged=h);m&&(m[c]&&(l.cancelBubble=m[c](l)),m.dispatch(u,l),m=m.parent,!l.cancelBubble);){}if(d){l.cancelBubble||this.dispatch(u,l)}else{if(!h){var p={type:u,event:g};this.dispatch(u,p),this.painter.eachOtherLayer(function(a){"function"==typeof a[c]&&a[c](p),a.dispatch&&a.dispatch(u,p)})}}},G.prototype._iterateAndFindHover=function(){var a=j.create();return function(){for(var l,d,e=this.storage.getShapeList(),c=[0,0],g=e.length-1;g>=0;g--){var h=e[g];if(l!==h.zlevel&&(d=this.painter.getLayer(h.zlevel,d),c[0]=this._mouseX,c[1]=this._mouseY,d.needTransform&&(j.invert(a,d.transform),v.applyTransform(c,c,a))),this._findHover(h,c[0],c[1])){break}}}}();var q=[{x:10},{x:-20},{x:10,y:10},{y:-20}];return G.prototype._mobileFindFixed=function(a){this._lastHover=null,this._mouseX=a.zrenderX,this._mouseY=a.zrenderY,this._event=a,this._iterateAndFindHover();for(var d=0;!this._lastHover&&d<q.length;d++){var c=q[d];c.x&&(this._mouseX+=c.x),c.y&&(this._mouseY+=c.y),this._iterateAndFindHover()}this._lastHover&&(a.zrenderX=this._mouseX,a.zrenderY=this._mouseY)},G.prototype._zrenderEventFixed=function(d,l){if(d.zrenderFixed){return d}if(l){var g="touchend"!=d.type?d.targetTouches[0]:d.changedTouches[0];if(g){var h=this.painter._domRoot.getBoundingClientRect();d.zrenderX=g.clientX-h.left,d.zrenderY=g.clientY-h.top}}else{d=d||window.event;var c=d.toElement||d.relatedTarget||d.srcElement||d.target;c&&c!=this._domHover&&(d.zrenderX=("undefined"!=typeof d.offsetX?d.offsetX:d.layerX)+c.offsetLeft,d.zrenderY=("undefined"!=typeof d.offsetY?d.offsetY:d.layerY)+c.offsetTop)}return d.zrenderFixed=1,d},x.merge(G.prototype,y.prototype,!0),G}),define("zrender/Painter",["require","./config","./tool/util","./tool/log","./loadingEffect/Base","./Layer","./shape/Image"],function(c){function q(){return !1}function f(){}function j(a){return a?a.isBuildin?!0:"function"!=typeof a.resize||"function"!=typeof a.refresh?!1:!0:!1}var b=c("./config"),k=c("./tool/util"),m=c("./tool/log"),p=c("./loadingEffect/Base"),g=c("./Layer"),d=function(a,h){this.root=a,a.style["-webkit-tap-highlight-color"]="transparent",a.style["-webkit-user-select"]="none",a.style["user-select"]="none",a.style["-webkit-touch-callout"]="none",this.storage=h,a.innerHTML="",this._width=this._getWidth(),this._height=this._getHeight();var l=document.createElement("div");this._domRoot=l,l.style.position="relative",l.style.overflow="hidden",l.style.width=this._width+"px",l.style.height=this._height+"px",a.appendChild(l),this._layers={},this._zlevelList=[],this._layerConfig={},this._loadingEffect=new p({}),this.shapeToImage=this._createShapeToImageProcessor(),this._bgDom=document.createElement("div"),this._bgDom.style.cssText=["position:absolute;left:0px;top:0px;width:",this._width,"px;height:",this._height+"px;","-webkit-user-select:none;user-select;none;","-webkit-touch-callout:none;"].join(""),this._bgDom.setAttribute("data-zr-dom-id","bg"),this._bgDom.className=b.elementClassName,l.appendChild(this._bgDom),this._bgDom.onselectstart=q;var r=new g("_zrender_hover_",this);this._layers.hover=r,l.appendChild(r.dom),r.initContext(),r.dom.onselectstart=q,r.dom.style["-webkit-user-select"]="none",r.dom.style["user-select"]="none",r.dom.style["-webkit-touch-callout"]="none",this.refreshNextFrame=null};return d.prototype.render=function(a){return this.isLoading()&&this.hideLoading(),this.refresh(a,!0),this},d.prototype.refresh=function(l,v){var r=this.storage.getShapeList(!0);this._paintList(r,v);for(var s=0;s<this._zlevelList.length;s++){var h=this._zlevelList[s],u=this._layers[h];!u.isBuildin&&u.refresh&&u.refresh()}return"function"==typeof l&&l(),this},d.prototype._preProcessLayer=function(a){a.unusedCount++,a.updateTransform()},d.prototype._postProcessLayer=function(a){a.dirty=!1,1==a.unusedCount&&a.clear()},d.prototype._paintList=function(r,A){"undefined"==typeof A&&(A=!1),this._updateLayerStatus(r);var v,x,y;this.eachBuildinLayer(this._preProcessLayer);for(var z=0,w=r.length;w>z;z++){var u=r[z];if(x!==u.zlevel&&(v&&(v.needTransform&&y.restore(),y.flush&&y.flush()),x=u.zlevel,v=this.getLayer(x),v.isBuildin||m("ZLevel "+x+" has been used by unkown layer "+v.id),y=v.ctx,v.unusedCount=0,(v.dirty||A)&&v.clear(),v.needTransform&&(y.save(),v.setTransform(y))),(v.dirty||A)&&!u.invisible&&(!u.onbrush||u.onbrush&&!u.onbrush(y,!1))){if(b.catchBrushException){try{u.brush(y,!1,this.refreshNextFrame)}catch(a){m(a,"brush error of "+u.type,u)}}else{u.brush(y,!1,this.refreshNextFrame)}}u.__dirty=!1}v&&(v.needTransform&&y.restore(),y.flush&&y.flush()),this.eachBuildinLayer(this._postProcessLayer)},d.prototype.getLayer=function(a){var h=this._layers[a];return h||(h=new g(a,this),h.isBuildin=!0,this._layerConfig[a]&&k.merge(h,this._layerConfig[a],!0),h.updateTransform(),this.insertLayer(a,h),h.initContext()),h},d.prototype.insertLayer=function(l,v){if(this._layers[l]){return void m("ZLevel "+l+" has been used already")}if(!j(v)){return void m("Layer of zlevel "+l+" is not valid")}var n=this._zlevelList.length,h=null,r=-1;if(n>0&&l>this._zlevelList[0]){for(r=0;n-1>r&&!(this._zlevelList[r]<l&&this._zlevelList[r+1]>l);r++){}h=this._layers[this._zlevelList[r]]}this._zlevelList.splice(r+1,0,l);var u=h?h.dom:this._bgDom;u.nextSibling?u.parentNode.insertBefore(v.dom,u.nextSibling):u.parentNode.appendChild(v.dom),this._layers[l]=v},d.prototype.eachLayer=function(a,o){for(var h=0;h<this._zlevelList.length;h++){var l=this._zlevelList[h];a.call(o,this._layers[l],l)}},d.prototype.eachBuildinLayer=function(l,s){for(var o=0;o<this._zlevelList.length;o++){var r=this._zlevelList[o],h=this._layers[r];h.isBuildin&&l.call(s,h,r)}},d.prototype.eachOtherLayer=function(l,s){for(var o=0;o<this._zlevelList.length;o++){var r=this._zlevelList[o],h=this._layers[r];h.isBuildin||l.call(s,h,r)}},d.prototype.getLayers=function(){return this._layers},d.prototype._updateLayerStatus=function(l){var z=this._layers,u={};this.eachBuildinLayer(function(a,i){u[i]=a.elCount,a.elCount=0});for(var v=0,h=l.length;h>v;v++){var w=l[v],x=w.zlevel,y=z[x];if(y){if(y.elCount++,y.dirty){continue}y.dirty=w.__dirty}}this.eachBuildinLayer(function(a,i){u[i]!==a.elCount&&(a.dirty=!0)})},d.prototype.refreshShapes=function(l,s){for(var o=0,r=l.length;r>o;o++){var h=l[o];h.modSelf()}return this.refresh(s),this},d.prototype.setLoadingEffect=function(a){return this._loadingEffect=a,this},d.prototype.clear=function(){return this.eachBuildinLayer(this._clearLayer),this},d.prototype._clearLayer=function(a){a.clear()},d.prototype.modLayer=function(a,l){if(l){this._layerConfig[a]?k.merge(this._layerConfig[a],l,!0):this._layerConfig[a]=l;var h=this._layers[a];h&&k.merge(h,this._layerConfig[a],!0)}},d.prototype.delLayer=function(a){var h=this._layers[a];h&&(this.modLayer(a,{position:h.position,rotation:h.rotation,scale:h.scale}),h.dom.parentNode.removeChild(h.dom),delete this._layers[a],this._zlevelList.splice(k.indexOf(this._zlevelList,a),1))},d.prototype.refreshHover=function(){this.clearHover();for(var a=this.storage.getHoverShapes(!0),o=0,h=a.length;h>o;o++){this._brushHover(a[o])}var l=this._layers.hover.ctx;return l.flush&&l.flush(),this.storage.delHover(),this},d.prototype.clearHover=function(){var a=this._layers.hover;return a&&a.clear(),this},d.prototype.showLoading=function(a){return this._loadingEffect&&this._loadingEffect.stop(),a&&this.setLoadingEffect(a),this._loadingEffect.start(this),this.loading=!0,this},d.prototype.hideLoading=function(){return this._loadingEffect.stop(),this.clearHover(),this.loading=!1,this},d.prototype.isLoading=function(){return this.loading},d.prototype.resize=function(){var a=this._domRoot;a.style.display="none";var o=this._getWidth(),h=this._getHeight();if(a.style.display="",this._width!=o||h!=this._height){this._width=o,this._height=h,a.style.width=o+"px",a.style.height=h+"px";for(var l in this._layers){this._layers[l].resize(o,h)}this.refresh(null,!0)}return this},d.prototype.clearLayer=function(a){var h=this._layers[a];h&&h.clear()},d.prototype.dispose=function(){this.isLoading()&&this.hideLoading(),this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},d.prototype.getDomHover=function(){return this._layers.hover.dom},d.prototype.toDataURL=function(a,x,r){if(window.G_vmlCanvasManager){return null}var u=new g("image",this);this._bgDom.appendChild(u.dom),u.initContext();var v=u.ctx;u.clearColor=x||"#fff",u.clear();var w=this;this.storage.iterShape(function(h){if(!h.invisible&&(!h.onbrush||h.onbrush&&!h.onbrush(v,!1))){if(b.catchBrushException){try{h.brush(v,!1,w.refreshNextFrame)}catch(i){m(i,"brush error of "+h.type,h)}}else{h.brush(v,!1,w.refreshNextFrame)}}},{normal:"up",update:!0});var l=u.dom.toDataURL(a,r);return v=null,this._bgDom.removeChild(u.dom),l},d.prototype.getWidth=function(){return this._width},d.prototype.getHeight=function(){return this._height},d.prototype._getWidth=function(){var a=this.root,h=a.currentStyle||document.defaultView.getComputedStyle(a);return((a.clientWidth||parseInt(h.width,10))-parseInt(h.paddingLeft,10)-parseInt(h.paddingRight,10)).toFixed(0)-0},d.prototype._getHeight=function(){var a=this.root,h=a.currentStyle||document.defaultView.getComputedStyle(a);return((a.clientHeight||parseInt(h.height,10))-parseInt(h.paddingTop,10)-parseInt(h.paddingBottom,10)).toFixed(0)-0},d.prototype._brushHover=function(a){var o=this._layers.hover.ctx;if(!a.onbrush||a.onbrush&&!a.onbrush(o,!0)){var h=this.getLayer(a.zlevel);if(h.needTransform&&(o.save(),h.setTransform(o)),b.catchBrushException){try{a.brush(o,!0,this.refreshNextFrame)}catch(l){m(l,"hoverBrush error of "+a.type,a)}}else{a.brush(o,!0,this.refreshNextFrame)}h.needTransform&&o.restore()}},d.prototype._shapeToImage=function(C,w,y,e,z){var A=document.createElement("canvas"),B=A.getContext("2d");A.style.width=y+"px",A.style.height=e+"px",A.setAttribute("width",y*z),A.setAttribute("height",e*z),B.clearRect(0,0,y*z,e*z);var x={position:w.position,rotation:w.rotation,scale:w.scale};w.position=[0,0,0],w.rotation=0,w.scale=[1,1],w&&w.brush(B,!1);var v=c("./shape/Image"),u=new v({id:C,style:{x:0,y:0,image:A}});return null!=x.position&&(u.position=w.position=x.position),null!=x.rotation&&(u.rotation=w.rotation=x.rotation),null!=x.scale&&(u.scale=w.scale=x.scale),u},d.prototype._createShapeToImageProcessor=function(){if(window.G_vmlCanvasManager){return f}var a=this;return function(r,e,h,l){return a._shapeToImage(r,e,h,l,b.devicePixelRatio)}},d}),define("zrender/Storage",["require","./tool/util","./Group"],function(c){function h(a,i){return a.zlevel==i.zlevel?a.z==i.z?a.__renderidx-i.__renderidx:a.z-i.z:a.zlevel-i.zlevel}var d=c("./tool/util"),f=c("./Group"),b={hover:!1,normal:"down",update:!1},g=function(){this._elements={},this._hoverElements=[],this._roots=[],this._shapeList=[],this._shapeListOffset=0};return g.prototype.iterShape=function(a,m){if(m||(m=b),m.hover){for(var j=0,k=this._hoverElements.length;k>j;j++){var l=this._hoverElements[j];if(l.updateTransform(),a(l)){return this}}}switch(m.update&&this.updateShapeList(),m.normal){case"down":for(var k=this._shapeList.length;k--;){if(a(this._shapeList[k])){return this}}break;default:for(var j=0,k=this._shapeList.length;k>j;j++){if(a(this._shapeList[j])){return this}}}return this},g.prototype.getHoverShapes=function(k){for(var m=[],q=0,j=this._hoverElements.length;j>q;q++){m.push(this._hoverElements[q]);var t=this._hoverElements[q].hoverConnect;if(t){var u;t=t instanceof Array?t:[t];for(var v=0,p=t.length;p>v;v++){u=t[v].id?t[v]:this.get(t[v]),u&&m.push(u)}}}if(m.sort(h),k){for(var q=0,j=m.length;j>q;q++){m[q].updateTransform()}}return m},g.prototype.getShapeList=function(a){return a&&this.updateShapeList(),this._shapeList},g.prototype.updateShapeList=function(){this._shapeListOffset=0;for(var a=0,j=this._roots.length;j>a;a++){var k=this._roots[a];this._updateAndAddShape(k)}this._shapeList.length=this._shapeListOffset;for(var a=0,j=this._shapeList.length;j>a;a++){this._shapeList[a].__renderidx=a}this._shapeList.sort(h)},g.prototype._updateAndAddShape=function(a,l){if(!a.ignore){if(a.updateTransform(),a.clipShape&&(a.clipShape.parent=a,a.clipShape.updateTransform(),l?(l=l.slice(),l.push(a.clipShape)):l=[a.clipShape]),"group"==a.type){for(var j=0;j<a._children.length;j++){var k=a._children[j];k.__dirty=a.__dirty||k.__dirty,this._updateAndAddShape(k,l)}a.__dirty=!1}else{a.__clipShapes=l,this._shapeList[this._shapeListOffset++]=a}}},g.prototype.mod=function(j,l){if("string"==typeof j&&(j=this._elements[j]),j&&(j.modSelf(),l)){if(l.parent||l._storage||l.__clipShapes){var k={};for(var i in l){"parent"!==i&&"_storage"!==i&&"__clipShapes"!==i&&l.hasOwnProperty(i)&&(k[i]=l[i])}d.merge(j,k,!0)}else{d.merge(j,l,!0)}}return this},g.prototype.drift=function(a,l,j){var k=this._elements[a];return k&&(k.needTransform=!0,"horizontal"===k.draggable?j=0:"vertical"===k.draggable&&(l=0),(!k.ondrift||k.ondrift&&!k.ondrift(l,j))&&k.drift(l,j)),this},g.prototype.addHover=function(a){return a.updateNeedTransform(),this._hoverElements.push(a),this},g.prototype.delHover=function(){return this._hoverElements=[],this},g.prototype.hasHoverShape=function(){return this._hoverElements.length>0},g.prototype.addRoot=function(a){this._elements[a.id]||(a instanceof f&&a.addChildrenToStorage(this),this.addToMap(a),this._roots.push(a))},g.prototype.delRoot=function(j){if("undefined"==typeof j){for(var n=0;n<this._roots.length;n++){var i=this._roots[n];i instanceof f&&i.delChildrenFromStorage(this)}return this._elements={},this._hoverElements=[],this._roots=[],this._shapeList=[],void (this._shapeListOffset=0)}if(j instanceof Array){for(var n=0,k=j.length;k>n;n++){this.delRoot(j[n])}}else{var l;l="string"==typeof j?this._elements[j]:j;var m=d.indexOf(this._roots,l);m>=0&&(this.delFromMap(l.id),this._roots.splice(m,1),l instanceof f&&l.delChildrenFromStorage(this))}},g.prototype.addToMap=function(a){return a instanceof f&&(a._storage=this),a.modSelf(),this._elements[a.id]=a,this},g.prototype.get=function(a){return this._elements[a]},g.prototype.delFromMap=function(a){var i=this._elements[a];return i&&(delete this._elements[a],i instanceof f&&(i._storage=null)),this},g.prototype.dispose=function(){this._elements=this._renderList=this._roots=this._hoverElements=null},g}),define("zrender/animation/Animation",["require","./Clip","../tool/color","../tool/util","../tool/event"],function(k){function E(a,c){return a[c]}function w(a,d,c){a[d]=c}function z(a,d,c){return(d-a)*c+a}function b(d,J,m,c,p){var u=d.length;if(1==p){for(var I=0;u>I;I++){c[I]=z(d[I],J[I],m)}}else{for(var n=d[0].length,I=0;u>I;I++){for(var g=0;n>g;g++){c[I][g]=z(d[I][g],J[I][g],m)}}}}function A(a){switch(typeof a){case"undefined":case"string":return !1}return"undefined"!=typeof a.length}function C(I,R,K,N,g,O,Q,L,J){var u=I.length;if(1==J){for(var s=0;u>s;s++){L[s]=D(I[s],R[s],K[s],N[s],g,O,Q)}}else{for(var M=I[0].length,s=0;u>s;s++){for(var P=0;M>P;P++){L[s][P]=D(I[s][P],R[s][P],K[s][P],N[s][P],g,O,Q)}}}}function D(d,J,g,m,c,p,u){var I=0.5*(g-d),h=0.5*(m-J);return(2*(J-g)+I+h)*u+(-3*(J-g)-2*I-h)*p+I*c+J}function x(a){if(A(a)){var g=a.length;if(A(a[0])){for(var c=[],d=0;g>d;d++){c.push(H.call(a[d]))}return c}return H.call(a)}return a}function v(a){return a[0]=Math.floor(a[0]),a[1]=Math.floor(a[1]),a[2]=Math.floor(a[2]),"rgba("+a.join(",")+")"}var j=k("./Clip"),f=k("../tool/color"),y=k("../tool/util"),B=k("../tool/event").Dispatcher,F=window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(a){setTimeout(a,16)},H=Array.prototype.slice,G=function(a){a=a||{},this.stage=a.stage||{},this.onframe=a.onframe||function(){},this._clips=[],this._running=!1,this._time=0,B.call(this)};G.prototype={add:function(a){this._clips.push(a)},remove:function(a){if(a.__inStep){a.__needsRemove=!0}else{var c=y.indexOf(this._clips,a);c>=0&&this._clips.splice(c,1)}},_update:function(){for(var d=(new Date).getTime(),J=d-this._time,g=this._clips,m=g.length,c=[],p=[],u=0;m>u;u++){var I=g[u];I.__inStep=!0;var h=I.step(d);I.__inStep=!1,h&&(c.push(h),p.push(I))}for(var u=0;m>u;){g[u].__needsRemove?(g[u]=g[m-1],g.pop(),m--):u++}m=c.length;for(var u=0;m>u;u++){p[u].fire(c[u])}this._time=d,this.onframe(J),this.dispatch("frame",J),this.stage.update&&this.stage.update()},start:function(){function a(){c._running&&(F(a),c._update())}var c=this;this._running=!0,this._time=(new Date).getTime(),F(a)},stop:function(){this._running=!1},clear:function(){this._clips=[]},animate:function(a,d){d=d||{};var c=new q(a,d.loop,d.getter,d.setter);return c.animation=this,c},constructor:G},y.merge(G.prototype,B.prototype,!0);var q=function(d,g,c,h){this._tracks={},this._target=d,this._loop=g||!1,this._getter=c||E,this._setter=h||w,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};return q.prototype={when:function(a,d){for(var c in d){this._tracks[c]||(this._tracks[c]=[],0!==a&&this._tracks[c].push({time:0,value:x(this._getter(this._target,c))})),this._tracks[c].push({time:parseInt(a,10),value:d[c]})}return this},during:function(a){return this._onframeList.push(a),this},start:function(a){var n=this,c=this._setter,d=this._getter,g="spline"===a,h=function(){if(n._clipCount--,0===n._clipCount){n._tracks={};for(var l=n._doneList.length,m=0;l>m;m++){n._doneList[m].call(n)}}},o=function(R,aa){var Y=R.length;if(Y){var t=R[0].value,s=A(t),af=!1,l=s&&A(t[0])?2:1;R.sort(function(u,I){return u.time-I.time});var e;if(Y){e=R[Y-1].time;for(var ad=[],M=[],Z=0;Y>Z;Z++){ad.push(R[Z].time/e);var O=R[Z].value;"string"==typeof O&&(O=f.toArray(O),0===O.length&&(O[0]=O[1]=O[2]=0,O[3]=1),af=!0),M.push(O)}var ab,Z,ac,ae,J,P,N,m=0,Q=0;if(af){var p=[0,0,0,0]}var ag=function(K,L){if(Q>L){for(ab=Math.min(m+1,Y-1),Z=ab;Z>=0&&!(ad[Z]<=L);Z--){}Z=Math.min(Z,Y-2)}else{for(Z=m;Y>Z&&!(ad[Z]>L);Z++){}Z=Math.min(Z-1,Y-2)}m=Z,Q=L;var I=ad[Z+1]-ad[Z];if(0!==I){if(ac=(L-ad[Z])/I,g){if(J=M[Z],ae=M[0===Z?Z:Z-1],P=M[Z>Y-2?Y-1:Z+1],N=M[Z>Y-3?Y-1:Z+2],s){C(ae,J,P,N,ac,ac*ac,ac*ac*ac,d(K,aa),l)}else{var u;af?(u=C(ae,J,P,N,ac,ac*ac,ac*ac*ac,p,1),u=v(p)):u=D(ae,J,P,N,ac,ac*ac,ac*ac*ac),c(K,aa,u)}}else{if(s){b(M[Z],M[Z+1],ac,d(K,aa),l)}else{var u;af?(b(M[Z],M[Z+1],ac,p,1),u=v(p)):u=z(M[Z],M[Z+1],ac),c(K,aa,u)}}for(Z=0;Z<n._onframeList.length;Z++){n._onframeList[Z](K,L)}}},i=new j({target:n._target,life:e,loop:n._loop,delay:n._delay,onframe:ag,ondestroy:h});a&&"spline"!==a&&(i.easing=a),n._clipList.push(i),n._clipCount++,n.animation.add(i)}}};for(var r in this._tracks){o(this._tracks[r],r)}return this},stop:function(){for(var a=0;a<this._clipList.length;a++){var c=this._clipList[a];this.animation.remove(c)}this._clipList=[]},delay:function(a){return this._delay=a,this},done:function(a){return a&&this._doneList.push(a),this}},G}),define("zrender/tool/vector",[],function(){var a="undefined"==typeof Float32Array?Array:Float32Array,b={create:function(e,c){var d=new a(2);return d[0]=e||0,d[1]=c||0,d},copy:function(c,d){return c[0]=d[0],c[1]=d[1],c},clone:function(d){var c=new a(2);return c[0]=d[0],c[1]=d[1],c},set:function(c,f,d){return c[0]=f,c[1]=d,c},add:function(c,f,d){return c[0]=f[0]+d[0],c[1]=f[1]+d[1],c},scaleAndAdd:function(c,g,d,f){return c[0]=g[0]+d[0]*f,c[1]=g[1]+d[1]*f,c},sub:function(c,f,d){return c[0]=f[0]-d[0],c[1]=f[1]-d[1],c},len:function(c){return Math.sqrt(this.lenSquare(c))},lenSquare:function(c){return c[0]*c[0]+c[1]*c[1]},mul:function(c,f,d){return c[0]=f[0]*d[0],c[1]=f[1]*d[1],c},div:function(c,f,d){return c[0]=f[0]/d[0],c[1]=f[1]/d[1],c},dot:function(c,d){return c[0]*d[0]+c[1]*d[1]},scale:function(c,f,d){return c[0]=f[0]*d,c[1]=f[1]*d,c},normalize:function(c,d){var f=b.len(d);return 0===f?(c[0]=0,c[1]=0):(c[0]=d[0]/f,c[1]=d[1]/f),c},distance:function(c,d){return Math.sqrt((c[0]-d[0])*(c[0]-d[0])+(c[1]-d[1])*(c[1]-d[1]))},distanceSquare:function(c,d){return(c[0]-d[0])*(c[0]-d[0])+(c[1]-d[1])*(c[1]-d[1])},negate:function(c,d){return c[0]=-d[0],c[1]=-d[1],c},lerp:function(c,g,d,f){return c[0]=g[0]+f*(d[0]-g[0]),c[1]=g[1]+f*(d[1]-g[1]),c},applyTransform:function(d,h,f){var g=h[0],c=h[1];return d[0]=f[0]*g+f[2]*c+f[4],d[1]=f[1]*g+f[3]*c+f[5],d},min:function(c,f,d){return c[0]=Math.min(f[0],d[0]),c[1]=Math.min(f[1],d[1]),c},max:function(c,f,d){return c[0]=Math.max(f[0],d[0]),c[1]=Math.max(f[1],d[1]),c}};return b.length=b.len,b.lengthSquare=b.lenSquare,b.dist=b.distance,b.distSquare=b.distanceSquare,b}),define("zrender/tool/matrix",[],function(){var a="undefined"==typeof Float32Array?Array:Float32Array,b={create:function(){var c=new a(6);return b.identity(c),c},identity:function(c){return c[0]=1,c[1]=0,c[2]=0,c[3]=1,c[4]=0,c[5]=0,c},copy:function(c,d){return c[0]=d[0],c[1]=d[1],c[2]=d[2],c[3]=d[3],c[4]=d[4],c[5]=d[5],c},mul:function(c,f,d){return c[0]=f[0]*d[0]+f[2]*d[1],c[1]=f[1]*d[0]+f[3]*d[1],c[2]=f[0]*d[2]+f[2]*d[3],c[3]=f[1]*d[2]+f[3]*d[3],c[4]=f[0]*d[4]+f[2]*d[5]+f[4],c[5]=f[1]*d[4]+f[3]*d[5]+f[5],c},translate:function(c,f,d){return c[0]=f[0],c[1]=f[1],c[2]=f[2],c[3]=f[3],c[4]=f[4]+d[0],c[5]=f[5]+d[1],c},rotate:function(g,w,k){var p=w[0],c=w[2],q=w[4],u=w[1],v=w[3],m=w[5],j=Math.sin(k),f=Math.cos(k);return g[0]=p*f+u*j,g[1]=-p*j+u*f,g[2]=c*f+v*j,g[3]=-c*j+f*v,g[4]=f*q+j*m,g[5]=f*m-j*q,g},scale:function(d,h,f){var g=f[0],c=f[1];return d[0]=h[0]*g,d[1]=h[1]*c,d[2]=h[2]*g,d[3]=h[3]*c,d[4]=h[4]*g,d[5]=h[5]*c,d},invert:function(d,p){var f=p[0],h=p[2],c=p[4],j=p[1],k=p[3],m=p[5],g=f*k-j*h;return g?(g=1/g,d[0]=k*g,d[1]=-j*g,d[2]=-h*g,d[3]=f*g,d[4]=(h*m-k*c)*g,d[5]=(j*c-f*m)*g,d):null}};return b}),define("zrender/loadingEffect/Base",["require","../tool/util","../shape/Text","../shape/Rectangle"],function(c){function j(a){this.setOptions(a)}var d=c("../tool/util"),f=c("../shape/Text"),b=c("../shape/Rectangle"),g="Loading...",h="normal 16px Arial";return j.prototype.createTextShape=function(a){return new f({highlightStyle:d.merge({x:this.canvasWidth/2,y:this.canvasHeight/2,text:g,textAlign:"center",textBaseline:"middle",textFont:h,color:"#333",brushType:"fill"},a,!0)})},j.prototype.createBackgroundShape=function(a){return new b({highlightStyle:{x:0,y:0,width:this.canvasWidth,height:this.canvasHeight,brushType:"fill",color:a}})},j.prototype.start=function(a){function l(e){a.storage.addHover(e)}function k(){a.refreshHover()}this.canvasWidth=a._width,this.canvasHeight=a._height,this.loadingTimer=this._start(l,k)},j.prototype._start=function(){return setInterval(function(){},10000)},j.prototype.stop=function(){clearInterval(this.loadingTimer)},j.prototype.setOptions=function(a){this.options=a||{}},j.prototype.adjust=function(a,i){return a<=i[0]?a=i[0]:a>=i[1]&&(a=i[1]),a},j.prototype.getLocation=function(l,p,m){var o=null!=l.x?l.x:"center";switch(o){case"center":o=Math.floor((this.canvasWidth-p)/2);break;case"left":o=0;break;case"right":o=this.canvasWidth-p}var k=null!=l.y?l.y:"center";switch(k){case"center":k=Math.floor((this.canvasHeight-m)/2);break;case"top":k=0;break;case"bottom":k=this.canvasHeight-m}return{x:o,y:k,width:p,height:m}},j}),define("zrender/Layer",["require","./mixin/Transformable","./tool/util","./config"],function(c){function k(){return !1}function d(m,s,p){var q=document.createElement(s),l=p.getWidth(),r=p.getHeight();return q.style.position="absolute",q.style.left=0,q.style.top=0,q.style.width=l+"px",q.style.height=r+"px",q.width=l*h.devicePixelRatio,q.height=r*h.devicePixelRatio,q.setAttribute("data-zr-dom-id",m),q}var f=c("./mixin/Transformable"),b=c("./tool/util"),g=window.G_vmlCanvasManager,h=c("./config"),j=function(l,i){this.id=l,this.dom=d(l,"canvas",i),this.dom.onselectstart=k,this.dom.style["-webkit-user-select"]="none",this.dom.style["user-select"]="none",this.dom.style["-webkit-touch-callout"]="none",this.dom.style["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",this.dom.className=h.elementClassName,g&&g.initElement(this.dom),this.domBack=null,this.ctxBack=null,this.painter=i,this.unusedCount=0,this.config=null,this.dirty=!0,this.elCount=0,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=0.7,this.zoomable=!1,this.panable=!1,this.maxZoom=1/0,this.minZoom=0,f.call(this)};return j.prototype.initContext=function(){this.ctx=this.dom.getContext("2d");var a=h.devicePixelRatio;1!=a&&this.ctx.scale(a,a)},j.prototype.createBackBuffer=function(){if(!g){this.domBack=d("back-"+this.id,"canvas",this.painter),this.ctxBack=this.domBack.getContext("2d");var a=h.devicePixelRatio;1!=a&&this.ctxBack.scale(a,a)}},j.prototype.resize=function(a,m){var l=h.devicePixelRatio;this.dom.style.width=a+"px",this.dom.style.height=m+"px",this.dom.setAttribute("width",a*l),this.dom.setAttribute("height",m*l),1!=l&&this.ctx.scale(l,l),this.domBack&&(this.domBack.setAttribute("width",a*l),this.domBack.setAttribute("height",m*l),1!=l&&this.ctxBack.scale(l,l))},j.prototype.clear=function(){var p=this.dom,x=this.ctx,r=p.width,v=p.height,m=this.clearColor&&!g,w=this.motionBlur&&!g,u=this.lastFrameAlpha,q=h.devicePixelRatio;if(w&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(p,0,0,r/q,v/q)),x.clearRect(0,0,r/q,v/q),m&&(x.save(),x.fillStyle=this.clearColor,x.fillRect(0,0,r/q,v/q),x.restore()),w){var o=this.domBack;x.save(),x.globalAlpha=u,x.drawImage(o,0,0,r/q,v/q),x.restore()}},b.merge(j.prototype,f.prototype),j}),define("zrender/shape/Text",["require","../tool/area","./Base","../tool/util"],function(a){var d=a("../tool/area"),b=a("./Base"),c=function(f){b.call(this,f)};return c.prototype={type:"text",brush:function(j,m){var q=this.style;if(m&&(q=this.getHighlightStyle(q,this.highlightStyle||{})),"undefined"!=typeof q.text&&q.text!==!1){j.save(),this.doClip(j),this.setContext(j,q),this.setTransform(j),q.textFont&&(j.font=q.textFont),j.textAlign=q.textAlign||"start",j.textBaseline=q.textBaseline||"middle";var f,t=(q.text+"").split("\n"),u=d.getTextHeight("国",q.textFont),v=this.getRect(q),p=q.x;f="top"==q.textBaseline?v.y:"bottom"==q.textBaseline?v.y+u:v.y+u/2;for(var k=0,g=t.length;g>k;k++){if(q.maxWidth){switch(q.brushType){case"fill":j.fillText(t[k],p,f,q.maxWidth);break;case"stroke":j.strokeText(t[k],p,f,q.maxWidth);break;case"both":j.fillText(t[k],p,f,q.maxWidth),j.strokeText(t[k],p,f,q.maxWidth);break;default:j.fillText(t[k],p,f,q.maxWidth)}}else{switch(q.brushType){case"fill":j.fillText(t[k],p,f);break;case"stroke":j.strokeText(t[k],p,f);break;case"both":j.fillText(t[k],p,f),j.strokeText(t[k],p,f);break;default:j.fillText(t[k],p,f)}}f+=u}j.restore()}},getRect:function(g){if(g.__rect){return g.__rect}var h=d.getTextWidth(g.text,g.textFont),j=d.getTextHeight(g.text,g.textFont),f=g.x;"end"==g.textAlign||"right"==g.textAlign?f-=h:"center"==g.textAlign&&(f-=h/2);var k;return k="top"==g.textBaseline?g.y:"bottom"==g.textBaseline?g.y-j:g.y-j/2,g.__rect={x:f,y:k,width:h,height:j},g.__rect}},a("../tool/util").inherits(c,b),c}),define("zrender/shape/Rectangle",["require","./Base","../tool/util"],function(a){var c=a("./Base"),b=function(d){c.call(this,d)};return b.prototype={type:"rectangle",_buildRadiusPath:function(k,y){var p,u,f,v,w=y.x,x=y.y,q=y.width,m=y.height,j=y.radius;"number"==typeof j?p=u=f=v=j:j instanceof Array?1===j.length?p=u=f=v=j[0]:2===j.length?(p=f=j[0],u=v=j[1]):3===j.length?(p=j[0],u=v=j[1],f=j[2]):(p=j[0],u=j[1],f=j[2],v=j[3]):p=u=f=v=0;var g;p+u>q&&(g=p+u,p*=q/g,u*=q/g),f+v>q&&(g=f+v,f*=q/g,v*=q/g),u+f>m&&(g=u+f,u*=m/g,f*=m/g),p+v>m&&(g=p+v,p*=m/g,v*=m/g),k.moveTo(w+p,x),k.lineTo(w+q-u,x),0!==u&&k.quadraticCurveTo(w+q,x,w+q,x+u),k.lineTo(w+q,x+m-f),0!==f&&k.quadraticCurveTo(w+q,x+m,w+q-f,x+m),k.lineTo(w+v,x+m),0!==v&&k.quadraticCurveTo(w,x+m,w,x+m-v),k.lineTo(w,x+p),0!==p&&k.quadraticCurveTo(w,x,w+p,x)},buildPath:function(d,f){f.radius?this._buildRadiusPath(d,f):(d.moveTo(f.x,f.y),d.lineTo(f.x+f.width,f.y),d.lineTo(f.x+f.width,f.y+f.height),d.lineTo(f.x,f.y+f.height),d.lineTo(f.x,f.y)),d.closePath()},getRect:function(d){if(d.__rect){return d.__rect}var f;return f="stroke"==d.brushType||"fill"==d.brushType?d.lineWidth||1:0,d.__rect={x:Math.round(d.x-f/2),y:Math.round(d.y-f/2),width:d.width+f,height:d.height+f},d.__rect}},a("../tool/util").inherits(b,c),b}),define("zrender/tool/area",["require","./util","./curve"],function(F){function ag(a){return a%=B,0>a&&(a+=B),a}function N(a,h,b,d){if(!h||!a){return !1}var f=a.type;ak=ak||Y.getContext();var g=aa(a,h,b,d);if("undefined"!=typeof g){return g}if(a.buildPath&&ak.isPointInPath){return q(a,ak,h,b,d)}switch(f){case"ellipse":return !0;case"trochoid":var c="out"==h.location?h.r1+h.r2+h.d:h.r1-h.r2+h.d;return ac(h,b,d,c);case"rose":return ac(h,b,d,h.maxr);default:return !1}}function aa(c,l,f,g){var b=c.type;switch(b){case"bezier-curve":return"undefined"==typeof l.cpX2?R(l.xStart,l.yStart,l.cpX1,l.cpY1,l.xEnd,l.yEnd,l.lineWidth,f,g):ae(l.xStart,l.yStart,l.cpX1,l.cpY1,l.cpX2,l.cpY2,l.xEnd,l.yEnd,l.lineWidth,f,g);case"line":return ad(l.xStart,l.yStart,l.xEnd,l.yEnd,l.lineWidth,f,g);case"polyline":return D(l.pointList,l.lineWidth,f,g);case"ring":return A(l.x,l.y,l.r0,l.r,f,g);case"circle":return ac(l.x,l.y,l.r,f,g);case"sector":var k=l.startAngle*Math.PI/180,d=l.endAngle*Math.PI/180;return l.clockWise||(k=-k,d=-d),ai(l.x,l.y,l.r0,l.r,k,d,!l.clockWise,f,g);case"path":return l.pathArray&&j(l.pathArray,Math.max(l.lineWidth,5),l.brushType,f,g);case"polygon":case"star":case"isogon":return al(l.pointList,f,g);case"text":var m=l.__rect||c.getRect(l);return Z(m.x,m.y,m.width,m.height,f,g);case"rectangle":case"image":return Z(l.x,l.y,l.width,l.height,f,g)}}function q(c,g,d,f,b){return g.beginPath(),c.buildPath(g,d),g.closePath(),g.isPointInPath(f,b)}function ab(c,f,d,b){return !N(c,f,d,b)}function ad(k,C,p,v,b,w,x){if(0===b){return !1}var y=Math.max(b,5),u=0,m=k;if(x>C+y&&x>v+y||C-y>x&&v-y>x||w>k+y&&w>p+y||k-y>w&&p-y>w){return !1}if(k===p){return Math.abs(w-k)<=y/2}u=(C-v)/(k-p),m=(k*v-p*C)/(k-p);var g=u*w-x+m,f=g*g/(u*u+1);return y/2*y/2>=f}function ae(k,I,u,x,b,y,C,E,v,p,g){if(0===v){return !1}var f=Math.max(v,5);if(g>I+f&&g>x+f&&g>y+f&&g>E+f||I-f>g&&x-f>g&&y-f>g&&E-f>g||p>k+f&&p>u+f&&p>b+f&&p>C+f||k-f>p&&u-f>p&&b-f>p&&C-f>p){return !1}var w=am.cubicProjectPoint(k,I,u,x,b,y,C,E,p,g,null);return f/2>=w}function R(f,x,k,p,b,u,v,w,m){if(0===v){return !1}var g=Math.max(v,5);if(m>x+g&&m>p+g&&m>u+g||x-g>m&&p-g>m&&u-g>m||w>f+g&&w>k+g&&w>b+g||f-g>w&&k-g>w&&b-g>w){return !1}var c=am.quadraticProjectPoint(f,x,k,p,b,u,w,m,null);return g/2>=c}function M(k,u,x,b,y,E,I,v,t){if(0===I){return !1}var g=Math.max(I,5);v-=k,t-=u;var f=Math.sqrt(v*v+t*t);if(f-g>x||x>f+g){return !1}if(Math.abs(b-y)>=B){return !0}if(E){var w=b;b=ag(y),y=ag(w)}else{b=ag(b),y=ag(y)}b>y&&(y+=B);var C=Math.atan2(t,v);return 0>C&&(C+=B),C>=b&&y>=C||C+B>=b&&y>=C+B}function D(f,v,k,p){for(var v=Math.max(v,10),b=0,r=f.length-1;r>b;b++){var u=f[b][0],m=f[b][1],g=f[b+1][0],c=f[b+1][1];if(ad(u,m,g,c,v,k,p)){return !0}}return !1}function A(c,k,d,f,b,g){var h=(b-c)*(b-c)+(g-k)*(g-k);return f*f>h&&h>d*d}function Z(c,h,d,f,b,g){return b>=c&&c+d>=b&&g>=h&&h+f>=g}function ac(c,g,d,f,b){return d*d>(f-c)*(f-c)+(b-g)*(b-g)}function ai(c,p,d,g,b,h,k,m,f){return M(c,p,(d+g)/2,b,h,k,g-d,m,f)}function al(f,x,k){for(var p=f.length,b=0,u=0,v=p-1;p>u;u++){var w=f[v][0],m=f[v][1],g=f[u][0],c=f[u][1];b+=aj(w,m,g,c,x,k),v=u}return 0!==b}function aj(c,p,d,g,b,h){if(h>p&&h>g||p>h&&g>h){return 0}if(g==p){return 0}var k=p>g?1:-1,m=(h-p)/(g-p),f=m*(d-c)+c;return f>b?k:0}function J(){var a=G[0];G[0]=G[1],G[1]=a}function H(v,W,y,I,b,K,S,T,C,x){if(x>W&&x>I&&x>K&&x>T||W>x&&I>x&&K>x&&T>x){return 0}var k=am.cubicRootAt(W,I,K,T,x,ah);if(0===k){return 0}for(var g,E,L=0,X=-1,at=0;k>at;at++){var ar=ah[at],w=am.cubicAt(v,y,b,S,ar);C>w||(0>X&&(X=am.cubicExtrema(W,I,K,T,G),G[1]<G[0]&&X>1&&J(),g=am.cubicAt(W,I,K,T,G[0]),X>1&&(E=am.cubicAt(W,I,K,T,G[1]))),L+=2==X?ar<G[0]?W>g?1:-1:ar<G[1]?g>E?1:-1:E>T?1:-1:ar<G[0]?W>g?1:-1:g>T?1:-1)}return L}function aq(k,L,v,y,b,C,I,K){if(K>L&&K>y&&K>C||L>K&&y>K&&C>K){return 0}var w=am.quadraticRootAt(L,y,C,K,ah);if(0===w){return 0}var u=am.quadraticExtremum(L,y,C);if(u>=0&&1>=u){for(var g=0,f=am.quadraticAt(L,y,C,u),x=0;w>x;x++){var E=am.quadraticAt(k,v,b,ah[x]);I>E||(g+=ah[x]<u?L>f?1:-1:f>C?1:-1)}return g}var E=am.quadraticAt(k,v,b,ah[0]);return I>E?0:L>C?1:-1}function z(k,v,y,b,C,I,K,w){if(w-=v,w>y||-y>w){return 0}var t=Math.sqrt(y*y-w*w);if(ah[0]=-t,ah[1]=t,Math.abs(b-C)>=B){b=0,C=B;var g=I?1:-1;return K>=ah[0]+k&&K<=ah[1]+k?g:0}if(I){var t=b;b=ag(C),C=ag(t)}else{b=ag(b),C=ag(C)}b>C&&(C+=B);for(var f=0,x=0;2>x;x++){var E=ah[x];if(E+k>K){var L=Math.atan2(w,E),g=I?1:-1;0>L&&(L=B+L),(L>=b&&C>=L||L+B>=b&&C>=L+B)&&(L>Math.PI/2&&L<1.5*Math.PI&&(g=-g),f+=g)}}return f}function j(s,aA,E,aw,f){var ax=0,r=0,h=0,av=0,ay=0,aC=!0,aE=!0;E=E||"fill";for(var y="stroke"===E||"both"===E,b="fill"===E||"both"===E,aH=0;aH<s.length;aH++){var ar=s[aH],aD=ar.points;if(aC||"M"===ar.command){if(aH>0&&(b&&(ax+=aj(r,h,av,ay,aw,f)),0!==ax)){return !0}av=aD[aD.length-2],ay=aD[aD.length-1],aC=!1,aE&&"A"!==ar.command&&(aE=!1,r=av,h=ay)}switch(ar.command){case"M":r=aD[0],h=aD[1];break;case"L":if(y&&ad(r,h,aD[0],aD[1],aA,aw,f)){return !0}b&&(ax+=aj(r,h,aD[0],aD[1],aw,f)),r=aD[0],h=aD[1];break;case"C":if(y&&ae(r,h,aD[0],aD[1],aD[2],aD[3],aD[4],aD[5],aA,aw,f)){return !0}b&&(ax+=H(r,h,aD[0],aD[1],aD[2],aD[3],aD[4],aD[5],aw,f)),r=aD[4],h=aD[5];break;case"Q":if(y&&R(r,h,aD[0],aD[1],aD[2],aD[3],aA,aw,f)){return !0}b&&(ax+=aq(r,h,aD[0],aD[1],aD[2],aD[3],aw,f)),r=aD[2],h=aD[3];break;case"A":var au=aD[0],aF=aD[1],aG=aD[2],aI=aD[3],U=aD[4],az=aD[5],at=Math.cos(U)*aG+au,l=Math.sin(U)*aI+aF;aE?(aE=!1,av=at,ay=l):ax+=aj(r,h,at,l);var aB=(aw-au)*aI/aG+au;if(y&&M(au,aF,aI,U,U+az,1-aD[7],aA,aB,f)){return !0}b&&(ax+=z(au,aF,aI,U,U+az,1-aD[7],aB,f)),r=Math.cos(U+az)*aG+au,h=Math.sin(U+az)*aI+aF;break;case"z":if(y&&ad(r,h,av,ay,aA,aw,f)){return !0}aC=!0}}return b&&(ax+=aj(r,h,av,ay,aw,f)),0!==ax}function ao(c,h){var d=c+":"+h;if(an[d]){return an[d]}ak=ak||Y.getContext(),ak.save(),h&&(ak.font=h),c=(c+"").split("\n");for(var f=0,b=0,g=c.length;g>b;b++){f=Math.max(ak.measureText(c[b]).width,f)}return ak.restore(),an[d]=f,++O>Q&&(O=0,an={}),f}function P(a,d){var b=a+":"+d;if(ap[b]){return ap[b]}ak=ak||Y.getContext(),ak.save(),d&&(ak.font=d),a=(a+"").split("\n");var c=(ak.measureText("国").width+2)*a.length;return ak.restore(),ap[b]=c,++af>Q&&(af=0,ap={}),c}var ak,Y=F("./util"),am=F("./curve"),an={},ap={},O=0,af=0,Q=5000,B=2*Math.PI,ah=[-1,-1,-1],G=[-1,-1];return{isInside:N,isOutside:ab,getTextWidth:ao,getTextHeight:P,isInsidePath:j,isInsidePolygon:al,isInsideSector:ai,isInsideCircle:ac,isInsideLine:ad,isInsideRect:Z,isInsidePolyline:D,isInsideCubicStroke:ae,isInsideQuadraticStroke:R}}),define("zrender/shape/Base",["require","../tool/matrix","../tool/guid","../tool/util","../tool/log","../mixin/Transformable","../mixin/Eventful","../tool/area","../tool/color"],function(j){function z(I,E,e,F,G,H,C){G&&(I.font=G),I.textAlign=H,I.textBaseline=C;var B=p(E,e,F,G,H,C);E=(E+"").split("\n");var A=j("../tool/area").getTextHeight("国",G);switch(C){case"top":F=B.y;break;case"bottom":F=B.y+A;break;default:F=B.y+A/2}for(var i=0,D=E.length;D>i;i++){I.fillText(E[i],e,F),F+=A}}function p(E,e,A,c,B,C){var D=j("../tool/area"),m=D.getTextWidth(E,c),d=D.getTextHeight("国",c);switch(E=(E+"").split("\n"),B){case"end":case"right":e-=m;break;case"center":e-=m/2}switch(C){case"top":break;case"bottom":A-=d*E.length;break;default:A-=d*E.length/2}return{x:e,y:A,width:m,height:d*E.length}}var v=window.G_vmlCanvasManager,b=j("../tool/matrix"),w=j("../tool/guid"),x=j("../tool/util"),y=j("../tool/log"),q=j("../mixin/Transformable"),k=j("../mixin/Eventful"),g=function(a){a=a||{},this.id=a.id||w();for(var c in a){this[c]=a[c]}this.style=this.style||{},this.highlightStyle=this.highlightStyle||null,this.parent=null,this.__dirty=!0,this.__clipShapes=[],q.call(this),k.call(this)};g.prototype.invisible=!1,g.prototype.ignore=!1,g.prototype.zlevel=0,g.prototype.draggable=!1,g.prototype.clickable=!1,g.prototype.hoverable=!0,g.prototype.z=0,g.prototype.brush=function(a,d){var c=this.beforeBrush(a,d);switch(a.beginPath(),this.buildPath(a,c),c.brushType){case"both":a.fill();case"stroke":c.lineWidth>0&&a.stroke();break;default:a.fill()}this.drawText(a,c,this.style),this.afterBrush(a)},g.prototype.beforeBrush=function(a,d){var c=this.style;return this.brushTypeOnly&&(c.brushType=this.brushTypeOnly),d&&(c=this.getHighlightStyle(c,this.highlightStyle||{},this.brushTypeOnly)),"stroke"==this.brushTypeOnly&&(c.strokeColor=c.strokeColor||c.color),a.save(),this.doClip(a),this.setContext(a,c),this.setTransform(a),c},g.prototype.afterBrush=function(a){a.restore()};var f=[["color","fillStyle"],["strokeColor","strokeStyle"],["opacity","globalAlpha"],["lineCap","lineCap"],["lineJoin","lineJoin"],["miterLimit","miterLimit"],["lineWidth","lineWidth"],["shadowBlur","shadowBlur"],["shadowColor","shadowColor"],["shadowOffsetX","shadowOffsetX"],["shadowOffsetY","shadowOffsetY"]];g.prototype.setContext=function(d,A){for(var h=0,l=f.length;l>h;h++){var c=f[h][0],m=A[c],s=f[h][1];"undefined"!=typeof m&&(d[s]=m)}};var u=b.create();return g.prototype.doClip=function(a){if(this.__clipShapes&&!v){for(var h=0;h<this.__clipShapes.length;h++){var c=this.__clipShapes[h];if(c.needTransform){var d=c.transform;b.invert(u,d),a.transform(d[0],d[1],d[2],d[3],d[4],d[5])}if(a.beginPath(),c.buildPath(a,c.style),a.clip(),c.needTransform){var d=u;a.transform(d[0],d[1],d[2],d[3],d[4],d[5])}}}},g.prototype.getHighlightStyle=function(A,d,e){var c={};for(var h in A){c[h]=A[h]}var l=j("../tool/color"),m=l.getHighlightColor();"stroke"!=A.brushType?(c.strokeColor=m,c.lineWidth=(A.lineWidth||1)+this.getHighlightZoom(),c.brushType="both"):"stroke"!=e?(c.strokeColor=m,c.lineWidth=(A.lineWidth||1)+this.getHighlightZoom()):c.strokeColor=d.strokeColor||l.mix(A.strokeColor,l.toRGB(m));for(var h in d){"undefined"!=typeof d[h]&&(c[h]=d[h])}return c},g.prototype.getHighlightZoom=function(){return"text"!=this.type?6:2},g.prototype.drift=function(a,c){this.position[0]+=a,this.position[1]+=c},g.prototype.buildPath=function(){y("buildPath not implemented in "+this.type)},g.prototype.getRect=function(){y("getRect not implemented in "+this.type)},g.prototype.isCover=function(d,a){var c=this.transformCoordToLocal(d,a);return d=c[0],a=c[1],this.isCoverRect(d,a)?j("../tool/area").isInside(this,this.style,d,a):!1},g.prototype.isCoverRect=function(a,d){var c=this.style.__rect;return c||(c=this.style.__rect=this.getRect(this.style)),a>=c.x&&a<=c.x+c.width&&d>=c.y&&d<=c.y+c.height},g.prototype.drawText=function(C,G,J){if("undefined"!=typeof G.text&&G.text!==!1){var t=G.textColor||G.color||G.strokeColor;C.fillStyle=t;var K,M,N,H,F=10,B=G.textPosition||this.textPosition||"top";switch(B){case"inside":case"top":case"bottom":case"left":case"right":if(this.getRect){var A=(J||G).__rect||this.getRect(J||G);switch(B){case"inside":N=A.x+A.width/2,H=A.y+A.height/2,K="center",M="middle","stroke"!=G.brushType&&t==G.color&&(C.fillStyle="#fff");break;case"left":N=A.x-F,H=A.y+A.height/2,K="end",M="middle";break;case"right":N=A.x+A.width+F,H=A.y+A.height/2,K="start",M="middle";break;case"top":N=A.x+A.width/2,H=A.y-F,K="center",M="bottom";break;case"bottom":N=A.x+A.width/2,H=A.y+A.height+F,K="center",M="top"}}break;case"start":case"end":var I=G.pointList||[[G.xStart||0,G.yStart||0],[G.xEnd||0,G.yEnd||0]],L=I.length;if(2>L){return}var O,Q,P,E;switch(B){case"start":O=I[1][0],Q=I[0][0],P=I[1][1],E=I[0][1];break;case"end":O=I[L-2][0],Q=I[L-1][0],P=I[L-2][1],E=I[L-1][1]}N=Q,H=E;var D=Math.atan((P-E)/(Q-O))/Math.PI*180;0>Q-O?D+=180:0>P-E&&(D+=360),F=5,D>=30&&150>=D?(K="center",M="bottom",H-=F):D>150&&210>D?(K="right",M="middle",N-=F):D>=210&&330>=D?(K="center",M="top",H+=F):(K="left",M="middle",N+=F);break;case"specific":N=G.textX||0,H=G.textY||0,K="start",M="middle"}null!=N&&null!=H&&z(C,G.text,N,H,G.textFont,G.textAlign||K,G.textBaseline||M)}},g.prototype.modSelf=function(){this.__dirty=!0,this.style&&(this.style.__rect=null),this.highlightStyle&&(this.highlightStyle.__rect=null)},g.prototype.isSilent=function(){return !(this.hoverable||this.draggable||this.clickable||this.onmousemove||this.onmouseover||this.onmouseout||this.onmousedown||this.onmouseup||this.onclick||this.ondragenter||this.ondragover||this.ondragleave||this.ondrop)},x.merge(g.prototype,q.prototype,!0),x.merge(g.prototype,k.prototype,!0),g}),define("zrender/tool/curve",["require","./vector"],function(x){function K(a){return a>-M&&M>a}function C(a){return a>M||-M>a}function F(c,h,d,f,b){var g=1-b;return g*g*(g*c+3*b*h)+b*b*(b*f+3*g*d)}function k(c,h,d,f,b){var g=1-b;return 3*(((h-c)*g+2*(d-h)*b)*g+(f-d)*b*b)}function G(R,T,ac,g,ad,af){var ag=g+3*(T-ac)-R,Z=3*(ac-2*T+R),S=3*(T-R),Q=R-ad,P=Z*Z-3*ag*S,ab=Z*S-9*ag*Q,ae=S*S-3*Z*Q,ah=0;if(K(P)&&K(ab)){if(K(Z)){af[0]=0}else{var ak=-S/Z;ak>=0&&1>=ak&&(af[ah++]=ak)}}else{var ai=ab*ab-4*P*ae;if(K(ai)){var ap=ab/P,ak=-Z/ag+ap,t=-ap/2;ak>=0&&1>=ak&&(af[ah++]=ak),t>=0&&1>=t&&(af[ah++]=t)}else{if(ai>0){var f=Math.sqrt(ai),an=P*Z+1.5*ag*(-ab+f),Y=P*Z+1.5*ag*(-ab-f);an=0>an?-Math.pow(-an,z):Math.pow(an,z),Y=0>Y?-Math.pow(-Y,z):Math.pow(Y,z);var ak=(-Z-(an+Y))/(3*ag);ak>=0&&1>=ak&&(af[ah++]=ak)}else{var aj=(2*P*Z-3*ag*ab)/(2*Math.sqrt(P*P*P)),aa=Math.acos(aj)/3,al=Math.sqrt(P),am=Math.cos(aa),ak=(-Z-2*al*am)/(3*ag),t=(-Z+al*(am+A*Math.sin(aa)))/(3*ag),ao=(-Z+al*(am-A*Math.sin(aa)))/(3*ag);ak>=0&&1>=ak&&(af[ah++]=ak),t>=0&&1>=t&&(af[ah++]=t),ao>=0&&1>=ao&&(af[ah++]=ao)}}}return ah}function I(i,Q,b,R,T){var U=6*b-12*Q+6*i,y=9*Q+3*R-3*i-9*b,t=3*Q-3*i,g=0;if(K(y)){if(C(U)){var f=-t/U;f>=0&&1>=f&&(T[g++]=f)}}else{var P=U*U-4*y*t;if(K(P)){T[0]=-U/(2*y)}else{if(P>0){var S=Math.sqrt(P),f=(-U+S)/(2*y),V=(-U-S)/(2*y);f>=0&&1>=f&&(T[g++]=f),V>=0&&1>=V&&(T[g++]=V)}}}return g}function J(m,T,u,P,b,Q){var R=(T-m)*b+m,S=(u-T)*b+T,y=(P-u)*b+u,p=(S-R)*b+R,g=(y-S)*b+S,f=(g-p)*b+p;Q[0]=m,Q[1]=R,Q[2]=p,Q[3]=f,Q[4]=f,Q[5]=g,Q[6]=y,Q[7]=P}function D(P,ac,T,b,Y,aa,ab,V,S,y,n){var X,Z=0.005,ad=1/0;O[0]=S,O[1]=y;for(var R=0;1>R;R+=0.05){q[0]=F(P,T,Y,ab,R),q[1]=F(ac,b,aa,V,R);var Q=N.distSquare(O,q);ad>Q&&(X=R,ad=Q)}ad=1/0;for(var af=0;32>af&&!(M>Z);af++){var U=X-Z,ae=X+Z;q[0]=F(P,T,Y,ab,U),q[1]=F(ac,b,aa,V,U);var Q=N.distSquare(q,O);if(U>=0&&ad>Q){X=U,ad=Q}else{j[0]=F(P,T,Y,ab,ae),j[1]=F(ac,b,aa,V,ae);var W=N.distSquare(j,O);1>=ae&&ad>W?(X=ae,ad=W):Z*=0.5}}return n&&(n[0]=F(P,T,Y,ab,X),n[1]=F(ac,b,aa,V,X)),Math.sqrt(ad)}function B(c,g,d,f){var b=1-f;return b*(b*c+2*f*g)+f*f*d}function w(a,d,b,c){return 2*((1-c)*(d-a)+c*(b-d))}function v(i,Q,b,R,T){var U=i-2*Q+b,y=2*(Q-i),t=i-R,g=0;if(K(U)){if(C(y)){var f=-t/y;f>=0&&1>=f&&(T[g++]=f)}}else{var P=y*y-4*U*t;if(K(P)){var f=-y/(2*U);f>=0&&1>=f&&(T[g++]=f)}else{if(P>0){var S=Math.sqrt(P),f=(-y+S)/(2*U),V=(-y-S)/(2*U);f>=0&&1>=f&&(T[g++]=f),V>=0&&1>=V&&(T[g++]=V)}}}return g}function E(a,d,b){var c=a+b-2*d;return 0===c?0.5:(a-d)/c}function H(c,m,d,f,b){var g=(m-c)*f+c,h=(d-m)*f+m,l=(h-g)*f+g;b[0]=c,b[1]=g,b[2]=l,b[3]=l,b[4]=h,b[5]=d}function L(P,ab,S,W,b,X,Z,aa,U){var y,h=0.005,V=1/0;O[0]=Z,O[1]=aa;for(var Y=0;1>Y;Y+=0.05){q[0]=B(P,S,b,Y),q[1]=B(ab,W,X,Y);var ac=N.distSquare(O,q);V>ac&&(y=Y,V=ac)}V=1/0;for(var R=0;32>R&&!(M>h);R++){var Q=y-h,ad=y+h;q[0]=B(P,S,b,Q),q[1]=B(ab,W,X,Q);var ac=N.distSquare(q,O);if(Q>=0&&V>ac){y=Q,V=ac}else{j[0]=B(P,S,b,ad),j[1]=B(ab,W,X,ad);var T=N.distSquare(j,O);1>=ad&&V>T?(y=ad,V=T):h*=0.5}}return U&&(U[0]=B(P,S,b,y),U[1]=B(ab,W,X,y)),Math.sqrt(V)}var N=x("./vector"),M=0.0001,A=Math.sqrt(3),z=1/3,O=N.create(),q=N.create(),j=N.create();return{cubicAt:F,cubicDerivativeAt:k,cubicRootAt:G,cubicExtrema:I,cubicSubdivide:J,cubicProjectPoint:D,quadraticAt:B,quadraticDerivativeAt:w,quadraticRootAt:v,quadraticExtremum:E,quadraticSubdivide:H,quadraticProjectPoint:L}}),define("zrender/mixin/Transformable",["require","../tool/matrix","../tool/vector"],function(c){function m(a){return a>-k&&k>a}function d(a){return a>k||-k>a}var g=c("../tool/matrix"),b=c("../tool/vector"),h=[0,0],j=g.translate,k=5e-05,f=function(){this.position||(this.position=[0,0]),"undefined"==typeof this.rotation&&(this.rotation=[0,0,0]),this.scale||(this.scale=[1,1,0,0]),this.needLocalTransform=!1,this.needTransform=!1};return f.prototype={constructor:f,updateNeedTransform:function(){this.needLocalTransform=d(this.rotation[0])||d(this.position[0])||d(this.position[1])||d(this.scale[0]-1)||d(this.scale[1]-1)},updateTransform:function(){this.updateNeedTransform();var l=this.parent&&this.parent.needTransform;if(this.needTransform=this.needLocalTransform||l,this.needTransform){var o=this.transform||g.create();if(g.identity(o),this.needLocalTransform){var i=this.scale;if(d(i[0])||d(i[1])){h[0]=-i[2]||0,h[1]=-i[3]||0;var n=d(h[0])||d(h[1]);n&&j(o,o,h),g.scale(o,o,i),n&&(h[0]=-h[0],h[1]=-h[1],j(o,o,h))}if(this.rotation instanceof Array){if(0!==this.rotation[0]){h[0]=-this.rotation[1]||0,h[1]=-this.rotation[2]||0;var n=d(h[0])||d(h[1]);n&&j(o,o,h),g.rotate(o,o,this.rotation[0]),n&&(h[0]=-h[0],h[1]=-h[1],j(o,o,h))}}else{0!==this.rotation&&g.rotate(o,o,this.rotation)}(d(this.position[0])||d(this.position[1]))&&j(o,o,this.position)}l&&(this.needLocalTransform?g.mul(o,this.parent.transform,o):g.copy(o,this.parent.transform)),this.transform=o,this.invTransform=this.invTransform||g.create(),g.invert(this.invTransform,o)}},setTransform:function(a){if(this.needTransform){var i=this.transform;a.transform(i[0],i[1],i[2],i[3],i[4],i[5])}},lookAt:function(){var a=b.create();return function(e){this.transform||(this.transform=g.create());var l=this.transform;if(b.sub(a,e,this.position),!m(a[0])||!m(a[1])){b.normalize(a,a);var n=this.scale;l[2]=a[0]*n[1],l[3]=a[1]*n[1],l[0]=a[1]*n[0],l[1]=-a[0]*n[0],l[4]=this.position[0],l[5]=this.position[1],this.decomposeTransform()}}}(),decomposeTransform:function(){if(this.transform){var l=this.transform,u=l[0]*l[0]+l[1]*l[1],p=this.position,i=this.scale,q=this.rotation;d(u-1)&&(u=Math.sqrt(u));var s=l[2]*l[2]+l[3]*l[3];d(s-1)&&(s=Math.sqrt(s)),p[0]=l[4],p[1]=l[5],i[0]=u,i[1]=s,i[2]=i[3]=0,q[0]=Math.atan2(-l[1]/s,l[0]/u),q[1]=q[2]=0}},transformCoordToLocal:function(a,n){var l=[a,n];return this.needTransform&&this.invTransform&&b.applyTransform(l,l,this.invTransform),l}},f}),define("zrender/Group",["require","./tool/guid","./tool/util","./mixin/Transformable","./mixin/Eventful"],function(c){var h=c("./tool/guid"),d=c("./tool/util"),f=c("./mixin/Transformable"),b=c("./mixin/Eventful"),g=function(a){a=a||{},this.id=a.id||h();for(var j in a){this[j]=a[j]}this.type="group",this.clipShape=null,this._children=[],this._storage=null,this.__dirty=!0,f.call(this),b.call(this)};return g.prototype.ignore=!1,g.prototype.children=function(){return this._children.slice()},g.prototype.childAt=function(a){return this._children[a]},g.prototype.addChild=function(a){a!=this&&a.parent!=this&&(a.parent&&a.parent.removeChild(a),this._children.push(a),a.parent=this,this._storage&&this._storage!==a._storage&&(this._storage.addToMap(a),a instanceof g&&a.addChildrenToStorage(this._storage)))},g.prototype.removeChild=function(a){var i=d.indexOf(this._children,a);i>=0&&this._children.splice(i,1),a.parent=null,this._storage&&(this._storage.delFromMap(a.id),a instanceof g&&a.delChildrenFromStorage(this._storage))},g.prototype.clearChildren=function(){for(var a=0;a<this._children.length;a++){var i=this._children[a];this._storage&&(this._storage.delFromMap(i.id),i instanceof g&&i.delChildrenFromStorage(this._storage))}this._children.length=0},g.prototype.eachChild=function(k,o){for(var l=!!o,m=0;m<this._children.length;m++){var j=this._children[m];l?k.call(o,j):k(j)}},g.prototype.traverse=function(k,o){for(var l=!!o,m=0;m<this._children.length;m++){var j=this._children[m];l?k.call(o,j):k(j),"group"===j.type&&j.traverse(k,o)}},g.prototype.addChildrenToStorage=function(a){for(var k=0;k<this._children.length;k++){var j=this._children[k];a.addToMap(j),j instanceof g&&j.addChildrenToStorage(a)}},g.prototype.delChildrenFromStorage=function(a){for(var k=0;k<this._children.length;k++){var j=this._children[k];a.delFromMap(j.id),j instanceof g&&j.delChildrenFromStorage(a)}},g.prototype.modSelf=function(){this.__dirty=!0},d.merge(g.prototype,f.prototype,!0),d.merge(g.prototype,b.prototype,!0),g}),define("zrender/animation/Clip",["require","./easing"],function(a){function c(d){this._targetPool=d.target||{},this._targetPool instanceof Array||(this._targetPool=[this._targetPool]),this._life=d.life||1000,this._delay=d.delay||0,this._startTime=(new Date).getTime()+this._delay,this._endTime=this._startTime+1000*this._life,this.loop="undefined"==typeof d.loop?!1:d.loop,this.gap=d.gap||0,this.easing=d.easing||"Linear",this.onframe=d.onframe,this.ondestroy=d.ondestroy,this.onrestart=d.onrestart}var b=a("./easing");return c.prototype={step:function(f){var h=(f-this._startTime)/this._life;if(!(0>h)){h=Math.min(h,1);var g="string"==typeof this.easing?b[this.easing]:this.easing,d="function"==typeof g?g(h):h;return this.fire("frame",d),1==h?this.loop?(this.restart(),"restart"):(this.__needsRemove=!0,"destroy"):null}},restart:function(){var d=(new Date).getTime(),f=(d-this._startTime)%this._life;this._startTime=(new Date).getTime()-f+this.gap,this.__needsRemove=!1},fire:function(d,h){for(var f=0,g=this._targetPool.length;g>f;f++){this["on"+d]&&this["on"+d](this._targetPool[f],h)}},constructor:c},c}),define("zrender/animation/easing",[],function(){var a={Linear:function(b){return b},QuadraticIn:function(b){return b*b},QuadraticOut:function(b){return b*(2-b)},QuadraticInOut:function(b){return(b*=2)<1?0.5*b*b:-0.5*(--b*(b-2)-1)},CubicIn:function(b){return b*b*b},CubicOut:function(b){return --b*b*b+1},CubicInOut:function(b){return(b*=2)<1?0.5*b*b*b:0.5*((b-=2)*b*b+2)},QuarticIn:function(b){return b*b*b*b},QuarticOut:function(b){return 1- --b*b*b*b},QuarticInOut:function(b){return(b*=2)<1?0.5*b*b*b*b:-0.5*((b-=2)*b*b*b-2)},QuinticIn:function(b){return b*b*b*b*b},QuinticOut:function(b){return --b*b*b*b*b+1},QuinticInOut:function(b){return(b*=2)<1?0.5*b*b*b*b*b:0.5*((b-=2)*b*b*b*b+2)},SinusoidalIn:function(b){return 1-Math.cos(b*Math.PI/2)},SinusoidalOut:function(b){return Math.sin(b*Math.PI/2)},SinusoidalInOut:function(b){return 0.5*(1-Math.cos(Math.PI*b))},ExponentialIn:function(b){return 0===b?0:Math.pow(1024,b-1)},ExponentialOut:function(b){return 1===b?1:1-Math.pow(2,-10*b)},ExponentialInOut:function(b){return 0===b?0:1===b?1:(b*=2)<1?0.5*Math.pow(1024,b-1):0.5*(-Math.pow(2,-10*(b-1))+2)},CircularIn:function(b){return 1-Math.sqrt(1-b*b)},CircularOut:function(b){return Math.sqrt(1- --b*b)},CircularInOut:function(b){return(b*=2)<1?-0.5*(Math.sqrt(1-b*b)-1):0.5*(Math.sqrt(1-(b-=2)*b)+1)},ElasticIn:function(b){var f,c=0.1,d=0.4;return 0===b?0:1===b?1:(!c||1>c?(c=1,f=d/4):f=d*Math.asin(1/c)/(2*Math.PI),-(c*Math.pow(2,10*(b-=1))*Math.sin(2*(b-f)*Math.PI/d)))},ElasticOut:function(b){var f,c=0.1,d=0.4;return 0===b?0:1===b?1:(!c||1>c?(c=1,f=d/4):f=d*Math.asin(1/c)/(2*Math.PI),c*Math.pow(2,-10*b)*Math.sin(2*(b-f)*Math.PI/d)+1)},ElasticInOut:function(b){var f,c=0.1,d=0.4;return 0===b?0:1===b?1:(!c||1>c?(c=1,f=d/4):f=d*Math.asin(1/c)/(2*Math.PI),(b*=2)<1?-0.5*c*Math.pow(2,10*(b-=1))*Math.sin(2*(b-f)*Math.PI/d):c*Math.pow(2,-10*(b-=1))*Math.sin(2*(b-f)*Math.PI/d)*0.5+1)},BackIn:function(b){var c=1.70158;return b*b*((c+1)*b-c)},BackOut:function(b){var c=1.70158;return --b*b*((c+1)*b+c)+1},BackInOut:function(b){var c=2.5949095;return(b*=2)<1?0.5*b*b*((c+1)*b-c):0.5*((b-=2)*b*((c+1)*b+c)+2)},BounceIn:function(b){return 1-a.BounceOut(1-b)},BounceOut:function(b){return 1/2.75>b?7.5625*b*b:2/2.75>b?7.5625*(b-=1.5/2.75)*b+0.75:2.5/2.75>b?7.5625*(b-=2.25/2.75)*b+0.9375:7.5625*(b-=2.625/2.75)*b+0.984375},BounceInOut:function(b){return 0.5>b?0.5*a.BounceIn(2*b):0.5*a.BounceOut(2*b-1)+0.5}};return a}),define("echarts/chart/base",["require","zrender/shape/Image","../util/shape/Icon","../util/shape/MarkLine","../util/shape/Symbol","zrender/shape/Polyline","zrender/shape/ShapeBundle","../config","../util/ecData","../util/ecAnimation","../util/ecEffect","../util/accMath","../component/base","../layout/EdgeBundling","zrender/tool/util","zrender/tool/area"],function(k){function E(a){return null!=a.x&&null!=a.y}function w(d,m,g,h,c){F.call(this,d,m,g,h,c);var l=this;this.selectedMap={},this.lastShapeList=[],this.shapeHandler={onclick:function(){l.isClick=!0},ondragover:function(p){var J=p.target;J.highlightStyle=J.highlightStyle||{};var s=J.highlightStyle,u=s.brushTyep,o=s.strokeColor,I=s.lineWidth;s.brushType="stroke",s.strokeColor=l.ecTheme.calculableColor||v.calculableColor,s.lineWidth="icon"===J.type?30:10,l.zr.addHoverShape(J),setTimeout(function(){s&&(s.brushType=u,s.strokeColor=o,s.lineWidth=I)},20)},ondrop:function(a){null!=j.get(a.dragged,"data")&&(l.isDrop=!0)},ondragend:function(){l.isDragend=!0}}}var z=k("zrender/shape/Image"),b=k("../util/shape/Icon"),A=k("../util/shape/MarkLine"),C=k("../util/shape/Symbol"),D=k("zrender/shape/Polyline"),x=k("zrender/shape/ShapeBundle"),v=k("../config"),j=k("../util/ecData"),f=k("../util/ecAnimation"),y=k("../util/ecEffect"),B=k("../util/accMath"),F=k("../component/base"),H=k("../layout/EdgeBundling"),G=k("zrender/tool/util"),q=k("zrender/tool/area");return w.prototype={setCalculable:function(a){return a.dragEnableTime=this.ecTheme.DRAG_ENABLE_TIME||v.DRAG_ENABLE_TIME,a.ondragover=this.shapeHandler.ondragover,a.ondragend=this.shapeHandler.ondragend,a.ondrop=this.shapeHandler.ondrop,a},ondrop:function(h,O){if(this.isDrop&&h.target&&!O.dragIn){var p,K=h.target,d=h.dragged,L=j.get(K,"seriesIndex"),M=j.get(K,"dataIndex"),N=this.series,I=this.component.legend;if(-1===M){if(j.get(d,"seriesIndex")==L){return O.dragOut=O.dragIn=O.needRefresh=!0,void (this.isDrop=!1)}p={value:j.get(d,"value"),name:j.get(d,"name")},this.type===v.CHART_TYPE_PIE&&p.value<0&&(p.value=0);for(var g=!1,J=N[L].data,P=0,R=J.length;R>P;P++){J[P].name===p.name&&"-"===J[P].value&&(N[L].data[P].value=p.value,g=!0)}!g&&N[L].data.push(p),I&&I.add(p.name,d.style.color||d.style.strokeColor)}else{p=N[L].data[M]||"-",null!=p.value?(N[L].data[M].value="-"!=p.value?B.accAdd(N[L].data[M].value,j.get(d,"value")):j.get(d,"value"),(this.type===v.CHART_TYPE_FUNNEL||this.type===v.CHART_TYPE_PIE)&&(I&&1===I.getRelatedAmount(p.name)&&this.component.legend.del(p.name),p.name+=this.option.nameConnector+j.get(d,"name"),I&&I.add(p.name,d.style.color||d.style.strokeColor))):N[L].data[M]="-"!=p?B.accAdd(N[L].data[M],j.get(d,"value")):j.get(d,"value")}O.dragIn=O.dragIn||!0,this.isDrop=!1;var Q=this;setTimeout(function(){Q.zr.trigger("mousemove",h.event)},300)}},ondragend:function(d,u){if(this.isDragend&&d.target&&!u.dragOut){var g=d.target,h=j.get(g,"seriesIndex"),c=j.get(g,"dataIndex"),l=this.series;if(null!=l[h].data[c].value){l[h].data[c].value="-";var m=l[h].data[c].name,p=this.component.legend;p&&0===p.getRelatedAmount(m)&&p.del(m)}else{l[h].data[c]="-"}u.dragOut=!0,u.needRefresh=!0,this.isDragend=!1}},onlegendSelected:function(a,g){var c=a.selected;for(var d in this.selectedMap){this.selectedMap[d]!=c[d]&&(g.needRefresh=!0),this.selectedMap[d]=c[d]}},_buildPosition:function(){this._symbol=this.option.symbolList,this._sIndex2ShapeMap={},this._sIndex2ColorMap={},this.selectedMap={},this.xMarkMap={};for(var d,J,g,m,c=this.series,p={top:[],bottom:[],left:[],right:[],other:[]},u=0,I=c.length;I>u;u++){c[u].type===this.type&&(c[u]=this.reformOption(c[u]),this.legendHoverLink=c[u].legendHoverLink||this.legendHoverLink,d=c[u].xAxisIndex,J=c[u].yAxisIndex,g=this.component.xAxis.getAxis(d),m=this.component.yAxis.getAxis(J),g.type===v.COMPONENT_TYPE_AXIS_CATEGORY?p[g.getPosition()].push(u):m.type===v.COMPONENT_TYPE_AXIS_CATEGORY?p[m.getPosition()].push(u):p.other.push(u))}for(var h in p){p[h].length>0&&this._buildSinglePosition(h,p[h])}this.addShapeList()},_buildSinglePosition:function(d,p){var g=this._mapData(p),h=g.locationMap,c=g.maxDataLength;if(0!==c&&0!==h.length){switch(d){case"bottom":case"top":this._buildHorizontal(p,c,h,this.xMarkMap);break;case"left":case"right":this._buildVertical(p,c,h,this.xMarkMap);break;case"other":this._buildOther(p,c,h,this.xMarkMap)}for(var l=0,m=p.length;m>l;l++){this.buildMark(p[l])}}},_mapData:function(J){for(var S,K,N,g,O=this.series,Q=0,R={},L="__kener__stack__",I=this.component.legend,h=[],M=0,P=0,T=J.length;T>P;P++){if(S=O[J[P]],N=S.name,this._sIndex2ShapeMap[J[P]]=this._sIndex2ShapeMap[J[P]]||this.query(S,"symbol")||this._symbol[P%this._symbol.length],I){if(this.selectedMap[N]=I.isSelected(N),this._sIndex2ColorMap[J[P]]=I.getColor(N),g=I.getItemShape(N)){var X=g.style;if(this.type==v.CHART_TYPE_LINE){X.iconType="legendLineIcon",X.symbol=this._sIndex2ShapeMap[J[P]]}else{if(S.itemStyle.normal.barBorderWidth>0){var W=g.highlightStyle;X.brushType="both",X.x+=1,X.y+=1,X.width-=2,X.height-=2,X.strokeColor=W.strokeColor=S.itemStyle.normal.barBorderColor,W.lineWidth=3}}I.setItemShape(N,g)}}else{this.selectedMap[N]=!0,this._sIndex2ColorMap[J[P]]=this.zr.getColor(J[P])}this.selectedMap[N]&&(K=S.stack||L+J[P],null==R[K]?(R[K]=Q,h[Q]=[J[P]],Q++):h[R[K]].push(J[P])),M=Math.max(M,S.data.length)}return{locationMap:h,maxDataLength:M}},_calculMarkMapXY:function(J,T,L){for(var O=this.series,g=0,P=T.length;P>g;g++){for(var R=0,S=T[g].length;S>R;R++){var M=T[g][R],K="xy"==L?0:"",I=this.component.grid,u=J[M];if("-1"!=L.indexOf("x")){u["counter"+K]>0&&(u["average"+K]=u["sum"+K]/u["counter"+K]);var N=this.component.xAxis.getAxis(O[M].xAxisIndex||0).getCoord(u["average"+K]);u["averageLine"+K]=[[N,I.getYend()],[N,I.getY()]],u["minLine"+K]=[[u["minX"+K],I.getYend()],[u["minX"+K],I.getY()]],u["maxLine"+K]=[[u["maxX"+K],I.getYend()],[u["maxX"+K],I.getY()]],u.isHorizontal=!1}if(K="xy"==L?1:"","-1"!=L.indexOf("y")){u["counter"+K]>0&&(u["average"+K]=u["sum"+K]/u["counter"+K]);var Q=this.component.yAxis.getAxis(O[M].yAxisIndex||0).getCoord(u["average"+K]);u["averageLine"+K]=[[I.getX(),Q],[I.getXend(),Q]],u["minLine"+K]=[[I.getX(),u["minY"+K]],[I.getXend(),u["minY"+K]]],u["maxLine"+K]=[[I.getX(),u["maxY"+K]],[I.getXend(),u["maxY"+K]]],u.isHorizontal=!0}}}},addLabel:function(u,P,J,L,g){var M=[J,P],N=this.deepMerge(M,"itemStyle.normal.label"),O=this.deepMerge(M,"itemStyle.emphasis.label"),K=N.textStyle||{},I=O.textStyle||{};if(N.show){var p=u.style;p.text=this._getLabelText(P,J,L,"normal"),p.textPosition=null==N.position?"horizontal"===g?"right":"top":N.position,p.textColor=K.color,p.textFont=this.getFont(K),p.textAlign=K.align,p.textBaseline=K.baseline}if(O.show){var m=u.highlightStyle;m.text=this._getLabelText(P,J,L,"emphasis"),m.textPosition=N.show?u.style.textPosition:null==O.position?"horizontal"===g?"right":"top":O.position,m.textColor=I.color,m.textFont=this.getFont(I),m.textAlign=I.align,m.textBaseline=I.baseline}return u},_getLabelText:function(d,m,g,h){var c=this.deepQuery([m,d],"itemStyle."+h+".label.formatter");c||"emphasis"!==h||(c=this.deepQuery([m,d],"itemStyle.normal.label.formatter"));var l=this.getDataFromOption(m,"-");return c?"function"==typeof c?c.call(this.myChart,{seriesName:d.name,series:d,name:g,value:l,data:m,status:h}):"string"==typeof c?c=c.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}").replace("{a0}",d.name).replace("{b0}",g).replace("{c0}",this.numAddCommas(l)):void 0:l instanceof Array?null!=l[2]?this.numAddCommas(l[2]):l[0]+" , "+l[1]:this.numAddCommas(l)},buildMark:function(a){var c=this.series[a];this.selectedMap[c.name]&&(c.markLine&&this._buildMarkLine(a),c.markPoint&&this._buildMarkPoint(a))},_buildMarkPoint:function(p){for(var N,u,J=(this.markAttachStyle||{})[p],g=this.series[p],K=G.clone(g.markPoint),L=0,M=K.data.length;M>L;L++){N=K.data[L],u=this.getMarkCoord(p,N),N.x=null!=N.x?N.x:u[0],N.y=null!=N.y?N.y:u[1],!N.type||"max"!==N.type&&"min"!==N.type||(N.value=u[3],N.name=N.name||N.type,N.symbolSize=N.symbolSize||q.getTextWidth(u[3],this.getFont())/2+5)}for(var I=this._markPoint(p,K),L=0,M=I.length;M>L;L++){var m=I[L];m.zlevel=g.zlevel,m.z=g.z+1;for(var h in J){m[h]=G.clone(J[h])}this.shapeList.push(m)}if(this.type===v.CHART_TYPE_FORCE||this.type===v.CHART_TYPE_CHORD){for(var L=0,M=I.length;M>L;L++){this.zr.addShape(I[L])}}},_buildMarkLine:function(J){for(var S,L=(this.markAttachStyle||{})[J],N=this.series[J],h=G.clone(N.markLine),O=0,Q=h.data.length;Q>O;O++){var R=h.data[O];!R.type||"max"!==R.type&&"min"!==R.type&&"average"!==R.type?S=[this.getMarkCoord(J,R[0]),this.getMarkCoord(J,R[1])]:(S=this.getMarkCoord(J,R),h.data[O]=[G.clone(R),{}],h.data[O][0].name=R.name||R.type,h.data[O][0].value="average"!==R.type?S[3]:+S[3].toFixed(null!=h.precision?h.precision:this.deepQuery([this.ecTheme,v],"markLine.precision")),S=S[2],R=[{},{}]),null!=S&&null!=S[0]&&null!=S[1]&&(h.data[O][0].x=null!=R[0].x?R[0].x:S[0][0],h.data[O][0].y=null!=R[0].y?R[0].y:S[0][1],h.data[O][1].x=null!=R[1].x?R[1].x:S[1][0],h.data[O][1].y=null!=R[1].y?R[1].y:S[1][1])}var I=this._markLine(J,h),l=h.large;if(l){var M=new x({style:{shapeList:I}}),P=I[0];if(P){G.merge(M.style,P.style),G.merge(M.highlightStyle={},P.highlightStyle),M.style.brushType="stroke",M.zlevel=N.zlevel,M.z=N.z+1,M.hoverable=!1;for(var T in L){M[T]=G.clone(L[T])}}this.shapeList.push(M),this.zr.addShape(M),M._mark="largeLine";var U=h.effect;U.show&&(M.effect=U)}else{for(var O=0,Q=I.length;Q>O;O++){var K=I[O];K.zlevel=N.zlevel,K.z=N.z+1;for(var T in L){K[T]=G.clone(L[T])}this.shapeList.push(K)}if(this.type===v.CHART_TYPE_FORCE||this.type===v.CHART_TYPE_CHORD){for(var O=0,Q=I.length;Q>O;O++){this.zr.addShape(I[O])}}}},_markPoint:function(K,W){var N=this.series[K],Q=this.component;G.merge(G.merge(W,G.clone(this.ecTheme.markPoint||{})),G.clone(v.markPoint)),W.name=N.name;var h,R,T,U,O,J,P,S=[],X=W.data,Y=Q.dataRange,M=Q.legend,L=this.zr.getWidth(),Z=this.zr.getHeight();if(W.large){h=this.getLargeMarkPointShape(K,W),h._mark="largePoint",h&&S.push(h)}else{for(var I=0,d=X.length;d>I;I++){null!=X[I].x&&null!=X[I].y&&(T=null!=X[I].value?X[I].value:"",M&&(R=M.getColor(N.name)),Y&&(R=isNaN(T)?R:Y.getColor(T),U=[X[I],W],O=this.deepQuery(U,"itemStyle.normal.color")||R,J=this.deepQuery(U,"itemStyle.emphasis.color")||O,null==O&&null==J)||(R=null==R?this.zr.getColor(K):R,X[I].tooltip=X[I].tooltip||W.tooltip||{trigger:"item"},X[I].name=null!=X[I].name?X[I].name:"",X[I].value=T,h=this.getSymbolShape(W,K,X[I],I,X[I].name,this.parsePercent(X[I].x,L),this.parsePercent(X[I].y,Z),"pin",R,"rgba(0,0,0,0)","horizontal"),h._mark="point",P=this.deepMerge([X[I],W],"effect"),P.show&&(h.effect=P),N.type===v.CHART_TYPE_MAP&&(h._geo=this.getMarkGeo(X[I])),j.pack(h,N,K,X[I],I,X[I].name,T),S.push(h)))}}return S},_markLine:function(){function a(c,d){c[d]=c[d] instanceof Array?c[d].length>1?c[d]:[c[d][0],c[d][0]]:[c[d],c[d]]}return function(O,Y){var e=this.series[O],Z=this.component,ab=Z.dataRange,ac=Z.legend;G.merge(G.merge(Y,G.clone(this.ecTheme.markLine||{})),G.clone(v.markLine));var T=ac?ac.getColor(e.name):this.zr.getColor(O);a(Y,"symbol"),a(Y,"symbolSize"),a(Y,"symbolRotate");for(var t=Y.data,V=[],aa=this.zr.getWidth(),ae=this.zr.getHeight(),N=0;N<t.length;N++){var M=t[N];if(E(M[0])&&E(M[1])){var ak=this.deepMerge(M),h=[ak,Y],d=T,ai=null!=ak.value?ak.value:"";if(ab){d=isNaN(ai)?d:ab.getColor(ai);var Q=this.deepQuery(h,"itemStyle.normal.color")||d,af=this.deepQuery(h,"itemStyle.emphasis.color")||Q;if(null==Q&&null==af){continue}}M[0].tooltip=ak.tooltip||Y.tooltip||{trigger:"item"},M[0].name=M[0].name||"",M[1].name=M[1].name||"",M[0].value=ai,V.push({points:[[this.parsePercent(M[0].x,aa),this.parsePercent(M[0].y,ae)],[this.parsePercent(M[1].x,aa),this.parsePercent(M[1].y,ae)]],rawData:M,color:d})}}var U=this.query(Y,"bundling.enable");if(U){var ag=new H;ag.maxTurningAngle=this.query(Y,"bundling.maxTurningAngle")/180*Math.PI,V=ag.run(V)}Y.name=e.name;for(var ah=[],N=0,aj=V.length;aj>N;N++){var P=V[N],ad=P.rawEdge||P,M=ad.rawData,ai=null!=M.value?M.value:"",R=this.getMarkLineShape(Y,O,M,N,P.points,U,ad.color);R._mark="line";var J=this.deepMerge([M[0],M[1],Y],"effect");J.show&&(R.effect=J,R.effect.large=Y.large),e.type===v.CHART_TYPE_MAP&&(R._geo=[this.getMarkGeo(M[0]),this.getMarkGeo(M[1])]),j.pack(R,e,O,M[0],N,M[0].name+(""!==M[1].name?" > "+M[1].name:""),ai),ah.push(R)}return ah}}(),getMarkCoord:function(){return[0,0]},getSymbolShape:function(I,Y,N,S,W,X,P,M,n,R,T){var Z=[N,I],ac=this.getDataFromOption(N,"-");M=this.deepQuery(Z,"symbol")||M;var aa=this.deepQuery(Z,"symbolSize");aa="function"==typeof aa?aa(ac):aa,"number"==typeof aa&&(aa=[aa,aa]);var K=this.deepQuery(Z,"symbolRotate"),J=this.deepMerge(Z,"itemStyle.normal"),af=this.deepMerge(Z,"itemStyle.emphasis"),d=null!=J.borderWidth?J.borderWidth:J.lineStyle&&J.lineStyle.width;null==d&&(d=M.match("empty")?2:0);var a=null!=af.borderWidth?af.borderWidth:af.lineStyle&&af.lineStyle.width;null==a&&(a=d+2);var ae=this.getItemStyleColor(J.color,Y,S,N),O=this.getItemStyleColor(af.color,Y,S,N),ab=aa[0],Q=aa[1],ad=new b({style:{iconType:M.replace("empty","").toLowerCase(),x:X-ab,y:P-Q,width:2*ab,height:2*Q,brushType:"both",color:M.match("empty")?R:ae||n,strokeColor:J.borderColor||ae||n,lineWidth:d},highlightStyle:{color:M.match("empty")?R:O||ae||n,strokeColor:af.borderColor||J.borderColor||O||ae||n,lineWidth:a},clickable:this.deepQuery(Z,"clickable")});return M.match("image")&&(ad.style.image=M.replace(new RegExp("^image:\\/\\/"),""),ad=new z({style:ad.style,highlightStyle:ad.highlightStyle,clickable:this.deepQuery(Z,"clickable")})),null!=K&&(ad.rotation=[K*Math.PI/180,X,P]),M.match("star")&&(ad.style.iconType="star",ad.style.n=M.replace("empty","").replace("star","")-0||5),"none"===M&&(ad.invisible=!0,ad.hoverable=!1),ad=this.addLabel(ad,I,N,W,T),M.match("empty")&&(null==ad.style.textColor&&(ad.style.textColor=ad.style.strokeColor),null==ad.highlightStyle.textColor&&(ad.highlightStyle.textColor=ad.highlightStyle.strokeColor)),j.pack(ad,I,Y,N,S,W),ad._x=X,ad._y=P,ad._dataIndex=S,ad._seriesIndex=Y,ad},getMarkLineShape:function(L,Y,P,T,s,X,R){var O=null!=P[0].value?P[0].value:"-",K=null!=P[1].value?P[1].value:"-",J=[P[0].symbol||L.symbol[0],P[1].symbol||L.symbol[1]],S=[P[0].symbolSize||L.symbolSize[0],P[1].symbolSize||L.symbolSize[1]];S[0]="function"==typeof S[0]?S[0](O):S[0],S[1]="function"==typeof S[1]?S[1](K):S[1];var W=[this.query(P[0],"symbolRotate")||L.symbolRotate[0],this.query(P[1],"symbolRotate")||L.symbolRotate[1]],Z=[P[0],P[1],L],ac=this.deepMerge(Z,"itemStyle.normal");ac.color=this.getItemStyleColor(ac.color,Y,T,P);var aa=this.deepMerge(Z,"itemStyle.emphasis");aa.color=this.getItemStyleColor(aa.color,Y,T,P);var N=ac.lineStyle,M=aa.lineStyle,ae=N.width;null==ae&&(ae=ac.borderWidth);var I=M.width;null==I&&(I=null!=aa.borderWidth?aa.borderWidth:ae+2);var o=this.deepQuery(Z,"smoothness");this.deepQuery(Z,"smooth")||(o=0);var ad=X?D:A,Q=new ad({style:{symbol:J,symbolSize:S,symbolRotate:W,brushType:"both",lineType:N.type,shadowColor:N.shadowColor||N.color||ac.borderColor||ac.color||R,shadowBlur:N.shadowBlur,shadowOffsetX:N.shadowOffsetX,shadowOffsetY:N.shadowOffsetY,color:ac.color||R,strokeColor:N.color||ac.borderColor||ac.color||R,lineWidth:ae,symbolBorderColor:ac.borderColor||ac.color||R,symbolBorder:ac.borderWidth},highlightStyle:{shadowColor:M.shadowColor,shadowBlur:M.shadowBlur,shadowOffsetX:M.shadowOffsetX,shadowOffsetY:M.shadowOffsetY,color:aa.color||ac.color||R,strokeColor:M.color||N.color||aa.borderColor||ac.borderColor||aa.color||ac.color||R,lineWidth:I,symbolBorderColor:aa.borderColor||ac.borderColor||aa.color||ac.color||R,symbolBorder:null==aa.borderWidth?ac.borderWidth+2:aa.borderWidth},clickable:this.deepQuery(Z,"clickable")}),ab=Q.style;return X?(ab.pointList=s,ab.smooth=o):(ab.xStart=s[0][0],ab.yStart=s[0][1],ab.xEnd=s[1][0],ab.yEnd=s[1][1],ab.curveness=o,Q.updatePoints(Q.style)),Q=this.addLabel(Q,L,P[0],P[0].name+" : "+P[1].name)},getLargeMarkPointShape:function(J,S){var L,O,g,P,R,M,K=this.series[J],I=this.component,r=S.data,N=I.dataRange,Q=I.legend,T=[r[0],S];if(Q&&(O=Q.getColor(K.name)),!N||(g=null!=r[0].value?r[0].value:"",O=isNaN(g)?O:N.getColor(g),P=this.deepQuery(T,"itemStyle.normal.color")||O,R=this.deepQuery(T,"itemStyle.emphasis.color")||P,null!=P||null!=R)){O=this.deepMerge(T,"itemStyle.normal").color||O;var X=this.deepQuery(T,"symbol")||"circle";X=X.replace("empty","").replace(/\d/g,""),M=this.deepMerge([r[0],S],"effect");var W=window.devicePixelRatio||1;return L=new C({style:{pointList:r,color:O,strokeColor:O,shadowColor:M.shadowColor||O,shadowBlur:(null!=M.shadowBlur?M.shadowBlur:8)*W,size:this.deepQuery(T,"symbolSize"),iconType:X,brushType:"fill",lineWidth:1},draggable:!1,hoverable:!1}),M.show&&(L.effect=M),L}},backupShapeList:function(){this.shapeList&&this.shapeList.length>0?(this.lastShapeList=this.shapeList,this.shapeList=[]):this.lastShapeList=[]},addShapeList:function(){var u,P,I=this.option.animationThreshold/(this.canvasSupported?2:4),L=this.lastShapeList,g=this.shapeList,M=L.length>0,N=M?this.query(this.option,"animationDurationUpdate"):this.query(this.option,"animationDuration"),O=this.query(this.option,"animationEasing"),J={},p={};if(this.option.animation&&!this.option.renderAsImage&&g.length<I&&!this.motionlessOnce){for(var h=0,K=L.length;K>h;h++){P=this._getAnimationKey(L[h]),P.match("undefined")?this.zr.delShape(L[h].id):(P+=L[h].type,J[P]?this.zr.delShape(L[h].id):J[P]=L[h])}for(var h=0,K=g.length;K>h;h++){P=this._getAnimationKey(g[h]),P.match("undefined")?this.zr.addShape(g[h]):(P+=g[h].type,p[P]=g[h])}for(P in J){p[P]||this.zr.delShape(J[P].id)}for(P in p){J[P]?(this.zr.delShape(J[P].id),this._animateMod(J[P],p[P],N,O,0,M)):(u=this.type!=v.CHART_TYPE_LINE&&this.type!=v.CHART_TYPE_RADAR||0===P.indexOf("icon")?0:N/2,this._animateMod(!1,p[P],N,O,u,M))}this.zr.refresh(),this.animationEffect()}else{this.motionlessOnce=!1,this.zr.delShape(L);for(var h=0,K=g.length;K>h;h++){this.zr.addShape(g[h])}}},_getAnimationKey:function(a){return this.type!=v.CHART_TYPE_MAP&&this.type!=v.CHART_TYPE_TREEMAP&&this.type!=v.CHART_TYPE_VENN&&this.type!=v.CHART_TYPE_TREE?j.get(a,"seriesIndex")+"_"+j.get(a,"dataIndex")+(a._mark?a._mark:"")+(this.type===v.CHART_TYPE_RADAR?j.get(a,"special"):""):j.get(a,"seriesIndex")+"_"+j.get(a,"dataIndex")+(a._mark?a._mark:"undefined")},_animateMod:function(d,m,g,h,c,l){switch(m.type){case"polyline":case"half-smooth-polygon":f.pointList(this.zr,d,m,g,h);break;case"rectangle":f.rectangle(this.zr,d,m,g,h);break;case"image":case"icon":f.icon(this.zr,d,m,g,h,c);break;case"candle":l?this.zr.addShape(m):f.candle(this.zr,d,m,g,h);break;case"ring":case"sector":case"circle":l?"sector"===m.type?f.sector(this.zr,d,m,g,h):this.zr.addShape(m):f.ring(this.zr,d,m,g+(j.get(m,"dataIndex")||0)%20*100,h);break;case"text":f.text(this.zr,d,m,g,h);break;case"polygon":l?f.pointList(this.zr,d,m,g,h):f.polygon(this.zr,d,m,g,h);break;case"ribbon":f.ribbon(this.zr,d,m,g,h);break;case"gauge-pointer":f.gaugePointer(this.zr,d,m,g,h);break;case"mark-line":f.markline(this.zr,d,m,g,h);break;case"bezier-curve":case"line":f.line(this.zr,d,m,g,h);break;default:this.zr.addShape(m)}},animationMark:function(d,l,g){for(var g=g||this.shapeList,h=0,c=g.length;c>h;h++){g[h]._mark&&this._animateMod(!1,g[h],d,l,0,!0)}this.animationEffect(g)},animationEffect:function(d){if(!d&&this.clearEffectShape(),d=d||this.shapeList,null!=d){var l=v.EFFECT_ZLEVEL;this.canvasSupported&&this.zr.modLayer(l,{motionBlur:!0,lastFrameAlpha:this.option.effectBlendAlpha||v.effectBlendAlpha});for(var g,h=0,c=d.length;c>h;h++){g=d[h],g._mark&&g.effect&&g.effect.show&&y[g._mark]&&(y[g._mark](this.zr,this.effectList,g,l),this.effectList[this.effectList.length-1]._mark=g._mark)}}},clearEffectShape:function(a){var d=this.effectList;if(this.zr&&d&&d.length>0){a&&this.zr.modLayer(v.EFFECT_ZLEVEL,{motionBlur:!1}),this.zr.delShape(d);for(var c=0;c<d.length;c++){d[c].effectAnimator&&d[c].effectAnimator.stop()}}this.effectList=[]},addMark:function(d,L,m){var u=this.series[d];if(this.selectedMap[u.name]){var c=this.query(this.option,"animationDurationUpdate"),I=this.query(this.option,"animationEasing"),J=u[m].data,K=this.shapeList.length;if(u[m].data=L.data,this["_build"+m.replace("m","M")](d),this.option.animation&&!this.option.renderAsImage){this.animationMark(c,I,this.shapeList.slice(K))}else{for(var p=K,g=this.shapeList.length;g>p;p++){this.zr.addShape(this.shapeList[p])}this.zr.refreshNextFrame()}u[m].data=J}},delMark:function(d,J,g){g=g.replace("mark","").replace("large","").toLowerCase();var m=this.series[d];if(this.selectedMap[m.name]){for(var c=!1,p=[this.shapeList,this.effectList],u=2;u--;){for(var I=0,h=p[u].length;h>I;I++){if(p[u][I]._mark==g&&j.get(p[u][I],"seriesIndex")==d&&j.get(p[u][I],"name")==J){this.zr.delShape(p[u][I].id),p[u].splice(I,1),c=!0;break}}}c&&this.zr.refreshNextFrame()}}},G.inherits(w,F),w}),define("zrender/shape/Circle",["require","./Base","../tool/util"],function(a){var c=a("./Base"),b=function(d){c.call(this,d)};return b.prototype={type:"circle",buildPath:function(d,f){d.moveTo(f.x+f.r,f.y),d.arc(f.x,f.y,f.r,0,2*Math.PI,!0)},getRect:function(d){if(d.__rect){return d.__rect}var f;return f="stroke"==d.brushType||"fill"==d.brushType?d.lineWidth||1:0,d.__rect={x:Math.round(d.x-d.r-f/2),y:Math.round(d.y-d.r-f/2),width:2*d.r+f,height:2*d.r+f},d.__rect}},a("../tool/util").inherits(b,c),b}),define("echarts/util/accMath",[],function(){function a(g,l){var h=g.toString(),j=l.toString(),f=0;try{f=j.split(".")[1].length}catch(k){}try{f-=h.split(".")[1].length}catch(k){}return(h.replace(".","")-0)/(j.replace(".","")-0)*Math.pow(10,f)}function d(g,l){var h=g.toString(),j=l.toString(),f=0;try{f+=h.split(".")[1].length}catch(k){}try{f+=j.split(".")[1].length}catch(k){}return(h.replace(".","")-0)*(j.replace(".","")-0)/Math.pow(10,f)}function b(g,l){var h=0,j=0;try{h=g.toString().split(".")[1].length}catch(f){}try{j=l.toString().split(".")[1].length}catch(f){}var k=Math.pow(10,Math.max(h,j));return(Math.round(g*k)+Math.round(l*k))/k}function c(f,g){return b(f,-g)}return{accDiv:a,accMul:d,accAdd:b,accSub:c}}),define("echarts/util/shape/Icon",["require","zrender/tool/util","zrender/shape/Star","zrender/shape/Heart","zrender/shape/Droplet","zrender/shape/Image","zrender/shape/Base"],function(C){function Z(c,h){var d=h.x,f=h.y,b=h.width/16,g=h.height/16;c.moveTo(d,f+h.height),c.lineTo(d+5*b,f+14*g),c.lineTo(d+h.width,f+3*g),c.lineTo(d+13*b,f),c.lineTo(d+2*b,f+11*g),c.lineTo(d,f+h.height),c.moveTo(d+6*b,f+10*g),c.lineTo(d+14*b,f+2*g),c.moveTo(d+10*b,f+13*g),c.lineTo(d+h.width,f+13*g),c.moveTo(d+13*b,f+10*g),c.lineTo(d+13*b,f+h.height)}function G(c,h){var d=h.x,f=h.y,b=h.width/16,g=h.height/16;c.moveTo(d,f+h.height),c.lineTo(d+5*b,f+14*g),c.lineTo(d+h.width,f+3*g),c.lineTo(d+13*b,f),c.lineTo(d+2*b,f+11*g),c.lineTo(d,f+h.height),c.moveTo(d+6*b,f+10*g),c.lineTo(d+14*b,f+2*g),c.moveTo(d+10*b,f+13*g),c.lineTo(d+h.width,f+13*g)}function O(c,h){var d=h.x,f=h.y,b=h.width/16,g=h.height/16;c.moveTo(d+4*b,f+15*g),c.lineTo(d+9*b,f+13*g),c.lineTo(d+14*b,f+8*g),c.lineTo(d+11*b,f+5*g),c.lineTo(d+6*b,f+10*g),c.lineTo(d+4*b,f+15*g),c.moveTo(d+5*b,f),c.lineTo(d+11*b,f),c.moveTo(d+5*b,f+g),c.lineTo(d+11*b,f+g),c.moveTo(d,f+2*g),c.lineTo(d+h.width,f+2*g),c.moveTo(d,f+5*g),c.lineTo(d+3*b,f+h.height),c.lineTo(d+13*b,f+h.height),c.lineTo(d+h.width,f+5*g)}function q(c,h){var d=h.x,f=h.y,b=h.width/16,g=h.height/16;c.moveTo(d,f+3*g),c.lineTo(d+6*b,f+3*g),c.moveTo(d+3*b,f),c.lineTo(d+3*b,f+6*g),c.moveTo(d+3*b,f+8*g),c.lineTo(d+3*b,f+h.height),c.lineTo(d+h.width,f+h.height),c.lineTo(d+h.width,f+3*g),c.lineTo(d+8*b,f+3*g)}function P(c,h){var d=h.x,f=h.y,b=h.width/16,g=h.height/16;c.moveTo(d+6*b,f),c.lineTo(d+2*b,f+3*g),c.lineTo(d+6*b,f+6*g),c.moveTo(d+2*b,f+3*g),c.lineTo(d+14*b,f+3*g),c.lineTo(d+14*b,f+11*g),c.moveTo(d+2*b,f+5*g),c.lineTo(d+2*b,f+13*g),c.lineTo(d+14*b,f+13*g),c.moveTo(d+10*b,f+10*g),c.lineTo(d+14*b,f+13*g),c.lineTo(d+10*b,f+h.height)}function R(c,k){var d=k.x,f=k.y,b=k.width/16,g=k.height/16,h=k.width/2;c.lineWidth=1.5,c.arc(d+h,f+h,h-b,0,2*Math.PI/3),c.moveTo(d+3*b,f+k.height),c.lineTo(d+0*b,f+12*g),c.lineTo(d+5*b,f+11*g),c.moveTo(d,f+8*g),c.arc(d+h,f+h,h-b,Math.PI,5*Math.PI/3),c.moveTo(d+13*b,f),c.lineTo(d+k.width,f+4*g),c.lineTo(d+11*b,f+5*g)}function T(c,h){var d=h.x,f=h.y,b=h.width/16,g=h.height/16;c.moveTo(d,f),c.lineTo(d,f+h.height),c.lineTo(d+h.width,f+h.height),c.moveTo(d+2*b,f+14*g),c.lineTo(d+7*b,f+6*g),c.lineTo(d+11*b,f+11*g),c.lineTo(d+15*b,f+2*g)}function K(c,h){var d=h.x,f=h.y,b=h.width/16,g=h.height/16;c.moveTo(d,f),c.lineTo(d,f+h.height),c.lineTo(d+h.width,f+h.height),c.moveTo(d+3*b,f+14*g),c.lineTo(d+3*b,f+6*g),c.lineTo(d+4*b,f+6*g),c.lineTo(d+4*b,f+14*g),c.moveTo(d+7*b,f+14*g),c.lineTo(d+7*b,f+2*g),c.lineTo(d+8*b,f+2*g),c.lineTo(d+8*b,f+14*g),c.moveTo(d+11*b,f+14*g),c.lineTo(d+11*b,f+9*g),c.lineTo(d+12*b,f+9*g),c.lineTo(d+12*b,f+14*g)}function F(c,k){var d=k.x,f=k.y,b=k.width-2,g=k.height-2,h=Math.min(b,g)/2;f+=2,c.moveTo(d+h+3,f+h-3),c.arc(d+h+3,f+h-3,h-1,0,-Math.PI/2,!0),c.lineTo(d+h+3,f+h-3),c.moveTo(d+h,f),c.lineTo(d+h,f+h),c.arc(d+h,f+h,h,-Math.PI/2,2*Math.PI,!0),c.lineTo(d+h,f+h),c.lineWidth=1.5}function B(c,h){var d=h.x,f=h.y,b=h.width/16,g=h.height/16;f-=g,c.moveTo(d+1*b,f+2*g),c.lineTo(d+15*b,f+2*g),c.lineTo(d+14*b,f+3*g),c.lineTo(d+2*b,f+3*g),c.moveTo(d+3*b,f+6*g),c.lineTo(d+13*b,f+6*g),c.lineTo(d+12*b,f+7*g),c.lineTo(d+4*b,f+7*g),c.moveTo(d+5*b,f+10*g),c.lineTo(d+11*b,f+10*g),c.lineTo(d+10*b,f+11*g),c.lineTo(d+6*b,f+11*g),c.moveTo(d+7*b,f+14*g),c.lineTo(d+9*b,f+14*g),c.lineTo(d+8*b,f+15*g),c.lineTo(d+7*b,f+15*g)}function A(c,p){var d=p.x,g=p.y,b=p.width,h=p.height,k=b/16,m=h/16,f=2*Math.min(k,m);c.moveTo(d+k+f,g+m+f),c.arc(d+k,g+m,f,Math.PI/4,3*Math.PI),c.lineTo(d+7*k-f,g+6*m-f),c.arc(d+7*k,g+6*m,f,Math.PI/4*5,4*Math.PI),c.arc(d+7*k,g+6*m,f/2,Math.PI/4*5,4*Math.PI),c.moveTo(d+7*k-f/2,g+6*m+f),c.lineTo(d+k+f,g+14*m-f),c.arc(d+k,g+14*m,f,-Math.PI/4,2*Math.PI),c.moveTo(d+7*k+f/2,g+6*m),c.lineTo(d+14*k-f,g+10*m-f/2),c.moveTo(d+16*k,g+10*m),c.arc(d+14*k,g+10*m,f,0,3*Math.PI),c.lineWidth=1.5}function N(c,k){var d=k.x,f=k.y,b=k.width,g=k.height,h=Math.min(b,g)/2;c.moveTo(d+b,f+g/2),c.arc(d+h,f+h,h,0,2*Math.PI),c.arc(d+h,f,h,Math.PI/4,Math.PI/5*4),c.arc(d,f+h,h,-Math.PI/3,Math.PI/3),c.arc(d+b,f+g,h,Math.PI,Math.PI/2*3),c.lineWidth=1.5}function Q(c,p){for(var d=p.x,g=p.y,b=p.width,h=p.height,k=Math.round(h/3),m=Math.round((k-2)/2),f=3;f--;){c.rect(d,g+k*f+m,b,2)}}function aa(c,p){for(var d=p.x,g=p.y,b=p.width,h=p.height,k=Math.round(b/3),m=Math.round((k-2)/2),f=3;f--;){c.rect(d+k*f+m,g,2,h)}}function ad(c,g){var d=g.x,f=g.y,b=g.width/16;c.moveTo(d+b,f),c.lineTo(d+b,f+g.height),c.lineTo(d+15*b,f+g.height),c.lineTo(d+15*b,f),c.lineTo(d+b,f),c.moveTo(d+3*b,f+3*b),c.lineTo(d+13*b,f+3*b),c.moveTo(d+3*b,f+6*b),c.lineTo(d+13*b,f+6*b),c.moveTo(d+3*b,f+9*b),c.lineTo(d+13*b,f+9*b),c.moveTo(d+3*b,f+12*b),c.lineTo(d+9*b,f+12*b)}function ab(c,h){var d=h.x,f=h.y,b=h.width/16,g=h.height/16;c.moveTo(d,f),c.lineTo(d,f+h.height),c.lineTo(d+h.width,f+h.height),c.lineTo(d+h.width,f),c.lineTo(d,f),c.moveTo(d+4*b,f),c.lineTo(d+4*b,f+8*g),c.lineTo(d+12*b,f+8*g),c.lineTo(d+12*b,f),c.moveTo(d+6*b,f+11*g),c.lineTo(d+6*b,f+13*g),c.lineTo(d+10*b,f+13*g),c.lineTo(d+10*b,f+11*g),c.lineTo(d+6*b,f+11*g)}function E(c,h){var d=h.x,f=h.y,b=h.width,g=h.height;c.moveTo(d,f+g/2),c.lineTo(d+b,f+g/2),c.moveTo(d+b/2,f),c.lineTo(d+b/2,f+g)}function D(c,g){var d=g.width/2,f=g.height/2,b=Math.min(d,f);c.moveTo(g.x+d+b,g.y+f),c.arc(g.x+d,g.y+f,b,0,2*Math.PI),c.closePath()}function ai(a,b){a.rect(b.x,b.y,b.width,b.height),a.closePath()}function z(c,k){var d=k.width/2,f=k.height/2,b=k.x+d,g=k.y+f,h=Math.min(d,f);c.moveTo(b,g-h),c.lineTo(b+h,g+h),c.lineTo(b-h,g+h),c.lineTo(b,g-h),c.closePath()}function j(c,k){var d=k.width/2,f=k.height/2,b=k.x+d,g=k.y+f,h=Math.min(d,f);c.moveTo(b,g-h),c.lineTo(b+h,g),c.lineTo(b,g+h),c.lineTo(b-h,g),c.lineTo(b,g-h),c.closePath()}function ag(c,g){var d=g.x,f=g.y,b=g.width/16;c.moveTo(d+8*b,f),c.lineTo(d+b,f+g.height),c.lineTo(d+8*b,f+g.height/4*3),c.lineTo(d+15*b,f+g.height),c.lineTo(d+8*b,f),c.closePath()}function J(f,c){var d=C("zrender/shape/Star"),b=c.width/2,e=c.height/2;d.prototype.buildPath(f,{x:c.x+b,y:c.y+e,r:Math.min(b,e),n:c.n||5})}function ac(c,a){var b=C("zrender/shape/Heart");b.prototype.buildPath(c,{x:a.x+a.width/2,y:a.y+0.2*a.height,a:a.width/2,b:0.8*a.height})}function M(c,a){var b=C("zrender/shape/Droplet");b.prototype.buildPath(c,{x:a.x+0.5*a.width,y:a.y+0.5*a.height,a:0.5*a.width,b:0.8*a.height})}function ae(c,k){var d=k.x,f=k.y-k.height/2*1.5,b=k.width/2,g=k.height/2,h=Math.min(b,g);c.arc(d+b,f+g,h,Math.PI/5*4,Math.PI/5),c.lineTo(d+b,f+g+1.5*h),c.closePath()}function af(f,c,d){var b=C("zrender/shape/Image");this._imageShape=this._imageShape||new b({style:{}});for(var e in c){this._imageShape.style[e]=c[e]}this._imageShape.brush(f,!1,d)}function ah(a){Y.call(this,a)}var H=C("zrender/tool/util"),Y=C("zrender/shape/Base");return ah.prototype={type:"icon",iconLibrary:{mark:Z,markUndo:G,markClear:O,dataZoom:q,dataZoomReset:P,restore:R,lineChart:T,barChart:K,pieChart:F,funnelChart:B,forceChart:A,chordChart:N,stackChart:Q,tiledChart:aa,dataView:ad,saveAsImage:ab,cross:E,circle:D,rectangle:ai,triangle:z,diamond:j,arrow:ag,star:J,heart:ac,droplet:M,pin:ae,image:af},brush:function(g,c,d){var b=c?this.highlightStyle:this.style;b=b||{};var e=b.iconType||this.style.iconType;if("image"===e){var f=C("zrender/shape/Image");f.prototype.brush.call(this,g,c,d)}else{var b=this.beforeBrush(g,c);switch(g.beginPath(),this.buildPath(g,b,d),b.brushType){case"both":g.fill();case"stroke":b.lineWidth>0&&g.stroke();break;default:g.fill()}this.drawText(g,b,this.style),this.afterBrush(g)}},buildPath:function(a,c,b){this.iconLibrary[c.iconType]?this.iconLibrary[c.iconType].call(this,a,c,b):(a.moveTo(c.x,c.y),a.lineTo(c.x+c.width,c.y),a.lineTo(c.x+c.width,c.y+c.height),a.lineTo(c.x,c.y+c.height),a.lineTo(c.x,c.y),a.closePath())},getRect:function(a){return a.__rect?a.__rect:(a.__rect={x:Math.round(a.x),y:Math.round(a.y-("pin"==a.iconType?a.height/2*1.5:0)),width:a.width,height:a.height*("pin"===a.iconType?1.25:1)},a.__rect)},isCover:function(c,g){var d=this.transformCoordToLocal(c,g);c=d[0],g=d[1];var f=this.style.__rect;f||(f=this.style.__rect=this.getRect(this.style));var b=f.height<8||f.width<8?4:0;return c>=f.x-b&&c<=f.x+f.width+b&&g>=f.y-b&&g<=f.y+f.height+b}},H.inherits(ah,Y),ah}),define("echarts/util/shape/MarkLine",["require","zrender/shape/Base","./Icon","zrender/shape/Line","zrender/shape/BezierCurve","zrender/tool/area","zrender/shape/util/dashedLineTo","zrender/tool/util","zrender/tool/curve"],function(j){function x(a){m.call(this,a),this.style.curveness>0&&this.updatePoints(this.style),this.highlightStyle.curveness>0&&this.updatePoints(this.highlightStyle)}var m=j("zrender/shape/Base"),q=j("./Icon"),b=j("zrender/shape/Line"),u=new b({}),v=j("zrender/shape/BezierCurve"),w=new v({}),p=j("zrender/tool/area"),k=j("zrender/shape/util/dashedLineTo"),g=j("zrender/tool/util"),f=j("zrender/tool/curve");return x.prototype={type:"mark-line",brush:function(a,d){var c=this.style;d&&(c=this.getHighlightStyle(c,this.highlightStyle||{})),a.save(),this.setContext(a,c),this.setTransform(a),a.save(),a.beginPath(),this.buildPath(a,c),a.stroke(),a.restore(),this.brushSymbol(a,c,0),this.brushSymbol(a,c,1),this.drawText(a,c,this.style),a.restore()},buildPath:function(d,o){var h=o.lineType||"solid";if(d.moveTo(o.xStart,o.yStart),o.curveness>0){var l=null;switch(h){case"dashed":l=[5,5];break;case"dotted":l=[1,1]}l&&d.setLineDash&&d.setLineDash(l),d.quadraticCurveTo(o.cpX1,o.cpY1,o.xEnd,o.yEnd)}else{if("solid"==h){d.lineTo(o.xEnd,o.yEnd)}else{var c=(o.lineWidth||1)*("dashed"==o.lineType?5:1);k(d,o.xStart,o.yStart,o.xEnd,o.yEnd,c)}}},updatePoints:function(d){var D=d.curveness||0,h=1,z=d.xStart,c=d.yStart,A=d.xEnd,B=d.yEnd,C=(z+A)/2-h*(c-B)*D,y=(c+B)/2-h*(A-z)*D;d.cpX1=C,d.cpY1=y},brushSymbol:function(A,L,E){if("none"!=L.symbol[E]){A.save(),A.beginPath(),A.lineWidth=L.symbolBorder,A.strokeStyle=L.symbolBorderColor;var c=L.symbol[E].replace("empty","").toLowerCase();L.symbol[E].match("empty")&&(A.fillStyle="#fff");var H=L.xStart,J=L.yStart,K=L.xEnd,F=L.yEnd,D=0===E?H:K,z=0===E?J:F,G=L.curveness||0,I=null!=L.symbolRotate[E]?L.symbolRotate[E]-0:0;if(I=I/180*Math.PI,"arrow"==c&&0===I){if(0===G){var M=0===E?-1:1;I=Math.PI/2+Math.atan2(M*(F-J),M*(K-H))}else{var O=L.cpX1,N=L.cpY1,C=f.quadraticDerivativeAt,B=C(H,O,K,E),P=C(J,N,F,E);I=Math.PI/2+Math.atan2(P,B)}}A.translate(D,z),0!==I&&A.rotate(I);var n=L.symbolSize[E];q.prototype.buildPath(A,{x:-n,y:-n,width:2*n,height:2*n,iconType:c}),A.closePath(),A.fill(),A.stroke(),A.restore()}},getRect:function(a){return a.curveness>0?w.getRect(a):u.getRect(a),a.__rect},isCover:function(a,d){var c=this.transformCoordToLocal(a,d);return a=c[0],d=c[1],this.isCoverRect(a,d)?this.style.curveness>0?p.isInside(w,this.style,a,d):p.isInside(u,this.style,a,d):!1}},g.inherits(x,m),x}),define("echarts/util/shape/Symbol",["require","zrender/shape/Base","zrender/shape/Polygon","zrender/tool/util","./normalIsCover"],function(c){function h(a){d.call(this,a)}var d=c("zrender/shape/Base"),f=c("zrender/shape/Polygon"),b=new f({}),g=c("zrender/tool/util");return h.prototype={type:"symbol",buildPath:function(v,G){var y=G.pointList,B=y.length;if(0!==B){for(var j,C,E,F,z,x=10000,q=Math.ceil(B/x),k=y[0] instanceof Array,A=G.size?G.size:2,D=A,H=A/2,J=2*Math.PI,I=0;q>I;I++){v.beginPath(),j=I*x,C=j+x,C=C>B?B:C;for(var w=j;C>w;w++){if(G.random&&(E=G["randomMap"+w%20]/100,D=A*E*E,H=D/2),k?(F=y[w][0],z=y[w][1]):(F=y[w].x,z=y[w].y),3>D){v.rect(F-H,z-H,D,D)}else{switch(G.iconType){case"circle":v.moveTo(F,z),v.arc(F,z,H,0,J,!0);break;case"diamond":v.moveTo(F,z-H),v.lineTo(F+H/3,z-H/3),v.lineTo(F+H,z),v.lineTo(F+H/3,z+H/3),v.lineTo(F,z+H),v.lineTo(F-H/3,z+H/3),v.lineTo(F-H,z),v.lineTo(F-H/3,z-H/3),v.lineTo(F,z-H);break;default:v.rect(F-H,z-H,D,D)}}}if(v.closePath(),q-1>I){switch(G.brushType){case"both":v.fill(),G.lineWidth>0&&v.stroke();break;case"stroke":G.lineWidth>0&&v.stroke();break;default:v.fill()}}}}},getRect:function(a){return a.__rect||b.getRect(a)},isCover:c("./normalIsCover")},g.inherits(h,d),h}),define("zrender/shape/Polyline",["require","./Base","./util/smoothSpline","./util/smoothBezier","./util/dashedLineTo","./Polygon","../tool/util"],function(c){var h=c("./Base"),d=c("./util/smoothSpline"),f=c("./util/smoothBezier"),b=c("./util/dashedLineTo"),g=function(a){this.brushTypeOnly="stroke",this.textPosition="end",h.call(this,a)};return g.prototype={type:"polyline",buildPath:function(j,w){var p=w.pointList;if(!(p.length<2)){var q=Math.min(w.pointList.length,Math.round(w.pointListLength||w.pointList.length));if(w.smooth&&"spline"!==w.smooth){w.controlPointList||this.updateControlPoints(w);var u=w.controlPointList;j.moveTo(p[0][0],p[0][1]);for(var v,m,k,i=0;q-1>i;i++){v=u[2*i],m=u[2*i+1],k=p[i+1],j.bezierCurveTo(v[0],v[1],m[0],m[1],k[0],k[1])}}else{if("spline"===w.smooth&&(p=d(p),q=p.length),w.lineType&&"solid"!=w.lineType){if("dashed"==w.lineType||"dotted"==w.lineType){var a=(w.lineWidth||1)*("dashed"==w.lineType?5:1);j.moveTo(p[0][0],p[0][1]);for(var i=1;q>i;i++){b(j,p[i-1][0],p[i-1][1],p[i][0],p[i][1],a)}}}else{j.moveTo(p[0][0],p[0][1]);for(var i=1;q>i;i++){j.lineTo(p[i][0],p[i][1])}}}}},updateControlPoints:function(a){a.controlPointList=f(a.pointList,a.smooth,!1,a.smoothConstraint)},getRect:function(a){return c("./Polygon").prototype.getRect(a)}},c("../tool/util").inherits(g,h),g}),define("zrender/shape/ShapeBundle",["require","./Base","../tool/util"],function(a){var c=a("./Base"),b=function(d){c.call(this,d)};return b.prototype={constructor:b,type:"shape-bundle",brush:function(f,k){var g=this.beforeBrush(f,k);f.beginPath();for(var h=0;h<g.shapeList.length;h++){var d=g.shapeList[h],j=d.style;k&&(j=d.getHighlightStyle(j,d.highlightStyle||{},d.brushTypeOnly)),d.buildPath(f,j)}switch(g.brushType){case"both":f.fill();case"stroke":g.lineWidth>0&&f.stroke();break;default:f.fill()}this.drawText(f,g,this.style),this.afterBrush(f)},getRect:function(f){if(f.__rect){return f.__rect}for(var m=1/0,g=-(1/0),h=1/0,d=-(1/0),j=0;j<f.shapeList.length;j++){var k=f.shapeList[j],l=k.getRect(k.style),m=Math.min(l.x,m),h=Math.min(l.y,h),g=Math.max(l.x+l.width,g),d=Math.max(l.y+l.height,d)}return f.__rect={x:m,y:h,width:g-m,height:d-h},f.__rect},isCover:function(f,j){var g=this.transformCoordToLocal(f,j);if(f=g[0],j=g[1],this.isCoverRect(f,j)){for(var h=0;h<this.style.shapeList.length;h++){var d=this.style.shapeList[h];if(d.isCover(f,j)){return !0}}}return !1}},a("../tool/util").inherits(b,c),b}),define("echarts/util/ecAnimation",["require","zrender/tool/util","zrender/tool/curve","zrender/shape/Polygon"],function(j){function C(F,N,H,J,m){var K,L=H.style.pointList,M=L.length;if(!N){if(K=[],"vertical"!=H._orient){for(var I=L[0][1],G=0;M>G;G++){K[G]=[L[G][0],I]}}else{for(var u=L[0][0],G=0;M>G;G++){K[G]=[u,L[G][1]]}}"half-smooth-polygon"==H.type&&(K[M-1]=D.clone(L[M-1]),K[M-2]=D.clone(L[M-2])),N={style:{pointList:K}}}K=N.style.pointList;var p=K.length;H.style.pointList=p==M?K:M>p?K.concat(L.slice(p)):K.slice(0,M),F.addShape(H),H.__animating=!0,F.animate(H.id,"style").when(J,{pointList:L}).during(function(){H.updateControlPoints&&H.updateControlPoints(H.style)}).done(function(){H.__animating=!1}).start(m)}function q(d,m){for(var h=arguments.length,l=2;h>l;l++){var c=arguments[l];d.style[c]=m.style[c]}}function x(u,L,H,i,I){var J=H.style;L||(L={position:H.position,style:{x:J.x,y:"vertical"==H._orient?J.y+J.height:J.y,width:"vertical"==H._orient?J.width:0,height:"vertical"!=H._orient?J.height:0}});var K=J.x,G=J.y,F=J.width,p=J.height,m=[H.position[0],H.position[1]];q(H,L,"x","y","width","height"),H.position=L.position,u.addShape(H),(m[0]!=L.position[0]||m[1]!=L.position[1])&&u.animate(H.id,"").when(i,{position:m}).start(I),H.__animating=!0,u.animate(H.id,"style").when(i,{x:K,y:G,width:F,height:p}).done(function(){H.__animating=!1}).start(I)}function b(d,s,h,l,c){if(!s){var m=h.style.y;s={style:{y:[m[0],m[0],m[0],m[0]]}}}var p=h.style.y;h.style.y=s.style.y,d.addShape(h),h.__animating=!0,d.animate(h.id,"style").when(l,{y:p}).done(function(){h.__animating=!1}).start(c)}function y(d,H,h,p,c){var u=h.style.x,F=h.style.y,G=h.style.r0,m=h.style.r;h.__animating=!0,"r"!=h._animationAdd?(h.style.r0=0,h.style.r=0,h.rotation=[2*Math.PI,u,F],d.addShape(h),d.animate(h.id,"style").when(p,{r0:G,r:m}).done(function(){h.__animating=!1}).start(c),d.animate(h.id,"").when(p,{rotation:[0,u,F]}).start(c)):(h.style.r0=h.style.r,d.addShape(h),d.animate(h.id,"style").when(p,{r0:G}).done(function(){h.__animating=!1}).start(c))}function A(d,p,h,c,i){p||(p="r"!=h._animationAdd?{style:{startAngle:h.style.startAngle,endAngle:h.style.startAngle}}:{style:{r0:h.style.r}});var l=h.style.startAngle,m=h.style.endAngle;q(h,p,"startAngle","endAngle"),d.addShape(h),h.__animating=!0,d.animate(h.id,"style").when(c,{startAngle:l,endAngle:m}).done(function(){h.__animating=!1}).start(i)}function B(d,p,h,c,i){p||(p={style:{x:"left"==h.style.textAlign?h.style.x+100:h.style.x-100,y:h.style.y}});var l=h.style.x,m=h.style.y;q(h,p,"x","y"),d.addShape(h),h.__animating=!0,d.animate(h.id,"style").when(c,{x:l,y:m}).done(function(){h.__animating=!1}).start(i)}function v(F,d,h,c,m){var p=j("zrender/shape/Polygon").prototype.getRect(h.style),u=p.x+p.width/2,e=p.y+p.height/2;h.scale=[0.1,0.1,u,e],F.addShape(h),h.__animating=!0,F.animate(h.id,"").when(c,{scale:[1,1,u,e]}).done(function(){h.__animating=!1}).start(m)}function k(d,H,p,c,u){H||(H={style:{source0:0,source1:p.style.source1>0?360:-360,target0:0,target1:p.style.target1>0?360:-360}});var F=p.style.source0,G=p.style.source1,m=p.style.target0,i=p.style.target1;H.style&&q(p,H,"source0","source1","target0","target1"),d.addShape(p),p.__animating=!0,d.animate(p.id,"style").when(c,{source0:F,source1:G,target0:m,target1:i}).done(function(){p.__animating=!1}).start(u)}function g(d,p,h,l,c){p||(p={style:{angle:h.style.startAngle}});var m=h.style.angle;h.style.angle=p.style.angle,d.addShape(h),h.__animating=!0,d.animate(h.id,"style").when(l,{angle:m}).done(function(){h.__animating=!1}).start(c)}function f(d,F,h,c,n,p){if(h.style._x=h.style.x,h.style._y=h.style.y,h.style._width=h.style.width,h.style._height=h.style.height,F){x(d,F,h,c,n)}else{var u=h._x||0,m=h._y||0;h.scale=[0.01,0.01,u,m],d.addShape(h),h.__animating=!0,d.animate(h.id,"").delay(p).when(c,{scale:[1,1,u,m]}).done(function(){h.__animating=!1}).start(n||"QuinticOut")}}function w(d,H,p,c,u){H||(H={style:{xStart:p.style.xStart,yStart:p.style.yStart,xEnd:p.style.xStart,yEnd:p.style.yStart}});var F=p.style.xStart,G=p.style.xEnd,m=p.style.yStart,i=p.style.yEnd;q(p,H,"xStart","xEnd","yStart","yEnd"),d.addShape(p),p.__animating=!0,d.animate(p.id,"style").when(c,{xStart:F,xEnd:G,yStart:m,yEnd:i}).done(function(){p.__animating=!1}).start(u)}function z(I,T,L,O,F){F=F||"QuinticOut",L.__animating=!0,I.addShape(L);var P=L.style,R=function(){L.__animating=!1},S=P.xStart,M=P.yStart,K=P.xEnd,H=P.yEnd;if(P.curveness>0){L.updatePoints(P);var G={p:0},N=P.cpX1,Q=P.cpY1,V=[],W=[],J=E.quadraticSubdivide;I.animation.animate(G).when(O,{p:1}).during(function(){J(S,N,K,G.p,V),J(M,Q,H,G.p,W),P.cpX1=V[1],P.cpY1=W[1],P.xEnd=V[2],P.yEnd=W[2],I.modShape(L)}).done(R).start(F)}else{I.animate(L.id,"style").when(0,{xEnd:S,yEnd:M}).when(O,{xEnd:K,yEnd:H}).done(R).start(F)}}var D=j("zrender/tool/util"),E=j("zrender/tool/curve");return{pointList:C,rectangle:x,candle:b,ring:y,sector:A,text:B,polygon:v,ribbon:k,gaugePointer:g,icon:f,line:w,markline:z}}),define("echarts/util/ecEffect",["require","../util/ecData","zrender/shape/Circle","zrender/shape/Image","zrender/tool/curve","../util/shape/Icon","../util/shape/Symbol","zrender/shape/ShapeBundle","zrender/shape/Polyline","zrender/tool/vector","zrender/tool/env"],function(j){function C(u,M,G,J){var h,L=G.effect,H=L.color||G.style.strokeColor||G.style.color,s=L.shadowColor||H,o=L.scaleSize,I=L.bounceDistance,K="undefined"!=typeof L.shadowBlur?L.shadowBlur:o;"image"!==G.type?(h=new k({zlevel:J,style:{brushType:"stroke",iconType:"droplet"!=G.style.iconType?G.style.iconType:"circle",x:K+1,y:K+1,n:G.style.n,width:G.style._width*o,height:G.style._height*o,lineWidth:1,strokeColor:H,shadowColor:s,shadowBlur:K},draggable:!1,hoverable:!1}),"pin"==G.style.iconType&&(h.style.y+=h.style.height/2*1.5),D&&(h.style.image=u.shapeToImage(h,h.style.width+2*K+2,h.style.height+2*K+2).style.image,h=new B({zlevel:h.zlevel,style:h.style,draggable:!1,hoverable:!1}))):h=new B({zlevel:J,style:G.style,draggable:!1,hoverable:!1}),y.clone(G,h),h.position=G.position,M.push(h),u.addShape(h);var O="image"!==G.type?window.devicePixelRatio||1:1,N=(h.style.width/O-G.style._width)/2;h.style.x=G.style._x-N,h.style.y=G.style._y-N,"pin"==G.style.iconType&&(h.style.y-=G.style.height/2*1.5);var F=100*(L.period+10*Math.random());u.modShape(G.id,{invisible:!0});var E=h.style.x+h.style.width/2/O,P=h.style.y+h.style.height/2/O;"scale"===L.type?(u.modShape(h.id,{scale:[0.1,0.1,E,P]}),u.animate(h.id,"",L.loop).when(F,{scale:[1,1,E,P]}).done(function(){G.effect.show=!1,u.delShape(h.id)}).start()):u.animate(h.id,"style",L.loop).when(F,{y:h.style.y-I}).when(2*F,{y:h.style.y}).done(function(){G.effect.show=!1,u.delShape(h.id)}).start()}function q(F,P,H,K){var d=H.effect,L=d.color||H.style.strokeColor||H.style.color,N=d.scaleSize,O=d.shadowColor||L,I="undefined"!=typeof d.shadowBlur?d.shadowBlur:2*N,G=window.devicePixelRatio||1,E=new g({zlevel:K,position:H.position,scale:H.scale,style:{pointList:H.style.pointList,iconType:H.style.iconType,color:L,strokeColor:L,shadowColor:O,shadowBlur:I*G,random:!0,brushType:"fill",lineWidth:1,size:H.style.size},draggable:!1,hoverable:!1});P.push(E),F.addShape(E),F.modShape(H.id,{invisible:!0});for(var J=Math.round(100*d.period),M={},Q={},R=0;20>R;R++){E.style["randomMap"+R]=0,M={},M["randomMap"+R]=100,Q={},Q["randomMap"+R]=0,E.style["randomMap"+R]=100*Math.random(),F.animate(E.id,"style",!0).when(J,M).when(2*J,Q).when(3*J,M).when(4*J,M).delay(Math.random()*J*R).start()}}function x(G,ac,O,Z,m){var aa=O.effect,N=O.style,F=aa.color||N.strokeColor||N.color,r=aa.shadowColor||N.strokeColor||F,ag=N.lineWidth*aa.scaleSize,ae="undefined"!=typeof aa.shadowBlur?aa.shadowBlur:ag,M=new A({zlevel:Z,style:{x:ae,y:ae,r:ag,color:F,shadowColor:r,shadowBlur:ae},hoverable:!1}),J=0;if(D&&!m){var Z=M.zlevel;M=G.shapeToImage(M,2*(ag+ae),2*(ag+ae)),M.zlevel=Z,M.hoverable=!1,J=ae}m||(y.clone(O,M),M.position=O.position,ac.push(M),G.addShape(M));var al=function(){m||(O.effect.show=!1,G.delShape(M.id)),M.effectAnimator=null};if(O instanceof w){for(var p=[0],l=0,aj=N.pointList,Q=N.controlPointList,af=1;af<aj.length;af++){if(Q){var Y=Q[2*(af-1)],ah=Q[2*(af-1)+1];l+=z.dist(aj[af-1],Y)+z.dist(Y,ah)+z.dist(ah,aj[af])}else{l+=z.dist(aj[af-1],aj[af])}p.push(l)}for(var ai={p:0},ak=G.animation.animate(ai,{loop:aa.loop}),af=0;af<p.length;af++){ak.when(p[af]*aa.period,{p:af})}ak.during(function(){var S,e,E=Math.floor(ai.p);if(E==aj.length-1){S=aj[E][0],e=aj[E][1]}else{var I=ai.p-E,K=aj[E],L=aj[E+1];if(Q){var c=Q[2*E],a=Q[2*E+1];S=v.cubicAt(K[0],c[0],a[0],L[0],I),e=v.cubicAt(K[1],c[1],a[1],L[1],I)}else{S=(L[0]-K[0])*I+K[0],e=(L[1]-K[1])*I+K[1]}}M.style.x=S,M.style.y=e,m||G.modShape(M)}).done(al).start(),ak.duration=l*aa.period,M.effectAnimator=ak}else{var P=N.xStart-J,ab=N.yStart-J,R=N.xEnd-J,u=N.yEnd-J;M.style.x=P,M.style.y=ab;var ad=(R-P)*(R-P)+(u-ab)*(u-ab),H=Math.round(Math.sqrt(Math.round(ad*aa.period*aa.period)));if(O.style.curveness>0){var am=N.cpX1-J,o=N.cpY1-J;M.effectAnimator=G.animation.animate(M,{loop:aa.loop}).when(H,{p:1}).during(function(c,a){M.style.x=v.quadraticAt(P,am,R,a),M.style.y=v.quadraticAt(ab,o,u,a),m||G.modShape(M)}).done(al).start()}else{M.effectAnimator=G.animation.animate(M.style,{loop:aa.loop}).when(H,{x:R,y:u}).during(function(){m||G.modShape(M)}).done(al).start()}M.effectAnimator.duration=H}return M}function b(E,N,G,c){var J=new f({style:{shapeList:[]},zlevel:c,hoverable:!1}),L=G.style.shapeList,M=G.effect;J.position=G.position;for(var H=0,F=[],n=0;n<L.length;n++){L[n].effect=M;var I=x(E,null,L[n],c,!0),K=I.effectAnimator;J.style.shapeList.push(I),K.duration>H&&(H=K.duration),0===n&&(J.style.color=I.style.color,J.style.shadowBlur=I.style.shadowBlur,J.style.shadowColor=I.style.shadowColor),F.push(K)}N.push(J),E.addShape(J);var O=function(){for(var a=0;a<F.length;a++){F[a].stop()}};if(H){J.__dummy=0;var Q=E.animate(J.id,"",M.loop).when(H,{__dummy:1}).during(function(){E.modShape(J)}).done(function(){G.effect.show=!1,E.delShape(J.id)}).start(),P=Q.stop;Q.stop=function(){O(),P.call(this)}}}var y=j("../util/ecData"),A=j("zrender/shape/Circle"),B=j("zrender/shape/Image"),v=j("zrender/tool/curve"),k=j("../util/shape/Icon"),g=j("../util/shape/Symbol"),f=j("zrender/shape/ShapeBundle"),w=j("zrender/shape/Polyline"),z=j("zrender/tool/vector"),D=j("zrender/tool/env").canvasSupported;return{point:C,largePoint:q,line:x,largeLine:b}}),define("echarts/component/base",["require","../config","../util/ecData","../util/ecQuery","../util/number","zrender/tool/util","zrender/tool/env"],function(c){function j(k,p,i,l,m){this.ecTheme=k,this.messageCenter=p,this.zr=i,this.option=l,this.series=l.series,this.myChart=m,this.component=m.component,this.shapeList=[],this.effectList=[];var n=this;n._onlegendhoverlink=function(r){if(n.legendHoverLink){for(var u,q=r.target,s=n.shapeList.length-1;s>=0;s--){u=n.type==d.CHART_TYPE_PIE||n.type==d.CHART_TYPE_FUNNEL?f.get(n.shapeList[s],"name"):(f.get(n.shapeList[s],"series")||{}).name,u!=q||n.shapeList[s].invisible||n.shapeList[s].__animating||n.zr.addHoverShape(n.shapeList[s])}}},p&&p.bind(d.EVENT.LEGEND_HOVERLINK,this._onlegendhoverlink)}var d=c("../config"),f=c("../util/ecData"),b=c("../util/ecQuery"),g=c("../util/number"),h=c("zrender/tool/util");return j.prototype={canvasSupported:c("zrender/tool/env").canvasSupported,_getZ:function(a){if(null!=this[a]){return this[a]}var i=this.ecTheme[this.type];return i&&null!=i[a]?i[a]:(i=d[this.type],i&&null!=i[a]?i[a]:0)},getZlevelBase:function(){return this._getZ("zlevel")},getZBase:function(){return this._getZ("z")},reformOption:function(a){return a=h.merge(h.merge(a||{},h.clone(this.ecTheme[this.type]||{})),h.clone(d[this.type]||{})),this.z=a.z,this.zlevel=a.zlevel,a},reformCssArray:function(a){if(!(a instanceof Array)){return[a,a,a,a]}switch(a.length+""){case"4":return a;case"3":return[a[0],a[1],a[2],a[1]];case"2":return[a[0],a[1],a[0],a[1]];case"1":return[a[0],a[0],a[0],a[0]];case"0":return[0,0,0,0]}},getShapeById:function(a){for(var l=0,k=this.shapeList.length;k>l;l++){if(this.shapeList[l].id===a){return this.shapeList[l]}}return null},getFont:function(a){var i=this.getTextStyle(h.clone(a));return i.fontStyle+" "+i.fontWeight+" "+i.fontSize+"px "+i.fontFamily},getTextStyle:function(a){return h.merge(h.merge(a||{},this.ecTheme.textStyle),d.textStyle)},getItemStyleColor:function(a,m,k,l){return"function"==typeof a?a.call(this.myChart,{seriesIndex:m,series:this.series[m],dataIndex:k,data:l}):a},getDataFromOption:function(a,i){return null!=a?null!=a.value?a.value:a:i},subPixelOptimize:function(a,i){return a=i%2===1?Math.floor(a)+0.5:Math.round(a)},resize:function(){this.refresh&&this.refresh(),this.clearEffectShape&&this.clearEffectShape(!0);var a=this;setTimeout(function(){a.animationEffect&&a.animationEffect()},200)},clear:function(){this.clearEffectShape&&this.clearEffectShape(),this.zr&&this.zr.delShape(this.shapeList),this.shapeList=[]},dispose:function(){this.onbeforDispose&&this.onbeforDispose(),this.clear(),this.shapeList=null,this.effectList=null,this.messageCenter&&this.messageCenter.unbind(d.EVENT.LEGEND_HOVERLINK,this._onlegendhoverlink),this.onafterDispose&&this.onafterDispose()},query:b.query,deepQuery:b.deepQuery,deepMerge:b.deepMerge,parsePercent:g.parsePercent,parseCenter:g.parseCenter,parseRadius:g.parseRadius,numAddCommas:g.addCommas,getPrecision:g.getPrecision},j}),define("echarts/layout/EdgeBundling",["require","../data/KDTree","zrender/tool/vector"],function(j){function z(d,r){d=d.array,r=r.array;var h=r[0]-d[0],l=r[1]-d[1],c=r[2]-d[2],m=r[3]-d[3];return h*h+l*l+c*c+m*m}function p(a){this.points=[a.mp0,a.mp1],this.group=a}function v(a){var c=a.points;c[0][1]<c[1][1]||a instanceof p?(this.array=[c[0][0],c[0][1],c[1][0],c[1][1]],this._startPoint=c[0],this._endPoint=c[1]):(this.array=[c[1][0],c[1][1],c[0][0],c[0][1]],this._startPoint=c[1],this._endPoint=c[0]),this.ink=g(c[0],c[1]),this.edge=a,this.group=null}function b(){this.edgeList=[],this.mp0=q(),this.mp1=q(),this.ink=0}function w(){this.maxNearestEdge=6,this.maxTurningAngle=Math.PI/4,this.maxIteration=20}var x=j("../data/KDTree"),y=j("zrender/tool/vector"),q=y.create,k=y.distSquare,g=y.dist,f=y.copy,u=y.clone;return v.prototype.getStartPoint=function(){return this._startPoint},v.prototype.getEndPoint=function(){return this._endPoint},b.prototype.addEdge=function(a){a.group=this,this.edgeList.push(a)},b.prototype.removeEdge=function(a){a.group=null,this.edgeList.splice(this.edgeList.indexOf(a),1)},w.prototype={constructor:w,run:function(A){function G(a,c){return k(a,c)<1e-10}function C(d,l){for(var r=[],c=0,s=0;s<d.length;s++){c>0&&G(d[s],r[c-1])||(r[c++]=u(d[s]))}return l[0]&&!G(r[0],l[0])&&(r=r.reverse()),r}for(var h=this._iterate(A),D=0;D++<this.maxIteration;){for(var E=[],F=0;F<h.groups.length;F++){E.push(new p(h.groups[F]))}var B=this._iterate(E);if(B.savedInk<=0){break}h=B}var m=[],i=function(d,L){for(var c,I=0;I<d.length;I++){var J=d[I];if(J.edgeList[0]&&J.edgeList[0].edge instanceof p){for(var K=[],H=0;H<J.edgeList.length;H++){K.push(J.edgeList[H].edge.group)}c=L?L.slice():[],c.unshift(J.mp0),c.push(J.mp1),i(K,c)}else{for(var H=0;H<J.edgeList.length;H++){var n=J.edgeList[H];c=L?L.slice():[],c.unshift(J.mp0),c.push(J.mp1),c.unshift(n.getStartPoint()),c.push(n.getEndPoint()),m.push({points:C(c,n.edge.points),rawEdge:n.edge})}}}};return i(h.groups),m},_iterate:function(n){for(var B=[],F=[],H=0,A=0;A<n.length;A++){var l=new v(n[A]);B.push(l)}for(var E=new x(B,4),G=[],I=q(),M=q(),J=0,t=q(),r=q(),P=0,A=0;A<B.length;A++){var l=B[A];if(!l.group){E.nearestN(l,this.maxNearestEdge,z,G);for(var c=0,a=null,O=null,C=0;C<G.length;C++){var K=G[C],D=0;K.group?K.group!==O&&(O=K.group,J=this._calculateGroupEdgeInk(K.group,l,I,M),D=K.group.ink+l.ink-J):(J=this._calculateEdgeEdgeInk(l,K,I,M),D=K.ink+l.ink-J),D>c&&(c=D,a=K,f(r,M),f(t,I),P=J)}if(a){H+=c;var N;a.group||(N=new b,F.push(N),N.addEdge(a)),N=a.group,f(N.mp0,t),f(N.mp1,r),N.ink=P,a.group.addEdge(l)}else{var N=new b;F.push(N),f(N.mp0,l.getStartPoint()),f(N.mp1,l.getEndPoint()),N.ink=l.ink,N.addEdge(l)}}}return{groups:F,edges:B,savedInk:H}},_calculateEdgeEdgeInk:function(){var a=[],c=[];return function(e,h,d,l){a[0]=e.getStartPoint(),a[1]=h.getStartPoint(),c[0]=e.getEndPoint(),c[1]=h.getEndPoint(),this._calculateMeetPoints(a,c,d,l);var m=g(a[0],d)+g(d,l)+g(l,c[0])+g(a[1],d)+g(l,c[1]);return m}}(),_calculateGroupEdgeInk:function(d,E,h,A){for(var c=[],B=[],C=0;C<d.edgeList.length;C++){var D=d.edgeList[C];c.push(D.getStartPoint()),B.push(D.getEndPoint())}c.push(E.getStartPoint()),B.push(E.getEndPoint()),this._calculateMeetPoints(c,B,h,A);for(var m=g(h,A),C=0;C<c.length;C++){m+=g(c[C],h)+g(B[C],A)}return m},_calculateMeetPoints:function(){var a=q(),c=q();return function(e,m,d,s){y.set(a,0,0),y.set(c,0,0);for(var t=e.length,h=0;t>h;h++){y.add(a,a,e[h])}y.scale(a,a,1/t),t=m.length;for(var h=0;t>h;h++){y.add(c,c,m[h])}y.scale(c,c,1/t),this._limitTurningAngle(e,a,c,d),this._limitTurningAngle(m,c,a,s)}}(),_limitTurningAngle:function(){var a=q(),h=q(),c=q(),d=q();return function(e,C,E,A){var n=Math.cos(this.maxTurningAngle),B=Math.tan(this.maxTurningAngle);y.sub(a,C,E),y.normalize(a,a),y.copy(A,C);for(var D=0,F=0;F<e.length;F++){var H=e[F];y.sub(h,H,C);var G=y.len(h);y.scale(h,h,1/G);var t=y.dot(h,a);if(n>t){y.scaleAndAdd(c,C,a,G*t);var s=g(c,H),I=s/B;y.scaleAndAdd(d,c,a,-I);var i=k(d,C);i>D&&(D=i,y.copy(A,d))}}}}()},w}),define("zrender/shape/Star",["require","../tool/math","./Base","../tool/util"],function(c){var j=c("../tool/math"),d=j.sin,f=j.cos,b=Math.PI,g=c("./Base"),h=function(a){g.call(this,a)};return h.prototype={type:"star",buildPath:function(k,B){var x=B.n;if(x&&!(2>x)){var z=B.x,A=B.y,v=B.r,q=B.r0;null==q&&(q=x>4?v*f(2*b/x)/f(b/x):v/3);var i=b/x,a=-b/2,w=z+v*f(a),y=A+v*d(a);a+=i;var C=B.pointList=[];C.push([w,y]);for(var E,D=0,n=2*x-1;n>D;D++){E=D%2===0?q:v,C.push([z+E*f(a),A+E*d(a)]),a+=i}C.push([w,y]),k.moveTo(C[0][0],C[0][1]);for(var D=0;D<C.length;D++){k.lineTo(C[D][0],C[D][1])}k.closePath()}},getRect:function(a){if(a.__rect){return a.__rect}var i;return i="stroke"==a.brushType||"fill"==a.brushType?a.lineWidth||1:0,a.__rect={x:Math.round(a.x-a.r-i/2),y:Math.round(a.y-a.r-i/2),width:2*a.r+i,height:2*a.r+i},a.__rect}},c("../tool/util").inherits(h,g),h}),define("zrender/shape/Heart",["require","./Base","./util/PathProxy","../tool/area","../tool/util"],function(c){var g=c("./Base"),d=c("./util/PathProxy"),f=c("../tool/area"),b=function(a){g.call(this,a),this._pathProxy=new d};return b.prototype={type:"heart",buildPath:function(a,i){var h=this._pathProxy||new d;h.begin(a),h.moveTo(i.x,i.y),h.bezierCurveTo(i.x+i.a/2,i.y-2*i.b/3,i.x+2*i.a,i.y+i.b/3,i.x,i.y+i.b),h.bezierCurveTo(i.x-2*i.a,i.y+i.b/3,i.x-i.a/2,i.y-2*i.b/3,i.x,i.y),h.closePath()},getRect:function(a){return a.__rect?a.__rect:(this._pathProxy.isEmpty()||this.buildPath(null,a),this._pathProxy.fastBoundingRect())},isCover:function(a,j){var h=this.transformCoordToLocal(a,j);return a=h[0],j=h[1],this.isCoverRect(a,j)?f.isInsidePath(this._pathProxy.pathCommands,this.style.lineWidth,this.style.brushType,a,j):void 0}},c("../tool/util").inherits(b,g),b}),define("zrender/shape/Droplet",["require","./Base","./util/PathProxy","../tool/area","../tool/util"],function(c){var g=c("./Base"),d=c("./util/PathProxy"),f=c("../tool/area"),b=function(a){g.call(this,a),this._pathProxy=new d};return b.prototype={type:"droplet",buildPath:function(a,i){var h=this._pathProxy||new d;h.begin(a),h.moveTo(i.x,i.y+i.a),h.bezierCurveTo(i.x+i.a,i.y+i.a,i.x+3*i.a/2,i.y-i.a/3,i.x,i.y-i.b),h.bezierCurveTo(i.x-3*i.a/2,i.y-i.a/3,i.x-i.a,i.y+i.a,i.x,i.y+i.a),h.closePath()},getRect:function(a){return a.__rect?a.__rect:(this._pathProxy.isEmpty()||this.buildPath(null,a),this._pathProxy.fastBoundingRect())},isCover:function(a,j){var h=this.transformCoordToLocal(a,j);return a=h[0],j=h[1],this.isCoverRect(a,j)?f.isInsidePath(this._pathProxy.pathCommands,this.style.lineWidth,this.style.brushType,a,j):void 0}},c("../tool/util").inherits(b,g),b}),define("zrender/tool/math",[],function(){function c(a,h){return Math.sin(h?a*b:a)}function g(a,h){return Math.cos(h?a*b:a)}function d(a){return a*b}function f(a){return a/b}var b=Math.PI/180;return{sin:c,cos:g,degreeToRadian:d,radianToDegree:f}}),define("zrender/shape/util/PathProxy",["require","../../tool/vector"],function(a){var d=a("../../tool/vector"),b=function(f,g){this.command=f,this.points=g||null},c=function(){this.pathCommands=[],this._ctx=null,this._min=[],this._max=[]};return c.prototype.fastBoundingRect=function(){var j=this._min,m=this._max;j[0]=j[1]=1/0,m[0]=m[1]=-(1/0);for(var q=0;q<this.pathCommands.length;q++){var f=this.pathCommands[q],t=f.points;switch(f.command){case"M":d.min(j,j,t),d.max(m,m,t);break;case"L":d.min(j,j,t),d.max(m,m,t);break;case"C":for(var u=0;6>u;u+=2){j[0]=Math.min(j[0],j[0],t[u]),j[1]=Math.min(j[1],j[1],t[u+1]),m[0]=Math.max(m[0],m[0],t[u]),m[1]=Math.max(m[1],m[1],t[u+1])}break;case"Q":for(var u=0;4>u;u+=2){j[0]=Math.min(j[0],j[0],t[u]),j[1]=Math.min(j[1],j[1],t[u+1]),m[0]=Math.max(m[0],m[0],t[u]),m[1]=Math.max(m[1],m[1],t[u+1])}break;case"A":var v=t[0],p=t[1],k=t[2],g=t[3];j[0]=Math.min(j[0],j[0],v-k),j[1]=Math.min(j[1],j[1],p-g),m[0]=Math.max(m[0],m[0],v+k),m[1]=Math.max(m[1],m[1],p+g)}}return{x:j[0],y:j[1],width:m[0]-j[0],height:m[1]-j[1]}},c.prototype.begin=function(f){return this._ctx=f||null,this.pathCommands.length=0,this},c.prototype.moveTo=function(f,g){return this.pathCommands.push(new b("M",[f,g])),this._ctx&&this._ctx.moveTo(f,g),this},c.prototype.lineTo=function(f,g){return this.pathCommands.push(new b("L",[f,g])),this._ctx&&this._ctx.lineTo(f,g),this},c.prototype.bezierCurveTo=function(g,k,h,f,i,j){return this.pathCommands.push(new b("C",[g,k,h,f,i,j])),this._ctx&&this._ctx.bezierCurveTo(g,k,h,f,i,j),this},c.prototype.quadraticCurveTo=function(g,i,h,f){return this.pathCommands.push(new b("Q",[g,i,h,f])),this._ctx&&this._ctx.quadraticCurveTo(g,i,h,f),this},c.prototype.arc=function(g,k,h,f,i,j){return this.pathCommands.push(new b("A",[g,k,h,h,f,i-f,0,j?0:1])),this._ctx&&this._ctx.arc(g,k,h,f,i,j),this},c.prototype.arcTo=function(g,k,h,j,f){return this._ctx&&this._ctx.arcTo(g,k,h,j,f),this},c.prototype.rect=function(f,j,g,h){return this._ctx&&this._ctx.rect(f,j,g,h),this},c.prototype.closePath=function(){return this.pathCommands.push(new b("z")),this._ctx&&this._ctx.closePath(),this},c.prototype.isEmpty=function(){return 0===this.pathCommands.length},c.PathSegment=b,c}),define("zrender/shape/Line",["require","./Base","./util/dashedLineTo","../tool/util"],function(a){var d=a("./Base"),b=a("./util/dashedLineTo"),c=function(f){this.brushTypeOnly="stroke",this.textPosition="end",d.call(this,f)};return c.prototype={type:"line",buildPath:function(f,h){if(h.lineType&&"solid"!=h.lineType){if("dashed"==h.lineType||"dotted"==h.lineType){var g=(h.lineWidth||1)*("dashed"==h.lineType?5:1);b(f,h.xStart,h.yStart,h.xEnd,h.yEnd,g)}}else{f.moveTo(h.xStart,h.yStart),f.lineTo(h.xEnd,h.yEnd)}},getRect:function(f){if(f.__rect){return f.__rect}var g=f.lineWidth||1;return f.__rect={x:Math.min(f.xStart,f.xEnd)-g,y:Math.min(f.yStart,f.yEnd)-g,width:Math.abs(f.xStart-f.xEnd)+g,height:Math.abs(f.yStart-f.yEnd)+g},f.__rect}},a("../tool/util").inherits(c,d),c}),define("zrender/shape/BezierCurve",["require","./Base","../tool/util"],function(a){var c=a("./Base"),b=function(d){this.brushTypeOnly="stroke",this.textPosition="end",c.call(this,d)};return b.prototype={type:"bezier-curve",buildPath:function(d,f){d.moveTo(f.xStart,f.yStart),"undefined"!=typeof f.cpX2&&"undefined"!=typeof f.cpY2?d.bezierCurveTo(f.cpX1,f.cpY1,f.cpX2,f.cpY2,f.xEnd,f.yEnd):d.quadraticCurveTo(f.cpX1,f.cpY1,f.xEnd,f.yEnd)},getRect:function(f){if(f.__rect){return f.__rect}var m=Math.min(f.xStart,f.xEnd,f.cpX1),g=Math.min(f.yStart,f.yEnd,f.cpY1),h=Math.max(f.xStart,f.xEnd,f.cpX1),d=Math.max(f.yStart,f.yEnd,f.cpY1),j=f.cpX2,k=f.cpY2;"undefined"!=typeof j&&"undefined"!=typeof k&&(m=Math.min(m,j),g=Math.min(g,k),h=Math.max(h,j),d=Math.max(d,k));var l=f.lineWidth||1;return f.__rect={x:m-l,y:g-l,width:h-m+l,height:d-g+l},f.__rect}},a("../tool/util").inherits(b,c),b}),define("zrender/shape/util/dashedLineTo",[],function(){var a=[5,5];return function(v,j,m,b,p,q){if(v.setLineDash){return a[0]=a[1]=q,v.setLineDash(a),v.moveTo(j,m),void v.lineTo(b,p)}q="number"!=typeof q?5:q;var u=b-j,k=p-m,g=Math.floor(Math.sqrt(u*u+k*k)/q);u/=g,k/=g;for(var f=!0,e=0;g>e;++e){f?v.moveTo(j,m):v.lineTo(j,m),f=!f,j+=u,m+=k}v.lineTo(b,p)}}),define("zrender/shape/Polygon",["require","./Base","./util/smoothSpline","./util/smoothBezier","./util/dashedLineTo","../tool/util"],function(c){var h=c("./Base"),d=c("./util/smoothSpline"),f=c("./util/smoothBezier"),b=c("./util/dashedLineTo"),g=function(a){h.call(this,a)};return g.prototype={type:"polygon",buildPath:function(j,y){var u=y.pointList;if(!(u.length<2)){if(y.smooth&&"spline"!==y.smooth){var w=f(u,y.smooth,!0,y.smoothConstraint);j.moveTo(u[0][0],u[0][1]);for(var x,n,k,i=u.length,a=0;i>a;a++){x=w[2*a],n=w[2*a+1],k=u[(a+1)%i],j.bezierCurveTo(x[0],x[1],n[0],n[1],k[0],k[1])}}else{if("spline"===y.smooth&&(u=d(u,!0)),y.lineType&&"solid"!=y.lineType){if("dashed"==y.lineType||"dotted"==y.lineType){var q=y._dashLength||(y.lineWidth||1)*("dashed"==y.lineType?5:1);y._dashLength=q,j.moveTo(u[0][0],u[0][1]);for(var a=1,v=u.length;v>a;a++){b(j,u[a-1][0],u[a-1][1],u[a][0],u[a][1],q)}b(j,u[u.length-1][0],u[u.length-1][1],u[0][0],u[0][1],q)}}else{j.moveTo(u[0][0],u[0][1]);for(var a=1,v=u.length;v>a;a++){j.lineTo(u[a][0],u[a][1])}j.lineTo(u[0][0],u[0][1])}}j.closePath()}},getRect:function(k){if(k.__rect){return k.__rect}for(var x=Number.MAX_VALUE,m=Number.MIN_VALUE,q=Number.MAX_VALUE,j=Number.MIN_VALUE,u=k.pointList,v=0,w=u.length;w>v;v++){u[v][0]<x&&(x=u[v][0]),u[v][0]>m&&(m=u[v][0]),u[v][1]<q&&(q=u[v][1]),u[v][1]>j&&(j=u[v][1])}var p;return p="stroke"==k.brushType||"fill"==k.brushType?k.lineWidth||1:0,k.__rect={x:Math.round(x-p/2),y:Math.round(q-p/2),width:m-x+p,height:j-q+p},k.__rect}},c("../tool/util").inherits(g,h),g}),define("echarts/util/shape/normalIsCover",[],function(){return function(a,c){var b=this.transformCoordToLocal(a,c);return a=b[0],c=b[1],this.isCoverRect(a,c)}}),define("zrender/shape/util/smoothSpline",["require","../../tool/vector"],function(a){function c(f,q,g,j,d,k,m){var p=0.5*(g-f),h=0.5*(j-q);return(2*(q-g)+p+h)*m+(-3*(q-g)-2*p-h)*k+p*d+q}var b=a("../../tool/vector");return function(k,x){for(var f=k.length,y=[],A=0,B=1;f>B;B++){A+=b.distance(k[B-1],k[B])}var v=A/5;v=f>v?f:v;for(var B=0;v>B;B++){var t,j,i,w=B/(v-1)*(x?f:f-1),z=Math.floor(w),C=w-z,E=k[z%f];x?(t=k[(z-1+f)%f],j=k[(z+1)%f],i=k[(z+2)%f]):(t=k[0===z?z:z-1],j=k[z>f-2?f-1:z+1],i=k[z>f-3?f-1:z+2]);var D=C*C,q=C*D;y.push([c(t[0],E[0],j[0],i[0],C,D,q),c(t[1],E[1],j[1],i[1],C,D,q)])}return y}}),define("zrender/shape/util/smoothBezier",["require","../../tool/vector"],function(a){var b=a("../../tool/vector");return function(w,B,E,k){var F,H,I,C,A=[],v=[],t=[],D=[],G=!!k;if(G){I=[1/0,1/0],C=[-(1/0),-(1/0)];for(var J=0,L=w.length;L>J;J++){b.min(I,I,w[J]),b.max(C,C,w[J])}b.min(I,I,k[0]),b.max(C,C,k[1])}for(var J=0,L=w.length;L>J;J++){var F,H,K=w[J];if(E){F=w[J?J-1:L-1],H=w[(J+1)%L]}else{if(0===J||J===L-1){A.push(b.clone(w[J]));continue}F=w[J-1],H=w[J+1]}b.sub(v,H,F),b.scale(v,v,B);var z=b.distance(K,F),x=b.distance(K,H),M=z+x;0!==M&&(z/=M,x/=M),b.scale(t,v,-z),b.scale(D,v,x);var q=b.add([],K,t),j=b.add([],K,D);G&&(b.max(q,q,I),b.min(q,q,C),b.max(j,j,I),b.min(j,j,C)),A.push(q),A.push(j)}return E&&A.push(b.clone(A.shift())),A}}),define("echarts/util/ecQuery",["require","zrender/tool/util"],function(c){function g(a,k){if("undefined"!=typeof a){if(!k){return a}k=k.split(".");for(var h=k.length,j=0;h>j;){if(a=a[k[j]],"undefined"==typeof a){return}j++}return a}}function d(j,k){for(var l,h=0,m=j.length;m>h;h++){if(l=g(j[h],k),"undefined"!=typeof l){return l}}}function f(a,h){for(var j,k=a.length;k--;){var l=g(a[k],h);"undefined"!=typeof l&&("undefined"==typeof j?j=b.clone(l):b.merge(j,l,!0))}return j}var b=c("zrender/tool/util");return{query:g,deepQuery:d,deepMerge:f}}),define("echarts/util/number",[],function(){function c(a){return a.replace(/^\s+/,"").replace(/\s+$/,"")}function h(e,a){return"string"==typeof e?c(e).match(/%$/)?parseFloat(e)/100*a:parseFloat(e):e}function d(a,j){return[h(j[0],a.getWidth()),h(j[1],a.getHeight())]}function f(a,j){j instanceof Array||(j=[0,j]);var k=Math.min(a.getWidth(),a.getHeight())/2;return[h(j[0],k),h(j[1],k)]}function b(a){return isNaN(a)?"-":(a=(a+"").split("."),a[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(a.length>1?"."+a[1]:""))}function g(a){for(var k=1,j=0;Math.round(a*k)/k!==a;){k*=10,j++}return j}return{parsePercent:h,parseCenter:d,parseRadius:f,addCommas:b,getPrecision:g}}),define("echarts/data/KDTree",["require","./quickSelect"],function(a){function d(f,g){this.left=null,this.right=null,this.axis=f,this.data=g}var b=a("./quickSelect"),c=function(f,g){f.length&&(g||(g=f[0].array.length),this.dimension=g,this.root=this._buildTree(f,0,f.length-1,0),this._stack=[],this._nearstNList=[])};return c.prototype._buildTree=function(g,i,f,j){if(i>f){return null}var k=Math.floor((i+f)/2);k=b(g,i,f,k,function(l,n){return l.array[j]-n.array[j]});var m=g[k],h=new d(j,m);return j=(j+1)%this.dimension,f>i&&(h.left=this._buildTree(g,i,k-1,j),h.right=this._buildTree(g,k+1,f,j)),h},c.prototype.nearest=function(g,w){var k=this.root,p=this._stack,f=0,q=1/0,u=null;for(k.data!==g&&(q=w(k.data,g),u=k),g.array[k.axis]<k.data.array[k.axis]?(k.right&&(p[f++]=k.right),k.left&&(p[f++]=k.left)):(k.left&&(p[f++]=k.left),k.right&&(p[f++]=k.right));f--;){k=p[f];var v=g.array[k.axis]-k.data.array[k.axis],m=0>v,j=!1;v*=v,q>v&&(v=w(k.data,g),q>v&&k.data!==g&&(q=v,u=k),j=!0),m?(j&&k.right&&(p[f++]=k.right),k.left&&(p[f++]=k.left)):(j&&k.left&&(p[f++]=k.left),k.right&&(p[f++]=k.right))}return u.data},c.prototype._addNearest=function(g,k,h){for(var j=this._nearstNList,f=g-1;f>0&&!(k>=j[f-1].dist);f--){j[f].dist=j[f-1].dist,j[f].node=j[f-1].node}j[f].dist=k,j[f].node=h},c.prototype.nearestN=function(k,A,q,w){if(0>=A){return w.length=0,w}for(var f=this.root,x=this._stack,y=0,z=this._nearstNList,u=0;A>u;u++){z[u]||(z[u]={}),z[u].dist=0,z[u].node=null}var p=q(f.data,k),j=0;for(f.data!==k&&(j++,this._addNearest(j,p,f)),k.array[f.axis]<f.data.array[f.axis]?(f.right&&(x[y++]=f.right),f.left&&(x[y++]=f.left)):(f.left&&(x[y++]=f.left),f.right&&(x[y++]=f.right));y--;){f=x[y];var p=k.array[f.axis]-f.data.array[f.axis],g=0>p,v=!1;p*=p,(A>j||p<z[j-1].dist)&&(p=q(f.data,k),(A>j||p<z[j-1].dist)&&f.data!==k&&(A>j&&j++,this._addNearest(j,p,f)),v=!0),g?(v&&f.right&&(x[y++]=f.right),f.left&&(x[y++]=f.left)):(v&&f.left&&(x[y++]=f.left),f.right&&(x[y++]=f.right))}for(var u=0;j>u;u++){w[u]=z[u].node.data}return w.length=j,w},c}),define("echarts/data/quickSelect",["require"],function(){function a(f,g){return f-g}function d(f,j,g){var h=f[j];f[j]=f[g],f[g]=h}function b(g,h,k,f,m){for(var p=h;k>h;){var p=Math.round((k+h)/2),q=g[p];d(g,p,k),p=h;for(var j=h;k-1>=j;j++){m(q,g[j])>=0&&(d(g,j,p),p++)}if(d(g,k,p),p===f){return p}f>p?h=p+1:k=p-1}return h}function c(i,f,e,g,h){return arguments.length<=3&&(g=f,h=2==arguments.length?a:e,f=0,e=i.length-1),b(i,f,e,g,h)}return c}),define("echarts/component/dataView",["require","./base","../config","zrender/tool/util","../component"],function(c){function g(i,l,j,h,k){d.call(this,i,l,j,h,k),this.dom=k.dom,this._tDom=document.createElement("div"),this._textArea=document.createElement("textArea"),this._buttonRefresh=document.createElement("button"),this._buttonRefresh.setAttribute("type","button"),this._buttonClose=document.createElement("button"),this._buttonClose.setAttribute("type","button"),this._hasShow=!1,this._zrHeight=j.getHeight(),this._zrWidth=j.getWidth(),this._tDom.className="echarts-dataview",this.hide(),this.dom.firstChild.appendChild(this._tDom),window.addEventListener?(this._tDom.addEventListener("click",this._stop),this._tDom.addEventListener("mousewheel",this._stop),this._tDom.addEventListener("mousemove",this._stop),this._tDom.addEventListener("mousedown",this._stop),this._tDom.addEventListener("mouseup",this._stop),this._tDom.addEventListener("touchstart",this._stop),this._tDom.addEventListener("touchmove",this._stop),this._tDom.addEventListener("touchend",this._stop)):(this._tDom.attachEvent("onclick",this._stop),this._tDom.attachEvent("onmousewheel",this._stop),this._tDom.attachEvent("onmousemove",this._stop),this._tDom.attachEvent("onmousedown",this._stop),this._tDom.attachEvent("onmouseup",this._stop))}var d=c("./base"),f=c("../config"),b=c("zrender/tool/util");return g.prototype={type:f.COMPONENT_TYPE_DATAVIEW,_lang:["Data View","close","refresh"],_gCssText:"position:absolute;display:block;overflow:hidden;transition:height 0.8s,background-color 1s;-moz-transition:height 0.8s,background-color 1s;-webkit-transition:height 0.8s,background-color 1s;-o-transition:height 0.8s,background-color 1s;z-index:1;left:0;top:0;",hide:function(){this._sizeCssText="width:"+this._zrWidth+"px;height:0px;background-color:#f0ffff;",this._tDom.style.cssText=this._gCssText+this._sizeCssText},show:function(a){this._hasShow=!0;var k=this.query(this.option,"toolbox.feature.dataView.lang")||this._lang;this.option=a,this._tDom.innerHTML='<p style="padding:8px 0;margin:0 0 10px 0;border-bottom:1px solid #eee">'+(k[0]||this._lang[0])+"</p>";var h=this.query(this.option,"toolbox.feature.dataView.optionToContent");"function"!=typeof h?this._textArea.value=this._optionToContent():(this._textArea=document.createElement("div"),this._textArea.innerHTML=h(this.option)),this._textArea.style.cssText="display:block;margin:0 0 8px 0;padding:4px 6px;overflow:auto;width:100%;height:"+(this._zrHeight-100)+"px;",this._tDom.appendChild(this._textArea),this._buttonClose.style.cssText="float:right;padding:1px 6px;",this._buttonClose.innerHTML=k[1]||this._lang[1];var j=this;this._buttonClose.onclick=function(){j.hide()},this._tDom.appendChild(this._buttonClose),this.query(this.option,"toolbox.feature.dataView.readOnly")===!1?(this._buttonRefresh.style.cssText="float:right;margin-right:10px;padding:1px 6px;",this._buttonRefresh.innerHTML=k[2]||this._lang[2],this._buttonRefresh.onclick=function(){j._save()},this._textArea.readOnly=!1,this._textArea.style.cursor="default"):(this._buttonRefresh.style.cssText="display:none",this._textArea.readOnly=!0,this._textArea.style.cursor="text"),this._tDom.appendChild(this._buttonRefresh),this._sizeCssText="width:"+this._zrWidth+"px;height:"+this._zrHeight+"px;background-color:#fff;",this._tDom.style.cssText=this._gCssText+this._sizeCssText},_optionToContent:function(){var m,x,p,j,u,v,w=[],q="";if(this.option.xAxis){for(w=this.option.xAxis instanceof Array?this.option.xAxis:[this.option.xAxis],m=0,j=w.length;j>m;m++){if("category"==(w[m].type||"category")){for(v=[],x=0,p=w[m].data.length;p>x;x++){v.push(this.getDataFromOption(w[m].data[x]))}q+=v.join(", ")+"\n\n"}}}if(this.option.yAxis){for(w=this.option.yAxis instanceof Array?this.option.yAxis:[this.option.yAxis],m=0,j=w.length;j>m;m++){if("category"==w[m].type){for(v=[],x=0,p=w[m].data.length;p>x;x++){v.push(this.getDataFromOption(w[m].data[x]))}q+=v.join(", ")+"\n\n"}}}var n,k=this.option.series;for(m=0,j=k.length;j>m;m++){for(v=[],x=0,p=k[m].data.length;p>x;x++){u=k[m].data[x],n=k[m].type==f.CHART_TYPE_PIE||k[m].type==f.CHART_TYPE_MAP?(u.name||"-")+":":"",k[m].type==f.CHART_TYPE_SCATTER&&(u=this.getDataFromOption(u).join(", ")),v.push(n+this.getDataFromOption(u))}q+=(k[m].name||"-")+" : \n",q+=v.join(k[m].type==f.CHART_TYPE_SCATTER?"\n":", "),q+="\n\n"}return q},_save:function(){var j=this.query(this.option,"toolbox.feature.dataView.contentToOption");if("function"!=typeof j){for(var n=this._textArea.value.split("\n"),k=[],h=0,l=n.length;l>h;h++){n[h]=this._trim(n[h]),""!==n[h]&&k.push(n[h])}this._contentToOption(k)}else{j(this._textArea,this.option)}this.hide();var m=this;setTimeout(function(){m.messageCenter&&m.messageCenter.dispatch(f.EVENT.DATA_VIEW_CHANGED,null,{option:m.option},m.myChart)},m.canvasSupported?800:100)},_contentToOption:function(n){var y,q,j,v,w,x,u,p=[],m=0;if(this.option.xAxis){for(p=this.option.xAxis instanceof Array?this.option.xAxis:[this.option.xAxis],y=0,v=p.length;v>y;y++){if("category"==(p[y].type||"category")){for(x=n[m].split(","),q=0,j=p[y].data.length;j>q;q++){u=this._trim(x[q]||""),w=p[y].data[q],"undefined"!=typeof p[y].data[q].value?p[y].data[q].value=u:p[y].data[q]=u}m++}}}if(this.option.yAxis){for(p=this.option.yAxis instanceof Array?this.option.yAxis:[this.option.yAxis],y=0,v=p.length;v>y;y++){if("category"==p[y].type){for(x=n[m].split(","),q=0,j=p[y].data.length;j>q;q++){u=this._trim(x[q]||""),w=p[y].data[q],"undefined"!=typeof p[y].data[q].value?p[y].data[q].value=u:p[y].data[q]=u}m++}}}var k=this.option.series;for(y=0,v=k.length;v>y;y++){if(m++,k[y].type==f.CHART_TYPE_SCATTER){for(var q=0,j=k[y].data.length;j>q;q++){x=n[m],u=x.replace(" ","").split(","),"undefined"!=typeof k[y].data[q].value?k[y].data[q].value=u:k[y].data[q]=u,m++}}else{x=n[m].split(",");for(var q=0,j=k[y].data.length;j>q;q++){u=(x[q]||"").replace(/.*:/,""),u=this._trim(u),u="-"!=u&&""!==u?u-0:"-","undefined"!=typeof k[y].data[q].value?k[y].data[q].value=u:k[y].data[q]=u}m++}}},_trim:function(a){var h=new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+$)","g");return a.replace(h,"")},_stop:function(a){a=a||window.event,a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},resize:function(){this._zrHeight=this.zr.getHeight(),this._zrWidth=this.zr.getWidth(),this._tDom.offsetHeight>10&&(this._sizeCssText="width:"+this._zrWidth+"px;height:"+this._zrHeight+"px;background-color:#fff;",this._tDom.style.cssText=this._gCssText+this._sizeCssText,this._textArea.style.cssText="display:block;margin:0 0 8px 0;padding:4px 6px;overflow:auto;width:100%;height:"+(this._zrHeight-100)+"px;")},dispose:function(){window.removeEventListener?(this._tDom.removeEventListener("click",this._stop),this._tDom.removeEventListener("mousewheel",this._stop),this._tDom.removeEventListener("mousemove",this._stop),this._tDom.removeEventListener("mousedown",this._stop),this._tDom.removeEventListener("mouseup",this._stop),this._tDom.removeEventListener("touchstart",this._stop),this._tDom.removeEventListener("touchmove",this._stop),this._tDom.removeEventListener("touchend",this._stop)):(this._tDom.detachEvent("onclick",this._stop),this._tDom.detachEvent("onmousewheel",this._stop),this._tDom.detachEvent("onmousemove",this._stop),this._tDom.detachEvent("onmousedown",this._stop),this._tDom.detachEvent("onmouseup",this._stop)),this._buttonRefresh.onclick=null,this._buttonClose.onclick=null,this._hasShow&&(this._tDom.removeChild(this._textArea),this._tDom.removeChild(this._buttonRefresh),this._tDom.removeChild(this._buttonClose)),this._textArea=null,this._buttonRefresh=null,this._buttonClose=null,this.dom.firstChild.removeChild(this._tDom),this._tDom=null}},b.inherits(g,d),c("../component").define("dataView",g),g}),define("echarts/util/shape/Cross",["require","zrender/shape/Base","zrender/shape/Line","zrender/tool/util","./normalIsCover"],function(c){function g(a){d.call(this,a)}var d=c("zrender/shape/Base"),f=c("zrender/shape/Line"),b=c("zrender/tool/util");return g.prototype={type:"cross",buildPath:function(a,j){var h=j.rect;j.xStart=h.x,j.xEnd=h.x+h.width,j.yStart=j.yEnd=j.y,f.prototype.buildPath(a,j),j.xStart=j.xEnd=j.x,j.yStart=h.y,j.yEnd=h.y+h.height,f.prototype.buildPath(a,j)},getRect:function(a){return a.rect},isCover:c("./normalIsCover")},b.inherits(g,d),g}),define("zrender/shape/Sector",["require","../tool/math","../tool/computeBoundingBox","../tool/vector","./Base","../tool/util"],function(c){var q=c("../tool/math"),f=c("../tool/computeBoundingBox"),j=c("../tool/vector"),b=c("./Base"),k=j.create(),m=j.create(),p=j.create(),g=j.create(),d=function(a){b.call(this,a)};return d.prototype={type:"sector",buildPath:function(w,y){var A=y.x,t=y.y,B=y.r0||0,C=y.r,D=y.startAngle,z=y.endAngle,x=y.clockWise||!1;D=q.degreeToRadian(D),z=q.degreeToRadian(z),x||(D=-D,z=-z);var v=q.cos(D),u=q.sin(D);w.moveTo(v*B+A,u*B+t),w.lineTo(v*C+A,u*C+t),w.arc(A,t,C,D,z,!x),w.lineTo(q.cos(z)*B+A,q.sin(z)*B+t),0!==B&&w.arc(A,t,B,z,D,x),w.closePath()},getRect:function(o){if(o.__rect){return o.__rect}var i=o.x,r=o.y,n=o.r0||0,l=o.r,s=q.degreeToRadian(o.startAngle),t=q.degreeToRadian(o.endAngle),v=o.clockWise;return v||(s=-s,t=-t),n>1?f.arc(i,r,n,s,t,!v,k,p):(k[0]=p[0]=i,k[1]=p[1]=r),f.arc(i,r,l,s,t,!v,m,g),j.min(k,k,m),j.max(p,p,g),o.__rect={x:k[0],y:k[1],width:p[0]-k[0],height:p[1]-k[1]},o.__rect}},c("../tool/util").inherits(d,b),d}),define("echarts/util/shape/Candle",["require","zrender/shape/Base","zrender/tool/util","./normalIsCover"],function(a){function d(f){b.call(this,f)}var b=a("zrender/shape/Base"),c=a("zrender/tool/util");return d.prototype={type:"candle",_numberOrder:function(f,g){return g-f},buildPath:function(f,h){var g=c.clone(h.y).sort(this._numberOrder);f.moveTo(h.x,g[3]),f.lineTo(h.x,g[2]),f.moveTo(h.x-h.width/2,g[2]),f.rect(h.x-h.width/2,g[2],h.width,g[1]-g[2]),f.moveTo(h.x,g[1]),f.lineTo(h.x,g[0])},getRect:function(f){if(!f.__rect){var h=0;("stroke"==f.brushType||"fill"==f.brushType)&&(h=f.lineWidth||1);var g=c.clone(f.y).sort(this._numberOrder);f.__rect={x:Math.round(f.x-f.width/2-h/2),y:Math.round(g[3]-h/2),width:f.width+h,height:g[0]-g[3]+h}}return f.__rect},isCover:a("./normalIsCover")},c.inherits(d,b),d}),define("zrender/tool/computeBoundingBox",["require","./vector","./curve"],function(c){function q(u,B,v){if(0!==u.length){for(var x=u[0][0],h=u[0][0],y=u[0][1],z=u[0][1],A=1;A<u.length;A++){var w=u[A];w[0]<x&&(x=w[0]),w[0]>h&&(h=w[0]),w[1]<y&&(y=w[1]),w[1]>z&&(z=w[1])}B[0]=x,B[1]=y,v[0]=h,v[1]=z}}function f(w,F,y,B,o,D){var E=[];k.cubicExtrema(w[0],F[0],y[0],B[0],E);for(var z=0;z<E.length;z++){E[z]=k.cubicAt(w[0],F[0],y[0],B[0],E[z])}var x=[];k.cubicExtrema(w[1],F[1],y[1],B[1],x);for(var z=0;z<x.length;z++){x[z]=k.cubicAt(w[1],F[1],y[1],B[1],x[z])}E.push(w[0],B[0]),x.push(w[1],B[1]);var v=Math.min.apply(null,E),u=Math.max.apply(null,E),A=Math.min.apply(null,x),C=Math.max.apply(null,x);o[0]=v,o[1]=A,D[0]=u,D[1]=C}function j(w,F,y,B,o){var D=k.quadraticExtremum(w[0],F[0],y[0]),E=k.quadraticExtremum(w[1],F[1],y[1]);D=Math.max(Math.min(D,1),0),E=Math.max(Math.min(E,1),0);var z=1-D,x=1-E,v=z*z*w[0]+2*z*D*F[0]+D*D*y[0],u=z*z*w[1]+2*z*D*F[1]+D*D*y[1],A=x*x*w[0]+2*x*E*F[0]+E*E*y[0],C=x*x*w[1]+2*x*E*F[1]+E*E*y[1];B[0]=Math.min(w[0],y[0],v,A),B[1]=Math.min(w[1],y[1],u,C),o[0]=Math.max(w[0],y[0],v,A),o[1]=Math.max(w[1],y[1],u,C)}var b=c("./vector"),k=c("./curve"),m=b.create(),p=b.create(),g=b.create(),d=function(r,z,u,w,x,s,l,a){if(Math.abs(w-x)>=2*Math.PI){return l[0]=r-u,l[1]=z-u,a[0]=r+u,void (a[1]=z+u)}if(m[0]=Math.cos(w)*u+r,m[1]=Math.sin(w)*u+z,p[0]=Math.cos(x)*u+r,p[1]=Math.sin(x)*u+z,b.min(l,m,p),b.max(a,m,p),w%=2*Math.PI,0>w&&(w+=2*Math.PI),x%=2*Math.PI,0>x&&(x+=2*Math.PI),w>x&&!s?x+=2*Math.PI:x>w&&s&&(w+=2*Math.PI),s){var v=x;x=w,w=v}for(var y=0;x>y;y+=Math.PI/2){y>w&&(g[0]=Math.cos(y)*u+r,g[1]=Math.sin(y)*u+z,b.min(l,g,l),b.max(a,g,a))}};return q.cubeBezier=f,q.quadraticBezier=j,q.arc=d,q}),define("echarts/util/shape/Chain",["require","zrender/shape/Base","./Icon","zrender/shape/util/dashedLineTo","zrender/tool/util","zrender/tool/matrix"],function(c){function j(a){d.call(this,a)}var d=c("zrender/shape/Base"),f=c("./Icon"),b=c("zrender/shape/util/dashedLineTo"),g=c("zrender/tool/util"),h=c("zrender/tool/matrix");return j.prototype={type:"chain",brush:function(a,l){var k=this.style;l&&(k=this.getHighlightStyle(k,this.highlightStyle||{})),a.save(),this.setContext(a,k),this.setTransform(a),a.save(),a.beginPath(),this.buildLinePath(a,k),a.stroke(),a.restore(),this.brushSymbol(a,k),a.restore()},buildLinePath:function(a,u){var k=u.x,l=u.y+5,m=u.width,p=u.height/2-10;if(a.moveTo(k,l),a.lineTo(k,l+p),a.moveTo(k+m,l),a.lineTo(k+m,l+p),a.moveTo(k,l+p/2),u.lineType&&"solid"!=u.lineType){if("dashed"==u.lineType||"dotted"==u.lineType){var q=(u.lineWidth||1)*("dashed"==u.lineType?5:1);b(a,k,l+p/2,k+m,l+p/2,q)}}else{a.lineTo(k+m,l+p/2)}},brushSymbol:function(m,w){var n=w.y+w.height/4;m.save();for(var k,q=w.chainPoint,u=0,v=q.length;v>u;u++){if(k=q[u],"none"!=k.symbol){m.beginPath();var p=k.symbolSize;f.prototype.buildPath(m,{iconType:k.symbol,x:k.x-p,y:n-p,width:2*p,height:2*p,n:k.n}),m.fillStyle=k.isEmpty?"#fff":w.strokeColor,m.closePath(),m.fill(),m.stroke()}k.showLabel&&(m.font=k.textFont,m.fillStyle=k.textColor,m.textAlign=k.textAlign,m.textBaseline=k.textBaseline,k.rotation?(m.save(),this._updateTextTransform(m,k.rotation),m.fillText(k.name,k.textX,k.textY),m.restore()):m.fillText(k.name,k.textX,k.textY))}m.restore()},_updateTextTransform:function(l,p){var m=h.create();if(h.identity(m),0!==p[0]){var o=p[1]||0,k=p[2]||0;(o||k)&&h.translate(m,m,[-o,-k]),h.rotate(m,m,p[0]),(o||k)&&h.translate(m,m,[o,k])}l.transform.apply(l,m)},isCover:function(a,l){var k=this.style;return a>=k.x&&a<=k.x+k.width&&l>=k.y&&l<=k.y+k.height?!0:!1}},g.inherits(j,d),j}),define("zrender/shape/Ring",["require","./Base","../tool/util"],function(a){var c=a("./Base"),b=function(d){c.call(this,d)};return b.prototype={type:"ring",buildPath:function(d,f){d.arc(f.x,f.y,f.r,0,2*Math.PI,!1),d.moveTo(f.x+f.r0,f.y),d.arc(f.x,f.y,f.r0,0,2*Math.PI,!0)},getRect:function(d){if(d.__rect){return d.__rect}var f;return f="stroke"==d.brushType||"fill"==d.brushType?d.lineWidth||1:0,d.__rect={x:Math.round(d.x-d.r-f/2),y:Math.round(d.y-d.r-f/2),width:2*d.r+f,height:2*d.r+f},d.__rect}},a("../tool/util").inherits(b,c),b}),define("echarts/component/axis",["require","./base","zrender/shape/Line","../config","../util/ecData","zrender/tool/util","zrender/tool/color","./categoryAxis","./valueAxis","../component"],function(c){function k(l,s,m,i,p,q){d.call(this,l,s,m,i,p),this.axisType=q,this._axisList=[],this.refresh(i)}var d=c("./base"),f=c("zrender/shape/Line"),b=c("../config"),g=c("../util/ecData"),h=c("zrender/tool/util"),j=c("zrender/tool/color");return k.prototype={type:b.COMPONENT_TYPE_AXIS,axisBase:{_buildAxisLine:function(){var m=this.option.axisLine.lineStyle.width,q=m/2,n={_axisShape:"axisLine",zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:!1},l=this.grid;switch(this.option.position){case"left":n.style={xStart:l.getX()-q,yStart:l.getYend(),xEnd:l.getX()-q,yEnd:l.getY(),lineCap:"round"};break;case"right":n.style={xStart:l.getXend()+q,yStart:l.getYend(),xEnd:l.getXend()+q,yEnd:l.getY(),lineCap:"round"};break;case"bottom":n.style={xStart:l.getX(),yStart:l.getYend()+q,xEnd:l.getXend(),yEnd:l.getYend()+q,lineCap:"round"};break;case"top":n.style={xStart:l.getX(),yStart:l.getY()-q,xEnd:l.getXend(),yEnd:l.getY()-q,lineCap:"round"}}var p=n.style;""!==this.option.name&&(p.text=this.option.name,p.textPosition=this.option.nameLocation,p.textFont=this.getFont(this.option.nameTextStyle),this.option.nameTextStyle.align&&(p.textAlign=this.option.nameTextStyle.align),this.option.nameTextStyle.baseline&&(p.textBaseline=this.option.nameTextStyle.baseline),this.option.nameTextStyle.color&&(p.textColor=this.option.nameTextStyle.color)),p.strokeColor=this.option.axisLine.lineStyle.color,p.lineWidth=m,this.isHorizontal()?p.yStart=p.yEnd=this.subPixelOptimize(p.yEnd,m):p.xStart=p.xEnd=this.subPixelOptimize(p.xEnd,m),p.lineType=this.option.axisLine.lineStyle.type,n=new f(n),this.shapeList.push(n)},_axisLabelClickable:function(a,i){return a?(g.pack(i,void 0,-1,void 0,-1,i.style.text),i.hoverable=!0,i.clickable=!0,i.highlightStyle={color:j.lift(i.style.color,1),brushType:"fill"},i):i},refixAxisShape:function(m,q){if(this.option.axisLine.onZero){var o;if(this.isHorizontal()&&null!=q){for(var p=0,l=this.shapeList.length;l>p;p++){"axisLine"===this.shapeList[p]._axisShape?(this.shapeList[p].style.yStart=this.shapeList[p].style.yEnd=this.subPixelOptimize(q,this.shapeList[p].stylelineWidth),this.zr.modShape(this.shapeList[p].id)):"axisTick"===this.shapeList[p]._axisShape&&(o=this.shapeList[p].style.yEnd-this.shapeList[p].style.yStart,this.shapeList[p].style.yStart=q-o,this.shapeList[p].style.yEnd=q,this.zr.modShape(this.shapeList[p].id))}}if(!this.isHorizontal()&&null!=m){for(var p=0,l=this.shapeList.length;l>p;p++){"axisLine"===this.shapeList[p]._axisShape?(this.shapeList[p].style.xStart=this.shapeList[p].style.xEnd=this.subPixelOptimize(m,this.shapeList[p].stylelineWidth),this.zr.modShape(this.shapeList[p].id)):"axisTick"===this.shapeList[p]._axisShape&&(o=this.shapeList[p].style.xEnd-this.shapeList[p].style.xStart,this.shapeList[p].style.xStart=m,this.shapeList[p].style.xEnd=m+o,this.zr.modShape(this.shapeList[p].id))}}}},getPosition:function(){return this.option.position},isHorizontal:function(){return"bottom"===this.option.position||"top"===this.option.position}},reformOption:function(a){if(!a||a instanceof Array&&0===a.length?a=[{type:b.COMPONENT_TYPE_AXIS_VALUE}]:a instanceof Array||(a=[a]),a.length>2&&(a=[a[0],a[1]]),"xAxis"===this.axisType){(!a[0].position||"bottom"!=a[0].position&&"top"!=a[0].position)&&(a[0].position="bottom"),a.length>1&&(a[1].position="bottom"===a[0].position?"top":"bottom");for(var m=0,l=a.length;l>m;m++){a[m].type=a[m].type||"category",a[m].xAxisIndex=m,a[m].yAxisIndex=-1}}else{(!a[0].position||"left"!=a[0].position&&"right"!=a[0].position)&&(a[0].position="left"),a.length>1&&(a[1].position="left"===a[0].position?"right":"left");for(var m=0,l=a.length;l>m;m++){a[m].type=a[m].type||"value",a[m].xAxisIndex=-1,a[m].yAxisIndex=m}}return a},refresh:function(s){var l;s&&(this.option=s,"xAxis"===this.axisType?(this.option.xAxis=this.reformOption(s.xAxis),l=this.option.xAxis):(this.option.yAxis=this.reformOption(s.yAxis),l=this.option.yAxis),this.series=s.series);for(var m=c("./categoryAxis"),e=c("./valueAxis"),p=Math.max(l&&l.length||0,this._axisList.length),q=0;p>q;q++){!this._axisList[q]||!s||l[q]&&this._axisList[q].type==l[q].type||(this._axisList[q].dispose&&this._axisList[q].dispose(),this._axisList[q]=!1),this._axisList[q]?this._axisList[q].refresh&&this._axisList[q].refresh(l?l[q]:!1,this.series):l&&l[q]&&(this._axisList[q]="category"===l[q].type?new m(this.ecTheme,this.messageCenter,this.zr,l[q],this.myChart,this.axisBase):new e(this.ecTheme,this.messageCenter,this.zr,l[q],this.myChart,this.axisBase,this.series))}},getAxis:function(a){return this._axisList[a]},getAxisCount:function(){return this._axisList.length},clear:function(){for(var a=0,i=this._axisList.length;i>a;a++){this._axisList[a].dispose&&this._axisList[a].dispose()}this._axisList=[]}},h.inherits(k,d),c("../component").define("axis",k),k}),define("echarts/component/grid",["require","./base","zrender/shape/Rectangle","../config","zrender/tool/util","../component"],function(c){function h(j,m,k,i,l){d.call(this,j,m,k,i,l),this.refresh(i)}var d=c("./base"),f=c("zrender/shape/Rectangle"),b=c("../config");b.grid={zlevel:0,z:0,x:80,y:60,x2:80,y2:60,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"};var g=c("zrender/tool/util");return h.prototype={type:b.COMPONENT_TYPE_GRID,getX:function(){return this._x},getY:function(){return this._y},getWidth:function(){return this._width},getHeight:function(){return this._height},getXend:function(){return this._x+this._width},getYend:function(){return this._y+this._height},getArea:function(){return{x:this._x,y:this._y,width:this._width,height:this._height}},getBbox:function(){return[[this._x,this._y],[this.getXend(),this.getYend()]]},refixAxisShape:function(a){for(var p,j,k,l=a.xAxis._axisList.concat(a.yAxis?a.yAxis._axisList:[]),m=l.length;m--;){k=l[m],k.type==b.COMPONENT_TYPE_AXIS_VALUE&&k._min<0&&k._max>=0&&(k.isHorizontal()?p=k.getCoord(0):j=k.getCoord(0))}if("undefined"!=typeof p||"undefined"!=typeof j){for(m=l.length;m--;){l[m].refixAxisShape(p,j)}}},refresh:function(k){if(k||this._zrWidth!=this.zr.getWidth()||this._zrHeight!=this.zr.getHeight()){this.clear(),this.option=k||this.option,this.option.grid=this.reformOption(this.option.grid);var m=this.option.grid;this._zrWidth=this.zr.getWidth(),this._zrHeight=this.zr.getHeight(),this._x=this.parsePercent(m.x,this._zrWidth),this._y=this.parsePercent(m.y,this._zrHeight);var l=this.parsePercent(m.x2,this._zrWidth),j=this.parsePercent(m.y2,this._zrHeight);this._width="undefined"==typeof m.width?this._zrWidth-this._x-l:this.parsePercent(m.width,this._zrWidth),this._width=this._width<=0?10:this._width,this._height="undefined"==typeof m.height?this._zrHeight-this._y-j:this.parsePercent(m.height,this._zrHeight),this._height=this._height<=0?10:this._height,this._x=this.subPixelOptimize(this._x,m.borderWidth),this._y=this.subPixelOptimize(this._y,m.borderWidth),this.shapeList.push(new f({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this._x,y:this._y,width:this._width,height:this._height,brushType:m.borderWidth>0?"both":"fill",color:m.backgroundColor,strokeColor:m.borderColor,lineWidth:m.borderWidth}})),this.zr.addShape(this.shapeList[0])}}},g.inherits(h,d),c("../component").define("grid",h),h}),define("echarts/component/dataZoom",["require","./base","zrender/shape/Rectangle","zrender/shape/Polygon","../util/shape/Icon","../config","../util/date","zrender/tool/util","../component"],function(c){function m(l,u,p,i,q){d.call(this,l,u,p,i,q);var s=this;s._ondrift=function(a,n){return s.__ondrift(this,a,n)},s._ondragend=function(){return s.__ondragend()},this._fillerSize=30,this._isSilence=!1,this._zoom={},this.option.dataZoom=this.reformOption(this.option.dataZoom),this.zoomOption=this.option.dataZoom,this._handleSize=this.zoomOption.handleSize,this.myChart.canvasSupported||(this.zoomOption.realtime=!1),this._location=this._getLocation(),this._zoom=this._getZoom(),this._backupData(),this.option.dataZoom.show&&this._buildShape(),this._syncData()}var d=c("./base"),g=c("zrender/shape/Rectangle"),b=c("zrender/shape/Polygon"),h=c("../util/shape/Icon"),j=c("../config");j.dataZoom={zlevel:0,z:4,show:!1,orient:"horizontal",backgroundColor:"rgba(0,0,0,0)",dataBackgroundColor:"#eee",fillerColor:"rgba(144,197,237,0.2)",handleColor:"rgba(70,130,180,0.8)",handleSize:8,showDetail:!0,realtime:!0};var k=c("../util/date"),f=c("zrender/tool/util");return m.prototype={type:j.COMPONENT_TYPE_DATAZOOM,_buildShape:function(){this._buildBackground(),this._buildFiller(),this._buildHandle(),this._buildFrame();for(var a=0,i=this.shapeList.length;i>a;a++){this.zr.addShape(this.shapeList[a])}this._syncFrameShape()},_getLocation:function(){var o,r,p,q,l=this.component.grid;return"horizontal"==this.zoomOption.orient?(p=this.zoomOption.width||l.getWidth(),q=this.zoomOption.height||this._fillerSize,o=null!=this.zoomOption.x?this.zoomOption.x:l.getX(),r=null!=this.zoomOption.y?this.zoomOption.y:this.zr.getHeight()-q-2):(p=this.zoomOption.width||this._fillerSize,q=this.zoomOption.height||l.getHeight(),o=null!=this.zoomOption.x?this.zoomOption.x:2,r=null!=this.zoomOption.y?this.zoomOption.y:l.getY()),{x:o,y:r,width:p,height:q}},_getZoom:function(){var w=this.option.series,F=this.option.xAxis;!F||F instanceof Array||(F=[F],this.option.xAxis=F);var y=this.option.yAxis;!y||y instanceof Array||(y=[y],this.option.yAxis=y);var B,q,C=[],E=this.zoomOption.xAxisIndex;if(F&&null==E){B=[];for(var z=0,x=F.length;x>z;z++){("category"==F[z].type||null==F[z].type)&&B.push(z)}}else{B=E instanceof Array?E:null!=E?[E]:[]}if(E=this.zoomOption.yAxisIndex,y&&null==E){q=[];for(var z=0,x=y.length;x>z;z++){"category"==y[z].type&&q.push(z)}}else{q=E instanceof Array?E:null!=E?[E]:[]}for(var v,z=0,x=w.length;x>z;z++){if(v=w[z],v.type==j.CHART_TYPE_LINE||v.type==j.CHART_TYPE_BAR||v.type==j.CHART_TYPE_SCATTER||v.type==j.CHART_TYPE_K){for(var r=0,A=B.length;A>r;r++){if(B[r]==(v.xAxisIndex||0)){C.push(z);break}}for(var r=0,A=q.length;A>r;r++){if(q[r]==(v.yAxisIndex||0)){C.push(z);break}}null==this.zoomOption.xAxisIndex&&null==this.zoomOption.yAxisIndex&&v.data&&this.getDataFromOption(v.data[0]) instanceof Array&&(v.type==j.CHART_TYPE_SCATTER||v.type==j.CHART_TYPE_LINE||v.type==j.CHART_TYPE_BAR)&&C.push(z)}}var D=null!=this._zoom.start?this._zoom.start:null!=this.zoomOption.start?this.zoomOption.start:0,G=null!=this._zoom.end?this._zoom.end:null!=this.zoomOption.end?this.zoomOption.end:100;D>G&&(D+=G,G=D-G,D-=G);var H=Math.round((G-D)/100*("horizontal"==this.zoomOption.orient?this._location.width:this._location.height));return{start:D,end:G,start2:0,end2:100,size:H,xAxisIndex:B,yAxisIndex:q,seriesIndex:C,scatterMap:this._zoom.scatterMap||{}}},_backupData:function(){this._originalData={xAxis:{},yAxis:{},series:{}};for(var q=this.option.xAxis,z=this._zoom.xAxisIndex,u=0,w=z.length;w>u;u++){this._originalData.xAxis[z[u]]=q[z[u]].data}for(var p=this.option.yAxis,x=this._zoom.yAxisIndex,u=0,w=x.length;w>u;u++){this._originalData.yAxis[x[u]]=p[x[u]].data}for(var y,v=this.option.series,r=this._zoom.seriesIndex,u=0,w=r.length;w>u;u++){y=v[r[u]],this._originalData.series[r[u]]=y.data,y.data&&this.getDataFromOption(y.data[0]) instanceof Array&&(y.type==j.CHART_TYPE_SCATTER||y.type==j.CHART_TYPE_LINE||y.type==j.CHART_TYPE_BAR)&&(this._backupScale(),this._calculScatterMap(r[u]))}},_calculScatterMap:function(u){this._zoom.scatterMap=this._zoom.scatterMap||{},this._zoom.scatterMap[u]=this._zoom.scatterMap[u]||{};var l=c("../component"),p=l.get("axis"),e=f.clone(this.option.xAxis);"category"==e[0].type&&(e[0].type="value"),e[1]&&"category"==e[1].type&&(e[1].type="value");var q=new p(this.ecTheme,null,!1,{xAxis:e,series:this.option.series},this,"xAxis"),s=this.option.series[u].xAxisIndex||0;this._zoom.scatterMap[u].x=q.getAxis(s).getExtremum(),q.dispose(),e=f.clone(this.option.yAxis),"category"==e[0].type&&(e[0].type="value"),e[1]&&"category"==e[1].type&&(e[1].type="value"),q=new p(this.ecTheme,null,!1,{yAxis:e,series:this.option.series},this,"yAxis"),s=this.option.series[u].yAxisIndex||0,this._zoom.scatterMap[u].y=q.getAxis(s).getExtremum(),q.dispose()},_buildBackground:function(){var v=this._location.width,G=this._location.height;this.shapeList.push(new g({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this._location.x,y:this._location.y,width:v,height:G,color:this.zoomOption.backgroundColor}}));for(var A=0,D=this._originalData.xAxis,F=this._zoom.xAxisIndex,B=0,z=F.length;z>B;B++){A=Math.max(A,D[F[B]].length)}for(var r=this._originalData.yAxis,q=this._zoom.yAxisIndex,B=0,z=q.length;z>B;B++){A=Math.max(A,r[q[B]].length)}for(var C,E=this._zoom.seriesIndex[0],H=this._originalData.series[E],J=Number.MIN_VALUE,I=Number.MAX_VALUE,B=0,z=H.length;z>B;B++){C=this.getDataFromOption(H[B],0),this.option.series[E].type==j.CHART_TYPE_K&&(C=C[1]),isNaN(C)&&(C=0),J=Math.max(J,C),I=Math.min(I,C)}var x=J-I,w=[],K=v/(A-(A>1?1:0)),n=G/(A-(A>1?1:0)),a=1;"horizontal"==this.zoomOption.orient&&1>K?a=Math.floor(3*A/v):"vertical"==this.zoomOption.orient&&1>n&&(a=Math.floor(3*A/G));for(var B=0,z=A;z>B;B+=a){C=this.getDataFromOption(H[B],0),this.option.series[E].type==j.CHART_TYPE_K&&(C=C[1]),isNaN(C)&&(C=0),w.push("horizontal"==this.zoomOption.orient?[this._location.x+K*B,this._location.y+G-1-Math.round((C-I)/x*(G-10))]:[this._location.x+1+Math.round((C-I)/x*(v-10)),this._location.y+n*(z-B-1)])}"horizontal"==this.zoomOption.orient?(w.push([this._location.x+v,this._location.y+G]),w.push([this._location.x,this._location.y+G])):(w.push([this._location.x,this._location.y]),w.push([this._location.x,this._location.y+G])),this.shapeList.push(new b({zlevel:this.getZlevelBase(),z:this.getZBase(),style:{pointList:w,color:this.zoomOption.dataBackgroundColor},hoverable:!1}))},_buildFiller:function(){this._fillerShae={zlevel:this.getZlevelBase(),z:this.getZBase(),draggable:!0,ondrift:this._ondrift,ondragend:this._ondragend,_type:"filler"},this._fillerShae.style="horizontal"==this.zoomOption.orient?{x:this._location.x+Math.round(this._zoom.start/100*this._location.width)+this._handleSize,y:this._location.y,width:this._zoom.size-2*this._handleSize,height:this._location.height,color:this.zoomOption.fillerColor,text:":::",textPosition:"inside"}:{x:this._location.x,y:this._location.y+Math.round(this._zoom.start/100*this._location.height)+this._handleSize,width:this._location.width,height:this._zoom.size-2*this._handleSize,color:this.zoomOption.fillerColor,text:"::",textPosition:"inside"},this._fillerShae.highlightStyle={brushType:"fill",color:"rgba(0,0,0,0)"},this._fillerShae=new g(this._fillerShae),this.shapeList.push(this._fillerShae)},_buildHandle:function(){var a=this.zoomOption.showDetail?this._getDetail():{start:"",end:""};this._startShape={zlevel:this.getZlevelBase(),z:this.getZBase(),draggable:!0,style:{iconType:"rectangle",x:this._location.x,y:this._location.y,width:this._handleSize,height:this._handleSize,color:this.zoomOption.handleColor,text:"=",textPosition:"inside"},highlightStyle:{text:a.start,brushType:"fill",textPosition:"left"},ondrift:this._ondrift,ondragend:this._ondragend},"horizontal"==this.zoomOption.orient?(this._startShape.style.height=this._location.height,this._endShape=f.clone(this._startShape),this._startShape.style.x=this._fillerShae.style.x-this._handleSize,this._endShape.style.x=this._fillerShae.style.x+this._fillerShae.style.width,this._endShape.highlightStyle.text=a.end,this._endShape.highlightStyle.textPosition="right"):(this._startShape.style.width=this._location.width,this._endShape=f.clone(this._startShape),this._startShape.style.y=this._fillerShae.style.y+this._fillerShae.style.height,this._startShape.highlightStyle.textPosition="bottom",this._endShape.style.y=this._fillerShae.style.y-this._handleSize,this._endShape.highlightStyle.text=a.end,this._endShape.highlightStyle.textPosition="top"),this._startShape=new h(this._startShape),this._endShape=new h(this._endShape),this.shapeList.push(this._startShape),this.shapeList.push(this._endShape)},_buildFrame:function(){var a=this.subPixelOptimize(this._location.x,1),i=this.subPixelOptimize(this._location.y,1);this._startFrameShape={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:a,y:i,width:this._location.width-(a>this._location.x?1:0),height:this._location.height-(i>this._location.y?1:0),lineWidth:1,brushType:"stroke",strokeColor:this.zoomOption.handleColor}},this._endFrameShape=f.clone(this._startFrameShape),this._startFrameShape=new g(this._startFrameShape),this._endFrameShape=new g(this._endFrameShape),this.shapeList.push(this._startFrameShape),this.shapeList.push(this._endFrameShape)},_syncHandleShape:function(){"horizontal"==this.zoomOption.orient?(this._startShape.style.x=this._fillerShae.style.x-this._handleSize,this._endShape.style.x=this._fillerShae.style.x+this._fillerShae.style.width,this._zoom.start=(this._startShape.style.x-this._location.x)/this._location.width*100,this._zoom.end=(this._endShape.style.x+this._handleSize-this._location.x)/this._location.width*100):(this._startShape.style.y=this._fillerShae.style.y+this._fillerShae.style.height,this._endShape.style.y=this._fillerShae.style.y-this._handleSize,this._zoom.start=(this._location.y+this._location.height-this._startShape.style.y)/this._location.height*100,this._zoom.end=(this._location.y+this._location.height-this._endShape.style.y-this._handleSize)/this._location.height*100),this.zr.modShape(this._startShape.id),this.zr.modShape(this._endShape.id),this._syncFrameShape(),this.zr.refreshNextFrame()},_syncFillerShape:function(){var a,i;"horizontal"==this.zoomOption.orient?(a=this._startShape.style.x,i=this._endShape.style.x,this._fillerShae.style.x=Math.min(a,i)+this._handleSize,this._fillerShae.style.width=Math.abs(a-i)-this._handleSize,this._zoom.start=(Math.min(a,i)-this._location.x)/this._location.width*100,this._zoom.end=(Math.max(a,i)+this._handleSize-this._location.x)/this._location.width*100):(a=this._startShape.style.y,i=this._endShape.style.y,this._fillerShae.style.y=Math.min(a,i)+this._handleSize,this._fillerShae.style.height=Math.abs(a-i)-this._handleSize,this._zoom.start=(this._location.y+this._location.height-Math.max(a,i))/this._location.height*100,this._zoom.end=(this._location.y+this._location.height-Math.min(a,i)-this._handleSize)/this._location.height*100),this.zr.modShape(this._fillerShae.id),this._syncFrameShape(),this.zr.refreshNextFrame()},_syncFrameShape:function(){"horizontal"==this.zoomOption.orient?(this._startFrameShape.style.width=this._fillerShae.style.x-this._location.x,this._endFrameShape.style.x=this._fillerShae.style.x+this._fillerShae.style.width,this._endFrameShape.style.width=this._location.x+this._location.width-this._endFrameShape.style.x):(this._startFrameShape.style.y=this._fillerShae.style.y+this._fillerShae.style.height,this._startFrameShape.style.height=this._location.y+this._location.height-this._startFrameShape.style.y,this._endFrameShape.style.height=this._fillerShae.style.y-this._location.y),this.zr.modShape(this._startFrameShape.id),this.zr.modShape(this._endFrameShape.id)},_syncShape:function(){this.zoomOption.show&&("horizontal"==this.zoomOption.orient?(this._startShape.style.x=this._location.x+this._zoom.start/100*this._location.width,this._endShape.style.x=this._location.x+this._zoom.end/100*this._location.width-this._handleSize,this._fillerShae.style.x=this._startShape.style.x+this._handleSize,this._fillerShae.style.width=this._endShape.style.x-this._startShape.style.x-this._handleSize):(this._startShape.style.y=this._location.y+this._location.height-this._zoom.start/100*this._location.height,this._endShape.style.y=this._location.y+this._location.height-this._zoom.end/100*this._location.height-this._handleSize,this._fillerShae.style.y=this._endShape.style.y+this._handleSize,this._fillerShae.style.height=this._startShape.style.y-this._endShape.style.y-this._handleSize),this.zr.modShape(this._startShape.id),this.zr.modShape(this._endShape.id),this.zr.modShape(this._fillerShae.id),this._syncFrameShape(),this.zr.refresh())},_syncData:function(q){var y,r,v,p,w;for(var x in this._originalData){y=this._originalData[x];for(var u in y){w=y[u],null!=w&&(p=w.length,r=Math.floor(this._zoom.start/100*p),v=Math.ceil(this._zoom.end/100*p),this.getDataFromOption(w[0]) instanceof Array&&this.option[x][u].type!=j.CHART_TYPE_K?(this._setScale(),this.option[x][u].data=this._synScatterData(u,w)):this.option[x][u].data=w.slice(r,v))}}this._isSilence||!this.zoomOption.realtime&&!q||this.messageCenter.dispatch(j.EVENT.DATA_ZOOM,null,{zoom:this._zoom},this.myChart)},_synScatterData:function(v,E){if(0===this._zoom.start&&100==this._zoom.end&&0===this._zoom.start2&&100==this._zoom.end2){return E}var x,A,p,B,C,D=[],y=this._zoom.scatterMap[v];"horizontal"==this.zoomOption.orient?(x=y.x.max-y.x.min,A=this._zoom.start/100*x+y.x.min,p=this._zoom.end/100*x+y.x.min,x=y.y.max-y.y.min,B=this._zoom.start2/100*x+y.y.min,C=this._zoom.end2/100*x+y.y.min):(x=y.x.max-y.x.min,A=this._zoom.start2/100*x+y.x.min,p=this._zoom.end2/100*x+y.x.min,x=y.y.max-y.y.min,B=this._zoom.start/100*x+y.y.min,C=this._zoom.end/100*x+y.y.min);var w;(w=y.x.dataMappingMethods)&&(A=w.coord2Value(A),p=w.coord2Value(p)),(w=y.y.dataMappingMethods)&&(B=w.coord2Value(B),C=w.coord2Value(C));for(var u,q=0,z=E.length;z>q;q++){u=E[q].value||E[q],u[0]>=A&&u[0]<=p&&u[1]>=B&&u[1]<=C&&D.push(E[q])}return D},_setScale:function(){var o=0!==this._zoom.start||100!==this._zoom.end||0!==this._zoom.start2||100!==this._zoom.end2,r={xAxis:this.option.xAxis,yAxis:this.option.yAxis};for(var p in r){for(var q=0,l=r[p].length;l>q;q++){r[p][q].scale=o||r[p][q]._scale}}},_backupScale:function(){var a={xAxis:this.option.xAxis,yAxis:this.option.yAxis};for(var p in a){for(var l=0,o=a[p].length;o>l;l++){a[p][l]._scale=a[p][l].scale}}},_getDetail:function(){for(var w=["xAxis","yAxis"],F=0,y=w.length;y>F;F++){var B=this._originalData[w[F]];for(var q in B){var C=B[q];if(null!=C){var E=C.length,z=Math.floor(this._zoom.start/100*E),x=Math.ceil(this._zoom.end/100*E);return x-=x>0?1:0,{start:this.getDataFromOption(C[z]),end:this.getDataFromOption(C[x])}}}}w="horizontal"==this.zoomOption.orient?"xAxis":"yAxis";var v=this._zoom.seriesIndex[0],s=this.option.series[v][w+"Index"]||0,A=this.option[w][s].type,D=this._zoom.scatterMap[v][w.charAt(0)].min,G=this._zoom.scatterMap[v][w.charAt(0)].max,I=G-D;if("value"==A){return{start:D+I*this._zoom.start/100,end:D+I*this._zoom.end/100}}if("time"==A){G=D+I*this._zoom.end/100,D+=I*this._zoom.start/100;var H=k.getAutoFormatter(D,G).formatter;return{start:k.format(H,D),end:k.format(H,G)}}return{start:"",end:""}},__ondrift:function(o,r,p){this.zoomOption.zoomLock&&(o=this._fillerShae);var q="filler"==o._type?this._handleSize:0;if("horizontal"==this.zoomOption.orient?o.style.x+r-q<=this._location.x?o.style.x=this._location.x+q:o.style.x+r+o.style.width+q>=this._location.x+this._location.width?o.style.x=this._location.x+this._location.width-o.style.width-q:o.style.x+=r:o.style.y+p-q<=this._location.y?o.style.y=this._location.y+q:o.style.y+p+o.style.height+q>=this._location.y+this._location.height?o.style.y=this._location.y+this._location.height-o.style.height-q:o.style.y+=p,"filler"==o._type?this._syncHandleShape():this._syncFillerShape(),this.zoomOption.realtime&&this._syncData(),this.zoomOption.showDetail){var l=this._getDetail();this._startShape.style.text=this._startShape.highlightStyle.text=l.start,this._endShape.style.text=this._endShape.highlightStyle.text=l.end,this._startShape.style.textPosition=this._startShape.highlightStyle.textPosition,this._endShape.style.textPosition=this._endShape.highlightStyle.textPosition}return !0},__ondragend:function(){this.zoomOption.showDetail&&(this._startShape.style.text=this._endShape.style.text="=",this._startShape.style.textPosition=this._endShape.style.textPosition="inside",this.zr.modShape(this._startShape.id),this.zr.modShape(this._endShape.id),this.zr.refreshNextFrame()),this.isDragend=!0},ondragend:function(a,i){this.isDragend&&a.target&&(!this.zoomOption.realtime&&this._syncData(),i.dragOut=!0,i.dragIn=!0,this._isSilence||this.zoomOption.realtime||this.messageCenter.dispatch(j.EVENT.DATA_ZOOM,null,{zoom:this._zoom},this.myChart),i.needRefresh=!1,this.isDragend=!1)},ondataZoom:function(a,i){i.needRefresh=!0},absoluteZoom:function(a){this._zoom.start=a.start,this._zoom.end=a.end,this._zoom.start2=a.start2,this._zoom.end2=a.end2,this._syncShape(),this._syncData(!0)},rectZoom:function(p){if(!p){return this._zoom.start=this._zoom.start2=0,this._zoom.end=this._zoom.end2=100,this._syncShape(),this._syncData(!0),this._zoom}var y=this.component.grid.getArea(),q={x:p.x,y:p.y,width:p.width,height:p.height};if(q.width<0&&(q.x+=q.width,q.width=-q.width),q.height<0&&(q.y+=q.height,q.height=-q.height),q.x>y.x+y.width||q.y>y.y+y.height){return !1}q.x<y.x&&(q.x=y.x),q.x+q.width>y.x+y.width&&(q.width=y.x+y.width-q.x),q.y+q.height>y.y+y.height&&(q.height=y.y+y.height-q.y);var u,l=(q.x-y.x)/y.width,v=1-(q.x+q.width-y.x)/y.width,w=1-(q.y+q.height-y.y)/y.height,x=(q.y-y.y)/y.height;return"horizontal"==this.zoomOption.orient?(u=this._zoom.end-this._zoom.start,this._zoom.start+=u*l,this._zoom.end-=u*v,u=this._zoom.end2-this._zoom.start2,this._zoom.start2+=u*w,this._zoom.end2-=u*x):(u=this._zoom.end-this._zoom.start,this._zoom.start+=u*w,this._zoom.end-=u*x,u=this._zoom.end2-this._zoom.start2,this._zoom.start2+=u*l,this._zoom.end2-=u*v),this._syncShape(),this._syncData(!0),this._zoom},syncBackupData:function(q){for(var A,u,w=this._originalData.series,p=q.series,x=0,y=p.length;y>x;x++){u=p[x].data||p[x].eventList,A=w[x]?Math.floor(this._zoom.start/100*w[x].length):0;for(var z=0,v=u.length;v>z;z++){w[x]&&(w[x][z+A]=u[z])}}},syncOption:function(a){this.silence(!0),this.option=a,this.option.dataZoom=this.reformOption(this.option.dataZoom),this.zoomOption=this.option.dataZoom,this.myChart.canvasSupported||(this.zoomOption.realtime=!1),this.clear(),this._location=this._getLocation(),this._zoom=this._getZoom(),this._backupData(),this.option.dataZoom&&this.option.dataZoom.show&&this._buildShape(),this._syncData(),this.silence(!1)},silence:function(a){this._isSilence=a},getRealDataIndex:function(a,n){if(!this._originalData||0===this._zoom.start&&100==this._zoom.end){return n}var l=this._originalData.series;return l[a]?Math.floor(this._zoom.start/100*l[a].length)+n:-1},resize:function(){this.clear(),this._location=this._getLocation(),this._zoom=this._getZoom(),this.option.dataZoom.show&&this._buildShape()}},f.inherits(m,d),c("../component").define("dataZoom",m),m}),define("echarts/component/categoryAxis",["require","./base","zrender/shape/Text","zrender/shape/Line","zrender/shape/Rectangle","../config","zrender/tool/util","zrender/tool/area","../component"],function(c){function m(l,w,p,i,q,u){if(i.data.length<1){return void console.error("option.data.length < 1.")}d.call(this,l,w,p,i,q),this.grid=this.component.grid;for(var v in u){this[v]=u[v]}this.refresh(i)}var d=c("./base"),g=c("zrender/shape/Text"),b=c("zrender/shape/Line"),h=c("zrender/shape/Rectangle"),j=c("../config");j.categoryAxis={zlevel:0,z:0,show:!0,position:"bottom",name:"",nameLocation:"end",nameTextStyle:{},boundaryGap:!0,axisLine:{show:!0,onZero:!0,lineStyle:{color:"#48b",width:2,type:"solid"}},axisTick:{show:!0,interval:"auto",inside:!1,length:5,lineStyle:{color:"#333",width:1}},axisLabel:{show:!0,interval:"auto",rotate:0,margin:8,textStyle:{color:"#333"}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}};var k=c("zrender/tool/util"),f=c("zrender/tool/area");return m.prototype={type:j.COMPONENT_TYPE_AXIS_CATEGORY,_getReformedLabel:function(a){var n=this.getDataFromOption(this.option.data[a]),l=this.option.data[a].formatter||this.option.axisLabel.formatter;return l&&("function"==typeof l?n=l.call(this.myChart,n):"string"==typeof l&&(n=l.replace("{value}",n))),n},_getInterval:function(){var v=this.option.axisLabel.interval;if("auto"==v){var D=this.option.axisLabel.textStyle.fontSize,x=this.option.data,z=this.option.data.length;if(this.isHorizontal()){if(z>3){var l,A,C=this.getGap(),w=!1,s=Math.floor(0.5/C);for(s=1>s?1:s,v=Math.floor(15/C);!w&&z>v;){v+=s,w=!0,l=Math.floor(C*v);for(var q=Math.floor((z-1)/v)*v;q>=0;q-=v){if(0!==this.option.axisLabel.rotate){A=D}else{if(x[q].textStyle){A=f.getTextWidth(this._getReformedLabel(q),this.getFont(k.merge(x[q].textStyle,this.option.axisLabel.textStyle)))}else{var y=this._getReformedLabel(q)+"",B=(y.match(/\w/g)||"").length,E=y.length-B;A=B*D*2/3+E*D}}if(A>l){w=!1;break}}}}else{v=1}}else{if(z>3){var C=this.getGap();for(v=Math.floor(11/C);D>C*v-6&&z>v;){v++}}else{v=1}}}else{v="function"==typeof v?1:v-0+1}return v},_buildShape:function(){if(this._interval=this._getInterval(),this.option.show){this.option.splitArea.show&&this._buildSplitArea(),this.option.splitLine.show&&this._buildSplitLine(),this.option.axisLine.show&&this._buildAxisLine(),this.option.axisTick.show&&this._buildAxisTick(),this.option.axisLabel.show&&this._buildAxisLabel();for(var a=0,i=this.shapeList.length;i>a;a++){this.zr.addShape(this.shapeList[a])}}},_buildAxisTick:function(){var v,G=this.option.data,y=this.option.data.length,B=this.option.axisTick,C=B.length,E=B.lineStyle.color,F=B.lineStyle.width,z="function"==typeof B.interval?B.interval:"auto"==B.interval&&"function"==typeof this.option.axisLabel.interval?this.option.axisLabel.interval:!1,x=z?1:"auto"==B.interval?this._interval:B.interval-0+1,q=B.onGap,a=q?this.getGap()/2:"undefined"==typeof q&&this.option.boundaryGap?this.getGap()/2:0,A=a>0?-x:0;if(this.isHorizontal()){for(var D,H="bottom"==this.option.position?B.inside?this.grid.getYend()-C-1:this.grid.getYend()+1:B.inside?this.grid.getY()+1:this.grid.getY()-C-1,J=A;y>J;J+=x){(!z||z(J,G[J]))&&(D=this.subPixelOptimize(this.getCoordByIndex(J)+(J>=0?a:0),F),v={_axisShape:"axisTick",zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:D,yStart:H,xEnd:D,yEnd:H+C,strokeColor:E,lineWidth:F}},this.shapeList.push(new b(v)))}}else{for(var I,w="left"==this.option.position?B.inside?this.grid.getX()+1:this.grid.getX()-C-1:B.inside?this.grid.getXend()-C-1:this.grid.getXend()+1,J=A;y>J;J+=x){(!z||z(J,G[J]))&&(I=this.subPixelOptimize(this.getCoordByIndex(J)-(J>=0?a:0),F),v={_axisShape:"axisTick",zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:w,yStart:I,xEnd:w+C,yEnd:I,strokeColor:E,lineWidth:F}},this.shapeList.push(new b(v)))}}},_buildAxisLabel:function(){var v,D,x=this.option.data,n=this.option.data.length,A=this.option.axisLabel,C=A.rotate,y=A.margin,w=A.clickable,s=A.textStyle,q="function"==typeof A.interval?A.interval:!1;if(this.isHorizontal()){var z,B;"bottom"==this.option.position?(z=this.grid.getYend()+y,B="top"):(z=this.grid.getY()-y,B="bottom");for(var E=0;n>E;E+=this._interval){q&&!q(E,x[E])||""===this._getReformedLabel(E)||(D=k.merge(x[E].textStyle||{},s),v={zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:!1,style:{x:this.getCoordByIndex(E),y:z,color:D.color,text:this._getReformedLabel(E),textFont:this.getFont(D),textAlign:D.align||"center",textBaseline:D.baseline||B}},C&&(v.style.textAlign=C>0?"bottom"==this.option.position?"right":"left":"bottom"==this.option.position?"left":"right",v.rotation=[C*Math.PI/180,v.style.x,v.style.y]),this.shapeList.push(new g(this._axisLabelClickable(w,v))))}}else{var G,F;"left"==this.option.position?(G=this.grid.getX()-y,F="right"):(G=this.grid.getXend()+y,F="left");for(var E=0;n>E;E+=this._interval){q&&!q(E,x[E])||""===this._getReformedLabel(E)||(D=k.merge(x[E].textStyle||{},s),v={zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:!1,style:{x:G,y:this.getCoordByIndex(E),color:D.color,text:this._getReformedLabel(E),textFont:this.getFont(D),textAlign:D.align||F,textBaseline:D.baseline||0===E&&""!==this.option.name?"bottom":E==n-1&&""!==this.option.name?"top":"middle"}},C&&(v.rotation=[C*Math.PI/180,v.style.x,v.style.y]),this.shapeList.push(new g(this._axisLabelClickable(w,v))))}}},_buildSplitLine:function(){var v,H=this.option.data,z=this.option.data.length,C=this.option.splitLine,D=C.lineStyle.type,F=C.lineStyle.width,G=C.lineStyle.color;G=G instanceof Array?G:[G];var A=G.length,y="function"==typeof this.option.axisLabel.interval?this.option.axisLabel.interval:!1,q=C.onGap,a=q?this.getGap()/2:"undefined"==typeof q&&this.option.boundaryGap?this.getGap()/2:0;if(z-=q||"undefined"==typeof q&&this.option.boundaryGap?1:0,this.isHorizontal()){for(var B,E=this.grid.getY(),I=this.grid.getYend(),K=0;z>K;K+=this._interval){(!y||y(K,H[K]))&&(B=this.subPixelOptimize(this.getCoordByIndex(K)+a,F),v={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:B,yStart:E,xEnd:B,yEnd:I,strokeColor:G[K/this._interval%A],lineType:D,lineWidth:F}},this.shapeList.push(new b(v)))}}else{for(var J,x=this.grid.getX(),w=this.grid.getXend(),K=0;z>K;K+=this._interval){(!y||y(K,H[K]))&&(J=this.subPixelOptimize(this.getCoordByIndex(K)-a,F),v={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:x,yStart:J,xEnd:w,yEnd:J,strokeColor:G[K/this._interval%A],lineType:D,lineWidth:F}},this.shapeList.push(new b(v)))}}},_buildSplitArea:function(){var w,H=this.option.data,A=this.option.splitArea,D=A.areaStyle.color;if(D instanceof Array){var o=D.length,F=this.option.data.length,G="function"==typeof this.option.axisLabel.interval?this.option.axisLabel.interval:!1,B=A.onGap,z=B?this.getGap()/2:"undefined"==typeof B&&this.option.boundaryGap?this.getGap()/2:0;if(this.isHorizontal()){for(var v,q=this.grid.getY(),C=this.grid.getHeight(),E=this.grid.getX(),I=0;F>=I;I+=this._interval){G&&!G(I,H[I])&&F>I||(v=F>I?this.getCoordByIndex(I)+z:this.grid.getXend(),w={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:E,y:q,width:v-E,height:C,color:D[I/this._interval%o]}},this.shapeList.push(new h(w)),E=v)}}else{for(var K,J=this.grid.getX(),y=this.grid.getWidth(),x=this.grid.getYend(),I=0;F>=I;I+=this._interval){G&&!G(I,H[I])&&F>I||(K=F>I?this.getCoordByIndex(I)-z:this.grid.getY(),w={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:J,y:K,width:y,height:x-K,color:D[I/this._interval%o]}},this.shapeList.push(new h(w)),x=K)}}}else{w={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this.grid.getX(),y:this.grid.getY(),width:this.grid.getWidth(),height:this.grid.getHeight(),color:D}},this.shapeList.push(new h(w))}},refresh:function(a){a&&(this.option=this.reformOption(a),this.option.axisLabel.textStyle=this.getTextStyle(this.option.axisLabel.textStyle)),this.clear(),this._buildShape()},getGap:function(){var a=this.option.data.length,i=this.isHorizontal()?this.grid.getWidth():this.grid.getHeight();return this.option.boundaryGap?i/a:i/(a>1?a-1:1)},getCoord:function(p){for(var u=this.option.data,q=u.length,r=this.getGap(),l=this.option.boundaryGap?r/2:0,s=0;q>s;s++){if(this.getDataFromOption(u[s])==p){return l=this.isHorizontal()?this.grid.getX()+l:this.grid.getYend()-l}l+=r}},getCoordByIndex:function(a){if(0>a){return this.isHorizontal()?this.grid.getX():this.grid.getYend()}if(a>this.option.data.length-1){return this.isHorizontal()?this.grid.getXend():this.grid.getY()}var n=this.getGap(),l=this.option.boundaryGap?n/2:0;return l+=a*n,l=this.isHorizontal()?this.grid.getX()+l:this.grid.getYend()-l},getNameByIndex:function(a){return this.getDataFromOption(this.option.data[a])},getIndexByName:function(a){for(var p=this.option.data,l=p.length,o=0;l>o;o++){if(this.getDataFromOption(p[o])==a){return o}}return -1},getValueFromCoord:function(){return""},isMainAxis:function(a){return a%this._interval===0}},k.inherits(m,d),c("../component").define("categoryAxis",m),m}),define("echarts/component/valueAxis",["require","./base","zrender/shape/Text","zrender/shape/Line","zrender/shape/Rectangle","../config","../util/date","zrender/tool/util","../util/smartSteps","../util/accMath","../util/smartLogSteps","../component"],function(c){function m(p,y,u,i,v,w,x){if(!x||0===x.length){return void console.err("option.series.length == 0.")}d.call(this,p,y,u,i,v),this.series=x,this.grid=this.component.grid;for(var q in w){this[q]=w[q]}this.refresh(i,x)}var d=c("./base"),g=c("zrender/shape/Text"),b=c("zrender/shape/Line"),h=c("zrender/shape/Rectangle"),j=c("../config");j.valueAxis={zlevel:0,z:0,show:!0,position:"left",name:"",nameLocation:"end",nameTextStyle:{},boundaryGap:[0,0],axisLine:{show:!0,onZero:!0,lineStyle:{color:"#48b",width:2,type:"solid"}},axisTick:{show:!1,inside:!1,length:5,lineStyle:{color:"#333",width:1}},axisLabel:{show:!0,rotate:0,margin:8,textStyle:{color:"#333"}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}};var k=c("../util/date"),f=c("zrender/tool/util");return m.prototype={type:j.COMPONENT_TYPE_AXIS_VALUE,_buildShape:function(){if(this._hasData=!1,this._calculateValue(),this._hasData&&this.option.show){this.option.splitArea.show&&this._buildSplitArea(),this.option.splitLine.show&&this._buildSplitLine(),this.option.axisLine.show&&this._buildAxisLine(),this.option.axisTick.show&&this._buildAxisTick(),this.option.axisLabel.show&&this._buildAxisLabel();for(var a=0,i=this.shapeList.length;i>a;a++){this.zr.addShape(this.shapeList[a])}}},_buildAxisTick:function(){var q,C=this._valueList,v=this._valueList.length,y=this.option.axisTick,z=y.length,A=y.lineStyle.color,B=y.lineStyle.width;if(this.isHorizontal()){for(var w,u="bottom"===this.option.position?y.inside?this.grid.getYend()-z-1:this.grid.getYend()+1:y.inside?this.grid.getY()+1:this.grid.getY()-z-1,p=0;v>p;p++){w=this.subPixelOptimize(this.getCoord(C[p]),B),q={_axisShape:"axisTick",zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:w,yStart:u,xEnd:w,yEnd:u+z,strokeColor:A,lineWidth:B}},this.shapeList.push(new b(q))}}else{for(var a,x="left"===this.option.position?y.inside?this.grid.getX()+1:this.grid.getX()-z-1:y.inside?this.grid.getXend()-z-1:this.grid.getXend()+1,p=0;v>p;p++){a=this.subPixelOptimize(this.getCoord(C[p]),B),q={_axisShape:"axisTick",zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:x,yStart:a,xEnd:x+z,yEnd:a,strokeColor:A,lineWidth:B}},this.shapeList.push(new b(q))}}},_buildAxisLabel:function(){var u,C=this._valueList,w=this._valueList.length,n=this.option.axisLabel.rotate,z=this.option.axisLabel.margin,A=this.option.axisLabel.clickable,B=this.option.axisLabel.textStyle;if(this.isHorizontal()){var x,v;"bottom"===this.option.position?(x=this.grid.getYend()+z,v="top"):(x=this.grid.getY()-z,v="bottom");for(var q=0;w>q;q++){u={zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:!1,style:{x:this.getCoord(C[q]),y:x,color:"function"==typeof B.color?B.color(C[q]):B.color,text:this._valueLabel[q],textFont:this.getFont(B),textAlign:B.align||"center",textBaseline:B.baseline||v}},n&&(u.style.textAlign=n>0?"bottom"===this.option.position?"right":"left":"bottom"===this.option.position?"left":"right",u.rotation=[n*Math.PI/180,u.style.x,u.style.y]),this.shapeList.push(new g(this._axisLabelClickable(A,u)))}}else{var p,y;"left"===this.option.position?(p=this.grid.getX()-z,y="right"):(p=this.grid.getXend()+z,y="left");for(var q=0;w>q;q++){u={zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:!1,style:{x:p,y:this.getCoord(C[q]),color:"function"==typeof B.color?B.color(C[q]):B.color,text:this._valueLabel[q],textFont:this.getFont(B),textAlign:B.align||y,textBaseline:B.baseline||(0===q&&""!==this.option.name?"bottom":q===w-1&&""!==this.option.name?"top":"middle")}},n&&(u.rotation=[n*Math.PI/180,u.style.x,u.style.y]),this.shapeList.push(new g(this._axisLabelClickable(A,u)))}}},_buildSplitLine:function(){var v,F=this._valueList,x=this._valueList.length,A=this.option.splitLine,B=A.lineStyle.type,D=A.lineStyle.width,E=A.lineStyle.color;E=E instanceof Array?E:[E];var y=E.length;if(this.isHorizontal()){for(var w,q=this.grid.getY(),a=this.grid.getYend(),z=0;x>z;z++){w=this.subPixelOptimize(this.getCoord(F[z]),D),v={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:w,yStart:q,xEnd:w,yEnd:a,strokeColor:E[z%y],lineType:B,lineWidth:D}},this.shapeList.push(new b(v))}}else{for(var C,G=this.grid.getX(),H=this.grid.getXend(),z=0;x>z;z++){C=this.subPixelOptimize(this.getCoord(F[z]),D),v={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:G,yStart:C,xEnd:H,yEnd:C,strokeColor:E[z%y],lineType:B,lineWidth:D}},this.shapeList.push(new b(v))}}},_buildSplitArea:function(){var w,F=this.option.splitArea.areaStyle.color;if(F instanceof Array){var y=F.length,B=this._valueList,o=this._valueList.length;if(this.isHorizontal()){for(var D,E=this.grid.getY(),z=this.grid.getHeight(),x=this.grid.getX(),v=0;o>=v;v++){D=o>v?this.getCoord(B[v]):this.grid.getXend(),w={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:x,y:E,width:D-x,height:z,color:F[v%y]}},this.shapeList.push(new h(w)),x=D}}else{for(var q,A=this.grid.getX(),C=this.grid.getWidth(),G=this.grid.getYend(),v=0;o>=v;v++){q=o>v?this.getCoord(B[v]):this.grid.getY(),w={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:A,y:q,width:C,height:G-q,color:F[v%y]}},this.shapeList.push(new h(w)),G=q}}}else{w={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this.grid.getX(),y:this.grid.getY(),width:this.grid.getWidth(),height:this.grid.getHeight(),color:F}},this.shapeList.push(new h(w))}},_calculateValue:function(){if(isNaN(this.option.min-0)||isNaN(this.option.max-0)){for(var u,B,w={},y=this.component.legend,p=0,z=this.series.length;z>p;p++){!(this.series[p].type!=j.CHART_TYPE_LINE&&this.series[p].type!=j.CHART_TYPE_BAR&&this.series[p].type!=j.CHART_TYPE_SCATTER&&this.series[p].type!=j.CHART_TYPE_K&&this.series[p].type!=j.CHART_TYPE_EVENTRIVER||y&&!y.isSelected(this.series[p].name)||(u=this.series[p].xAxisIndex||0,B=this.series[p].yAxisIndex||0,this.option.xAxisIndex!=u&&this.option.yAxisIndex!=B||!this._calculSum(w,p)))}var A;for(var p in w){A=w[p];for(var x=0,v=A.length;v>x;x++){if(!isNaN(A[x])){this._hasData=!0,this._min=A[x],this._max=A[x];break}}if(this._hasData){break}}for(var p in w){A=w[p];for(var x=0,v=A.length;v>x;x++){isNaN(A[x])||(this._min=Math.min(this._min,A[x]),this._max=Math.max(this._max,A[x]))}}var r="log"!==this.option.type?this.option.boundaryGap:[0,0],q=Math.abs(this._max-this._min);this._min=isNaN(this.option.min-0)?this._min-Math.abs(q*r[0]):this.option.min-0,this._max=isNaN(this.option.max-0)?this._max+Math.abs(q*r[1]):this.option.max-0,this._min===this._max&&(0===this._max?this._max=1:this._max>0?this._min=this._max/this.option.splitNumber!=null?this.option.splitNumber:5:this._max=this._max/this.option.splitNumber!=null?this.option.splitNumber:5),"time"===this.option.type?this._reformTimeValue():"log"===this.option.type?this._reformLogValue():this._reformValue(this.option.scale)}else{this._hasData=!0,this._min=this.option.min-0,this._max=this.option.max-0,"time"===this.option.type?this._reformTimeValue():"log"===this.option.type?this._reformLogValue():this._customerValue()}},_calculSum:function(u,C){var w,z,q=this.series[C].name||"kener";if(this.series[C].stack){var A="__Magic_Key_Positive__"+this.series[C].stack,x="__Magic_Key_Negative__"+this.series[C].stack;u[A]=u[A]||[],u[x]=u[x]||[],u[q]=u[q]||[],z=this.series[C].data;for(var v=0,s=z.length;s>v;v++){w=this.getDataFromOption(z[v]),"-"!==w&&(w-=0,w>=0?null!=u[A][v]?u[A][v]+=w:u[A][v]=w:null!=u[x][v]?u[x][v]+=w:u[x][v]=w,this.option.scale&&u[q].push(w))}}else{if(u[q]=u[q]||[],this.series[C].type!=j.CHART_TYPE_EVENTRIVER){z=this.series[C].data;for(var v=0,s=z.length;s>v;v++){w=this.getDataFromOption(z[v]),this.series[C].type===j.CHART_TYPE_K?(u[q].push(w[0]),u[q].push(w[1]),u[q].push(w[2]),u[q].push(w[3])):w instanceof Array?(-1!=this.option.xAxisIndex&&u[q].push("time"!=this.option.type?w[0]:k.getNewDate(w[0])),-1!=this.option.yAxisIndex&&u[q].push("time"!=this.option.type?w[1]:k.getNewDate(w[1]))):u[q].push(w)}}else{z=this.series[C].data;for(var v=0,s=z.length;s>v;v++){for(var r=z[v].evolution,y=0,B=r.length;B>y;y++){u[q].push(k.getNewDate(r[y].time))}}}}},_reformValue:function(p){var l=c("../util/smartSteps"),o=this.option.splitNumber;!p&&this._min>=0&&this._max>=0&&(this._min=0),!p&&this._min<=0&&this._max<=0&&(this._max=0);var e=l(this._min,this._max,o);o=null!=o?o:e.secs,this._min=e.min,this._max=e.max,this._valueList=e.pnts,this._reformLabelData()},_reformTimeValue:function(){var o=null!=this.option.splitNumber?this.option.splitNumber:5,r=k.getAutoFormatter(this._min,this._max,o),p=r.formatter,q=r.gapValue;this._valueList=[k.getNewDate(this._min)];var l;switch(p){case"week":l=k.nextMonday(this._min);break;case"month":l=k.nextNthOnMonth(this._min,1);break;case"quarter":l=k.nextNthOnQuarterYear(this._min,1);break;case"half-year":l=k.nextNthOnHalfYear(this._min,1);break;case"year":l=k.nextNthOnYear(this._min,1);break;default:7200000>=q?l=(Math.floor(this._min/q)+1)*q:(l=k.getNewDate(this._min- -q),l.setHours(6*Math.round(l.getHours()/6)),l.setMinutes(0),l.setSeconds(0))}for(l-this._min<q/2&&(l-=-q),r=k.getNewDate(l),o*=1.5;o-->=0&&(("month"==p||"quarter"==p||"half-year"==p||"year"==p)&&r.setDate(1),!(this._max-r<q/2));){this._valueList.push(r),r=k.getNewDate(r- -q)}this._valueList.push(k.getNewDate(this._max)),this._reformLabelData(function(a){return function(e){return k.format(a,e)}}(p))},_customerValue:function(){var p=c("../util/accMath"),l=null!=this.option.splitNumber?this.option.splitNumber:5,o=(this._max-this._min)/l;this._valueList=[];for(var e=0;l>=e;e++){this._valueList.push(p.accAdd(this._min,p.accMul(o,e)))}this._reformLabelData()},_reformLogValue:function(){var e=this.option,a=c("../util/smartLogSteps")({dataMin:this._min,dataMax:this._max,logPositive:e.logPositive,logLabelBase:e.logLabelBase,splitNumber:e.splitNumber});this._min=a.dataMin,this._max=a.dataMax,this._valueList=a.tickList,this._dataMappingMethods=a.dataMappingMethods,this._reformLabelData(a.labelFormatter)},_reformLabelData:function(a){this._valueLabel=[];var p=this.option.axisLabel.formatter;if(p){for(var l=0,o=this._valueList.length;o>l;l++){"function"==typeof p?this._valueLabel.push(a?p.call(this.myChart,this._valueList[l],a):p.call(this.myChart,this._valueList[l])):"string"==typeof p&&this._valueLabel.push(a?k.format(p,this._valueList[l]):p.replace("{value}",this._valueList[l]))}}else{for(var l=0,o=this._valueList.length;o>l;l++){this._valueLabel.push(a?a(this._valueList[l]):this.numAddCommas(this._valueList[l]))}}},getExtremum:function(){this._calculateValue();var a=this._dataMappingMethods;return{min:this._min,max:this._max,dataMappingMethods:a?f.merge({},a):null}},refresh:function(a,i){a&&(this.option=this.reformOption(a),this.option.axisLabel.textStyle=f.merge(this.option.axisLabel.textStyle||{},this.ecTheme.textStyle),this.series=i),this.zr&&(this.clear(),this._buildShape())},getCoord:function(a){this._dataMappingMethods&&(a=this._dataMappingMethods.value2Coord(a)),a=a<this._min?this._min:a,a=a>this._max?this._max:a;var i;return i=this.isHorizontal()?this.grid.getX()+(a-this._min)/(this._max-this._min)*this.grid.getWidth():this.grid.getYend()-(a-this._min)/(this._max-this._min)*this.grid.getHeight()},getCoordSize:function(a){return Math.abs(this.isHorizontal()?a/(this._max-this._min)*this.grid.getWidth():a/(this._max-this._min)*this.grid.getHeight())},getValueFromCoord:function(a){var i;return this.isHorizontal()?(a=a<this.grid.getX()?this.grid.getX():a,a=a>this.grid.getXend()?this.grid.getXend():a,i=this._min+(a-this.grid.getX())/this.grid.getWidth()*(this._max-this._min)):(a=a<this.grid.getY()?this.grid.getY():a,a=a>this.grid.getYend()?this.grid.getYend():a,i=this._max-(a-this.grid.getY())/this.grid.getHeight()*(this._max-this._min)),this._dataMappingMethods&&(i=this._dataMappingMethods.coord2Value(i)),i.toFixed(2)-0},isMaindAxis:function(a){for(var n=0,l=this._valueList.length;l>n;n++){if(this._valueList[n]===a){return !0}}return !1}},f.inherits(m,d),c("../component").define("valueAxis",m),m}),define("echarts/util/date",[],function(){function f(h,C,w){w=w>1?w:2;for(var y,d,z,A,B=0,x=c.length;x>B;B++){if(y=c[B].value,d=Math.ceil(C/y)*y-Math.floor(h/y)*y,Math.round(d/y)<=1.2*w){z=c[B].formatter,A=c[B].value;break}}return null==z&&(z="year",y=31708800000,d=Math.ceil(C/y)*y-Math.floor(h/y)*y,A=Math.round(d/(w-1)/y)*y),{formatter:z,gapValue:A}}function v(a){return 10>a?"0"+a:a}function j(w,x){("week"==w||"month"==w||"quarter"==w||"half-year"==w||"year"==w)&&(w="MM - dd\nyyyy");var z=g(x),h=z.getFullYear(),A=z.getMonth()+1,B=z.getDate(),C=z.getHours(),y=z.getMinutes(),t=z.getSeconds();return w=w.replace("MM",v(A)),w=w.toLowerCase(),w=w.replace("yyyy",h),w=w.replace("yy",h%100),w=w.replace("dd",v(B)),w=w.replace("d",B),w=w.replace("hh",v(C)),w=w.replace("h",C),w=w.replace("mm",v(y)),w=w.replace("m",y),w=w.replace("ss",v(t)),w=w.replace("s",t)}function m(a){return a=g(a),a.setDate(a.getDate()+8-a.getDay()),a}function b(a,h,d){return a=g(a),a.setMonth(Math.ceil((a.getMonth()+1)/d)*d),a.setDate(h),a}function p(a,d){return b(a,d,1)}function q(a,d){return b(a,d,3)}function u(a,d){return b(a,d,6)}function k(a,d){return b(a,d,12)}function g(a){return a instanceof Date?a:new Date("string"==typeof a?a.replace(/-/g,"/"):a)}var c=[{formatter:"hh : mm : ss",value:1000},{formatter:"hh : mm : ss",value:5000},{formatter:"hh : mm : ss",value:10000},{formatter:"hh : mm : ss",value:15000},{formatter:"hh : mm : ss",value:30000},{formatter:"hh : mm\nMM - dd",value:60000},{formatter:"hh : mm\nMM - dd",value:300000},{formatter:"hh : mm\nMM - dd",value:600000},{formatter:"hh : mm\nMM - dd",value:900000},{formatter:"hh : mm\nMM - dd",value:1800000},{formatter:"hh : mm\nMM - dd",value:3600000},{formatter:"hh : mm\nMM - dd",value:7200000},{formatter:"hh : mm\nMM - dd",value:21600000},{formatter:"hh : mm\nMM - dd",value:43200000},{formatter:"MM - dd\nyyyy",value:86400000},{formatter:"week",value:604800000},{formatter:"month",value:2678400000},{formatter:"quarter",value:8208000000},{formatter:"half-year",value:16416000000},{formatter:"year",value:32832000000}];return{getAutoFormatter:f,getNewDate:g,format:j,nextMonday:m,nextNthPerNmonth:b,nextNthOnMonth:p,nextNthOnQuarterYear:q,nextNthOnHalfYear:u,nextNthOnYear:k}}),define("echarts/util/smartSteps",[],function(){function C(a){return ae.log(Y(a))/ae.LN10}function Z(a){return ae.pow(10,a)}function G(a){return a===ah(a)}function O(c,g,d,b){ai=b||{},z=ai.steps||ac,j=ai.secs||M,d=af(+d||0)%99,c=+c||0,g=+g||0,ag=J=0,"min" in ai&&(c=+ai.min||0,ag=1),"max" in ai&&(g=+ai.max||0,J=1),c>g&&(g=[c,c=g][0]);var f=g-c;if(ag&&J){return D(c,g,d)}if((d||5)>f){if(G(c)&&G(g)){return Q(c,g,d)}if(0===f){return aa(c,g,d)}}return F(c,g,d)}function q(k,r,w,b){b=b||0;var y=P((r-k)/w,-1),t=P(k,-1,1),o=P(r,-1),g=ae.min(y.e,t.e,o.e);0===t.c?g=ae.min(y.e,o.e):0===o.c&&(g=ae.min(y.e,t.e)),R(y,{c:0,e:g}),R(t,y,1),R(o,y),b+=g,k=t.c,r=o.c;for(var f=(r-k)/w,v=Z(b),x=0,I=[],L=w+1;L--;){I[L]=(k+f*L)*v}if(0>b){x=ab(v),f=+(f*v).toFixed(x),k=+(k*v).toFixed(x),r=+(r*v).toFixed(x);for(var L=I.length;L--;){I[L]=I[L].toFixed(x),0===+I[L]&&(I[L]="0")}}else{k*=v,r*=v,f*=v}return j=0,z=0,ai=0,{min:k,max:r,secs:w,step:f,fix:x,exp:b,pnts:I}}function P(c,b,d){b=af(b%10)||2,0>b&&(G(c)?b=(""+Y(c)).replace(/0+$/,"").length||1:(c=c.toFixed(15).replace(/0+$/,""),b=c.replace(".","").replace(/^[-0]+/,"").length,c=+c));var e=ah(C(c))-b+1,f=+(c*Z(-e)).toFixed(15)||0;return f=d?ah(f):H(f),!f&&(e=0),(""+Y(f)).length>b&&(e+=1,f/=10),{c:f,e:e}}function R(c,d,f){var b=d.e-c.e;b&&(c.e+=b,c.c*=Z(-b),c.c=f?ah(c.c):H(c.c))}function T(a,c,b){a.e<c.e?R(c,a,b):R(a,c,b)}function K(a,d){d=d||ac,a=P(a);for(var b=a.c,c=0;b>d[c];){c++}if(!d[c]){for(b/=10,a.e+=1,c=0;b>d[c];){c++}}return a.c=d[c],a}function F(a,i,d){var g,c=d||+j.slice(-1),k=K((i-a)/c,z),l=P(i-a),b=P(a,-1,1),o=P(i,-1);if(R(l,k),R(b,k,1),R(o,k),d?g=A(b,o,c):c=B(b,o),G(a)&&G(i)&&a*i>=0){if(c>i-a){return Q(a,i,c)}c=N(a,i,d,b,o,c)}var m=ad(a,i,b.c,o.c);return b.c=m[0],o.c=m[1],(ag||J)&&E(a,i,b,o),q(b.c,o.c,c,o.e)}function B(c,f){for(var g,b,k,l,m=[],d=j.length;d--;){g=j[d],b=K((f.c-c.c)/g,z),b=b.c*Z(b.e),k=ah(c.c/b)*b,l=H(f.c/b)*b,m[d]={min:k,max:l,step:b,span:l-k}}return m.sort(function(a,n){var h=a.span-n.span;return 0===h&&(h=a.step-n.step),h}),m=m[0],g=m.span/m.step,c.c=m.min,f.c=m.max,3>g?2*g:g}function A(k,m,p){for(var b,t,u=m.c,v=(m.c-k.c)/p-1;u>k.c;){v=K(v+1,z),v=v.c*Z(v.e),b=v*p,t=H(m.c/v)*v,u=t-b}var l=k.c-u,g=t-m.c,f=l-g;return f>1.1*v&&(f=af(f/v/2)*v,u+=f,t+=f),k.c=u,m.c=t,v}function N(f,k,b,m,p,t){var i=p.c-m.c,g=i/t*Z(p.e);if(!G(g)&&(g=ah(g),i=g*t,k-f>i&&(g+=1,i=g*t,!b&&g*(t-1)>=k-f&&(t-=1,i=g*t)),i>=k-f)){var c=i-(k-f);m.c=af(f-c/2),p.c=af(k+c/2),m.e=0,p.e=0}return t}function Q(a,h,b){if(b=b||5,ag){h=a+b}else{if(J){a=h-b}else{var c=b-(h-a),d=af(a-c/2),f=af(h+c/2),g=ad(a,h,d,f);a=g[0],h=g[1]}}return q(a,h,b)}function aa(a,d,b){b=b||5;var c=ae.min(Y(d/b),b)/2.1;return ag?d=a+c:J?a=d-c:(a-=c,d+=c),F(a,d,b)}function ad(a,d,b,c){return a>=0&&0>b?(c-=b,b=0):0>=d&&c>0&&(b-=c,c=0),[b,c]}function ab(a){return a=(+a).toFixed(15).split("."),a.pop().replace(/0+$/,"").length}function E(c,h,d,f){if(ag){var b=P(c,4,1);d.e-b.e>6&&(b={c:0,e:d.e}),T(d,b),T(f,b),f.c+=b.c-d.c,d.c=b.c}else{if(J){var g=P(h,4);f.e-g.e>6&&(g={c:0,e:f.e}),T(d,g),T(f,g),d.c+=g.c-f.c,f.c=g.c}}}function D(k,W,w){var I=w?[w]:j,S=W-k;if(0===S){return W=P(W,3),w=I[0],W.c=af(W.c+w/2),q(W.c-w,W.c,w,W.e)}Y(W/S)<1e-06&&(W=0),Y(k/S)<1e-06&&(k=0);var x,v,b,a=[[5,10],[10,2],[50,10],[100,2]],y=[],L=[],X=P(W-k,3),ak=P(k,-1,1),aj=P(W,-1);R(ak,X,1),R(aj,X),S=aj.c-ak.c,X.c=S;for(var r=I.length;r--;){w=I[r],x=H(S/w),v=x*w-S,b=3*(v+3),b+=2*(w-I[0]+2),w%5===0&&(b-=10);for(var o=a.length;o--;){x%a[o][0]===0&&(b/=a[o][1])}L[r]=[w,x,v,b].join(),y[r]={secs:w,step:x,delta:v,score:b}}return y.sort(function(c,d){return c.score-d.score}),y=y[0],ak.c=af(ak.c-y.delta/2),aj.c=af(aj.c+y.delta/2),q(ak.c,aj.c,y.secs,X.e)}var ai,z,j,ag,J,ac=[10,20,25,50],M=[4,5,6],ae=Math,af=ae.round,ah=ae.floor,H=ae.ceil,Y=ae.abs;return O}),define("echarts/util/smartLogSteps",["require","./number"],function(J){function aj(a){return Q(),am=a||{},ad(),q(),[ae(),Q()][0]}function Q(){ac=am=N=ao=au=D=O=j=af=al=null}function ad(){af=am.logLabelBase,null==af?(al="plain",af=10,ao=ai):(af=+af,1>af&&(af=10),al="exponent",ao=an(af)),O=am.splitNumber,null==O&&(O=M);var a=parseFloat(am.dataMin),b=parseFloat(am.dataMax);isFinite(a)||isFinite(b)?isFinite(a)?isFinite(b)?a>b&&(b=[a,a=b][0]):b=a:a=b:a=b=1,ac=am.logPositive,null==ac&&(ac=b>0||0===a),au=ac?a:-b,D=ac?b:-a,ak>au&&(au=ak),ak>D&&(D=ak)}function q(){function f(){O>c&&(O=c);var h=at(aa(c/O)),y=aq(aa(c/h)),m=h*y,o=(m-l)/2,d=at(aa(v-o));F(d-v)&&(d-=1),N=-d*ao;for(var r=d;u>=r-h;r+=h){j.push(ab(af,r))}}function x(){for(var i=k(g,0),r=i+2;r>i&&b(i+1)+p(i+1)*G<v;){i++}for(var n=k(w,0),r=n-2;n>r&&b(n-1)+p(n-1)*G>u;){n--}N=-(b(i)*ai+p(i)*Z);for(var h=i;n>=h;h++){var a=b(h),o=p(h);j.push(ab(10,a)*ab(2,o))}}function k(a,d){return 3*a+d}function p(a){return a-3*b(a)}function b(a){return at(aa(a/3))}j=[];var u=aa(an(D)/ao),v=aa(an(au)/ao),w=aq(u),g=at(v),c=w-g,l=u-v;"exponent"===al?f():av>=c&&O>av?x():f()}function ae(){for(var c=[],k=0,d=j.length;d>k;k++){c[k]=(ac?1:-1)*j[k]}!ac&&c.reverse();var g=ah(),b=g.value2Coord,h=b(c[0]),f=b(c[c.length-1]);return h===f&&(h-=1,f+=1),{dataMin:h,dataMax:f,tickList:c,logPositive:ac,labelFormatter:ag(),dataMappingMethods:g}}function ag(){if("exponent"===al){var a=af,b=ao;return function(c){if(!isFinite(parseFloat(c))){return""}var d="";return 0>c&&(c=-c,d="-"),d+a+H(an(c)/b)}}return function(c){return isFinite(parseFloat(c))?ar.addCommas(P(c)):""}}function ah(){var a=ac,b=N;return{value2Coord:function(c){return null==c||isNaN(c)||!isFinite(c)?c:(c=parseFloat(c),isFinite(c)?a&&ak>c?c=ak:!a&&c>-ak&&(c=-ak):c=ak,c=ap(c),(a?1:-1)*(an(c)+b))},coord2Value:function(c){return null==c||isNaN(c)||!isFinite(c)?c:(c=parseFloat(c),isFinite(c)||(c=ak),a?ab(R,c-b):-ab(R,-c+b))}}}function aa(a){return +Number(+a).toFixed(14)}function P(a){return Number(a).toFixed(15).replace(/\.?0*$/,"")}function H(c){c=P(Math.round(c));for(var g=[],d=0,f=c.length;f>d;d++){var b=c.charAt(d);g.push(B[b]||"")}return g.join("")}function F(a){return a>-ak&&ak>a}var ac,af,al,ao,am,O,N,au,D,j,ar=J("./number"),Y=Math,an=Y.log,ab=Y.pow,ap=Y.abs,aq=Y.ceil,at=Y.floor,R=Y.E,ai=Y.LN10,Z=Y.LN2,G=Z/ai,ak=1e-09,M=5,av=2,B={0:"⁰",1:"¹",2:"²",3:"³",4:"⁴",5:"⁵",6:"⁶",7:"⁷",8:"⁸",9:"⁹","-":"⁻"};return aj});