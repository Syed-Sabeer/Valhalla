/* lightgallery - v1.2.21 - 2016-06-28
* http://sachinchoolur.github.io/lightGallery/
* Copyright (c) 2016 Sachin N; Licensed Apache 2.0 */
(function(a,f,c,e){var b={mode:"lg-slide",cssEasing:"ease",easing:"linear",speed:600,height:"100%",width:"100%",addClass:"",startClass:"lg-start-zoom",backdropDuration:150,hideBarsDelay:6000,useLeft:false,closable:true,loop:true,escKey:true,keyPress:true,controls:true,slideEndAnimatoin:true,hideControlOnEnd:false,mousewheel:true,getCaptionFromTitleOrAlt:true,appendSubHtmlTo:".lg-sub-html",subHtmlSelectorRelative:false,preload:1,showAfterLoad:true,selector:"",selectWithin:"",nextHtml:"",prevHtml:"",index:false,iframeMaxWidth:"100%",download:true,counter:true,appendCounterTo:".lg-toolbar",swipeThreshold:50,enableSwipe:true,enableDrag:true,dynamic:false,dynamicEl:[],galleryId:1};function d(g,h){this.el=g;this.$el=a(g);this.s=a.extend({},b,h);if(this.s.dynamic&&this.s.dynamicEl!=="undefined"&&this.s.dynamicEl.constructor===Array&&!this.s.dynamicEl.length){throw ("When using dynamic mode, you must also define dynamicEl as an Array.")}this.modules={};this.lGalleryOn=false;this.lgBusy=false;this.hideBartimeout=false;this.isTouch=("ontouchstart" in c.documentElement);if(this.s.slideEndAnimatoin){this.s.hideControlOnEnd=false}if(this.s.dynamic){this.$items=this.s.dynamicEl}else{if(this.s.selector==="this"){this.$items=this.$el}else{if(this.s.selector!==""){if(this.s.selectWithin){this.$items=a(this.s.selectWithin).find(this.s.selector)}else{this.$items=this.$el.find(a(this.s.selector))}}else{this.$items=this.$el.children()}}}this.$slide="";this.$outer="";this.init();return this}d.prototype.init=function(){var h=this;if(h.s.preload>h.$items.length){h.s.preload=h.$items.length}var g=f.location.hash;if(g.indexOf("lg="+this.s.galleryId)>0){h.index=parseInt(g.split("&slide=")[1],10);a("body").addClass("lg-from-hash");if(!a("body").hasClass("lg-on")){setTimeout(function(){h.build(h.index);a("body").addClass("lg-on")})}}if(h.s.dynamic){h.$el.trigger("onBeforeOpen.lg");h.index=h.s.index||0;if(!a("body").hasClass("lg-on")){setTimeout(function(){h.build(h.index);a("body").addClass("lg-on")})}}else{h.$items.on("click.lgcustom",function(j){try{j.preventDefault();j.preventDefault()}catch(i){j.returnValue=false}h.$el.trigger("onBeforeOpen.lg");h.index=h.s.index||h.$items.index(this);if(!a("body").hasClass("lg-on")){h.build(h.index);a("body").addClass("lg-on")}})}};d.prototype.build=function(h){var g=this;g.structure();a.each(a.fn.lightGallery.modules,function(i){g.modules[i]=new a.fn.lightGallery.modules[i](g.el)});g.slide(h,false,false);if(g.s.keyPress){g.keyPress()}if(g.$items.length>1){g.arrow();setTimeout(function(){g.enableDrag();g.enableSwipe()},50);if(g.s.mousewheel){g.mousewheel()}}g.counter();g.closeGallery();g.$el.trigger("onAfterOpen.lg");g.$outer.on("mousemove.lg click.lg touchstart.lg",function(){g.$outer.removeClass("lg-hide-items");clearTimeout(g.hideBartimeout);g.hideBartimeout=setTimeout(function(){g.$outer.addClass("lg-hide-items")},g.s.hideBarsDelay)})};d.prototype.structure=function(){var l="";var j="";var k=0;var m="";var n;var h=this;a("body").append('<div class="lg-backdrop"></div>');a(".lg-backdrop").css("transition-duration",this.s.backdropDuration+"ms");for(k=0;k<this.$items.length;k++){l+='<div class="lg-item"></div>'}if(this.s.controls&&this.$items.length>1){j='<div class="lg-actions"><div class="lg-prev lg-icon">'+this.s.prevHtml+'</div><div class="lg-next lg-icon">'+this.s.nextHtml+"</div></div>"}if(this.s.appendSubHtmlTo===".lg-sub-html"){m='<div class="lg-sub-html"></div>'}n='<div class="lg-outer '+this.s.addClass+" "+this.s.startClass+'"><div class="lg" style="width:'+this.s.width+"; height:"+this.s.height+'"><div class="lg-inner">'+l+'</div><div class="lg-toolbar group"><span class="lg-close lg-icon"></span></div>'+j+m+"</div></div>";a("body").append(n);this.$outer=a(".lg-outer");this.$slide=this.$outer.find(".lg-item");if(this.s.useLeft){this.$outer.addClass("lg-use-left");this.s.mode="lg-slide"}else{this.$outer.addClass("lg-use-css3")}h.setTop();a(f).on("resize.lg orientationchange.lg",function(){setTimeout(function(){h.setTop()},100)});this.$slide.eq(this.index).addClass("lg-current");if(this.doCss()){this.$outer.addClass("lg-css3")}else{this.$outer.addClass("lg-css");this.s.speed=0}this.$outer.addClass(this.s.mode);if(this.s.enableDrag&&this.$items.length>1){this.$outer.addClass("lg-grab")}if(this.s.showAfterLoad){this.$outer.addClass("lg-show-after-load")}if(this.doCss()){var g=this.$outer.find(".lg-inner");g.css("transition-timing-function",this.s.cssEasing);g.css("transition-duration",this.s.speed+"ms")}a(".lg-backdrop").addClass("in");setTimeout(function(){h.$outer.addClass("lg-visible")},this.s.backdropDuration);if(this.s.download){this.$outer.find(".lg-toolbar").append('<a id="lg-download" target="_blank" download class="lg-download lg-icon"></a>')}this.prevScrollTop=a(f).scrollTop()};d.prototype.setTop=function(){if(this.s.height!=="100%"){var i=a(f).height();var h=(i-parseInt(this.s.height,10))/2;var g=this.$outer.find(".lg");if(i>=parseInt(this.s.height,10)){g.css("top",h+"px")}else{g.css("top","0px")}}};d.prototype.doCss=function(){var g=function(){var k=["transition","MozTransition","WebkitTransition","OTransition","msTransition","KhtmlTransition"];var j=c.documentElement;var h=0;for(h=0;h<k.length;h++){if(k[h] in j.style){return true}}};if(g()){return true}return false};d.prototype.isVideo=function(j,i){var h;if(this.s.dynamic){h=this.s.dynamicEl[i].html}else{h=this.$items.eq(i).attr("data-html")}if(!j&&h){return{html5:true}}var m=j.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com)\/(?:watch\?v=|embed\/)?([a-z0-9\-\_\%]+)/i);var k=j.match(/\/\/(?:www\.)?vimeo.com\/([0-9a-z\-_]+)/i);var g=j.match(/\/\/(?:www\.)?dai.ly\/([0-9a-z\-_]+)/i);var l=j.match(/\/\/(?:www\.)?(?:vk\.com|vkontakte\.ru)\/(?:video_ext\.php\?)(.*)/i);if(m){return{youtube:m}}else{if(k){return{vimeo:k}}else{if(g){return{dailymotion:g}}else{if(l){return{vk:l}}}}}};d.prototype.counter=function(){if(this.s.counter){a(this.s.appendCounterTo).append('<div id="lg-counter"><span id="lg-counter-current">'+(parseInt(this.index,10)+1)+'</span> / <span id="lg-counter-all">'+this.$items.length+"</span></div>")}};d.prototype.addHtml=function(i){var j=null;var k;var g;if(this.s.dynamic){if(this.s.dynamicEl[i].subHtmlUrl){k=this.s.dynamicEl[i].subHtmlUrl}else{j=this.s.dynamicEl[i].subHtml}}else{g=this.$items.eq(i);if(g.attr("data-sub-html-url")){k=g.attr("data-sub-html-url")}else{j=g.attr("data-sub-html");if(this.s.getCaptionFromTitleOrAlt&&!j){j=g.attr("title")||g.find("img").first().attr("alt")}}}if(!k){if(typeof j!=="undefined"&&j!==null){var h=j.substring(0,1);if(h==="."||h==="#"){if(this.s.subHtmlSelectorRelative&&!this.s.dynamic){j=g.find(j).html()}else{j=a(j).html()}}}else{j=""}}if(this.s.appendSubHtmlTo===".lg-sub-html"){if(k){this.$outer.find(this.s.appendSubHtmlTo).load(k)}else{this.$outer.find(this.s.appendSubHtmlTo).html(j)}}else{if(k){this.$slide.eq(i).load(k)}else{this.$slide.eq(i).append(j)}}if(typeof j!=="undefined"&&j!==null){if(j===""){this.$outer.find(this.s.appendSubHtmlTo).addClass("lg-empty-html")}else{this.$outer.find(this.s.appendSubHtmlTo).removeClass("lg-empty-html")}}this.$el.trigger("onAfterAppendSubHtml.lg",[i])};d.prototype.preload=function(h){var g=1;var k=1;for(g=1;g<=this.s.preload;g++){if(g>=this.$items.length-h){break}this.loadContent(h+g,false,0)}for(k=1;k<=this.s.preload;k++){if(h-k<0){break}this.loadContent(h-k,false,0)}};d.prototype.loadContent=function(t,u,p){var o=this;var h=false;var g;var m;var k;var n;var l;var i;var r=function(D){var C=[];var B=[];for(var z=0;z<D.length;z++){var y=D[z].split(" ");if(y[0]===""){y.splice(0,1)}B.push(y[0]);C.push(y[1])}var E=a(f).width();for(var A=0;A<C.length;A++){if(parseInt(C[A],10)>E){m=B[A];break}}};if(o.s.dynamic){if(o.s.dynamicEl[t].poster){h=true;k=o.s.dynamicEl[t].poster}i=o.s.dynamicEl[t].html;m=o.s.dynamicEl[t].src;if(o.s.dynamicEl[t].responsive){var v=o.s.dynamicEl[t].responsive.split(",");r(v)}n=o.s.dynamicEl[t].srcset;l=o.s.dynamicEl[t].sizes}else{if(o.$items.eq(t).attr("data-poster")){h=true;k=o.$items.eq(t).attr("data-poster")}i=o.$items.eq(t).attr("data-html");m=o.$items.eq(t).attr("href")||o.$items.eq(t).attr("data-src");if(o.$items.eq(t).attr("data-responsive")){var w=o.$items.eq(t).attr("data-responsive").split(",");r(w)}n=o.$items.eq(t).attr("data-srcset");l=o.$items.eq(t).attr("data-sizes")}var s=false;if(o.s.dynamic){if(o.s.dynamicEl[t].iframe){s=true}}else{if(o.$items.eq(t).attr("data-iframe")==="true"){s=true}}var j=o.isVideo(m,t);if(!o.$slide.eq(t).hasClass("lg-loaded")){if(s){o.$slide.eq(t).prepend('<div class="lg-video-cont" style="max-width:'+o.s.iframeMaxWidth+'"><div class="lg-video"><iframe class="lg-object" frameborder="0" src="'+m+'"  allowfullscreen="true"></iframe></div></div>')}else{if(h){var x="";if(j&&j.youtube){x="lg-has-youtube"}else{if(j&&j.vimeo){x="lg-has-vimeo"}else{x="lg-has-html5"}}o.$slide.eq(t).prepend('<div class="lg-video-cont '+x+' "><div class="lg-video"><span class="lg-video-play"></span><img class="lg-object lg-has-poster" src="'+k+'" /></div></div>')}else{if(j){o.$slide.eq(t).prepend('<div class="lg-video-cont "><div class="lg-video"></div></div>');o.$el.trigger("hasVideo.lg",[t,m,i])}else{o.$slide.eq(t).prepend('<div class="lg-img-wrap"><img class="lg-object lg-image" src="'+m+'" /></div>')}}}o.$el.trigger("onAferAppendSlide.lg",[t]);g=o.$slide.eq(t).find(".lg-object");if(l){g.attr("sizes",l)}if(n){g.attr("srcset",n);try{picturefill({elements:[g[0]]})}catch(q){console.error("Make sure you have included Picturefill version 2")}}if(this.s.appendSubHtmlTo!==".lg-sub-html"){o.addHtml(t)}o.$slide.eq(t).addClass("lg-loaded")}o.$slide.eq(t).find(".lg-object").on("load.lg error.lg",function(){var y=0;if(p&&!a("body").hasClass("lg-from-hash")){y=p}setTimeout(function(){o.$slide.eq(t).addClass("lg-complete");o.$el.trigger("onSlideItemLoad.lg",[t,p||0])},y)});if(j&&j.html5&&!h){o.$slide.eq(t).addClass("lg-complete")}if(u===true){if(!o.$slide.eq(t).hasClass("lg-complete")){o.$slide.eq(t).find(".lg-object").on("load.lg error.lg",function(){o.preload(t)})}else{o.preload(t)}}};d.prototype.slide=function(p,o,n){var j=this.$outer.find(".lg-current").index();var l=this;if(l.lGalleryOn&&(j===p)){return}var g=this.$slide.length;var m=l.lGalleryOn?this.s.speed:0;var h=false;var i=false;if(!l.lgBusy){if(this.s.download){var k;if(l.s.dynamic){k=l.s.dynamicEl[p].downloadUrl!==false&&(l.s.dynamicEl[p].downloadUrl||l.s.dynamicEl[p].src)}else{k=l.$items.eq(p).attr("data-download-url")!=="false"&&(l.$items.eq(p).attr("data-download-url")||l.$items.eq(p).attr("href")||l.$items.eq(p).attr("data-src"))}if(k){a("#lg-download").attr("href",k);l.$outer.removeClass("lg-hide-download")}else{l.$outer.addClass("lg-hide-download")}}this.$el.trigger("onBeforeSlide.lg",[j,p,o,n]);l.lgBusy=true;clearTimeout(l.hideBartimeout);if(this.s.appendSubHtmlTo===".lg-sub-html"){setTimeout(function(){l.addHtml(p)},m)}this.arrowDisable(p);if(!o){l.$outer.addClass("lg-no-trans");this.$slide.removeClass("lg-prev-slide lg-next-slide");if(p<j){i=true;if((p===0)&&(j===g-1)&&!n){i=false;h=true}}else{if(p>j){h=true;if((p===g-1)&&(j===0)&&!n){i=true;h=false}}}if(i){this.$slide.eq(p).addClass("lg-prev-slide");this.$slide.eq(j).addClass("lg-next-slide")}else{if(h){this.$slide.eq(p).addClass("lg-next-slide");this.$slide.eq(j).addClass("lg-prev-slide")}}setTimeout(function(){l.$slide.removeClass("lg-current");l.$slide.eq(p).addClass("lg-current");l.$outer.removeClass("lg-no-trans")},50)}else{var r=p-1;var q=p+1;if((p===0)&&(j===g-1)){q=0;r=g-1}else{if((p===g-1)&&(j===0)){q=0;r=g-1}}this.$slide.removeClass("lg-prev-slide lg-current lg-next-slide");l.$slide.eq(r).addClass("lg-prev-slide");l.$slide.eq(q).addClass("lg-next-slide");l.$slide.eq(p).addClass("lg-current")}if(l.lGalleryOn){setTimeout(function(){l.loadContent(p,true,0)},this.s.speed+50);setTimeout(function(){l.lgBusy=false;l.$el.trigger("onAfterSlide.lg",[j,p,o,n])},this.s.speed)}else{l.loadContent(p,true,l.s.backdropDuration);l.lgBusy=false;l.$el.trigger("onAfterSlide.lg",[j,p,o,n])}l.lGalleryOn=true;if(this.s.counter){a("#lg-counter-current").text(p+1)}}};d.prototype.goToNextSlide=function(h){var g=this;if(!g.lgBusy){if((g.index+1)<g.$slide.length){g.index++;g.$el.trigger("onBeforeNextSlide.lg",[g.index]);g.slide(g.index,h,false)}else{if(g.s.loop){g.index=0;g.$el.trigger("onBeforeNextSlide.lg",[g.index]);g.slide(g.index,h,false)}else{if(g.s.slideEndAnimatoin){g.$outer.addClass("lg-right-end");setTimeout(function(){g.$outer.removeClass("lg-right-end")},400)}}}}};d.prototype.goToPrevSlide=function(h){var g=this;if(!g.lgBusy){if(g.index>0){g.index--;g.$el.trigger("onBeforePrevSlide.lg",[g.index,h]);g.slide(g.index,h,false)}else{if(g.s.loop){g.index=g.$items.length-1;g.$el.trigger("onBeforePrevSlide.lg",[g.index,h]);g.slide(g.index,h,false)}else{if(g.s.slideEndAnimatoin){g.$outer.addClass("lg-left-end");setTimeout(function(){g.$outer.removeClass("lg-left-end")},400)}}}}};d.prototype.keyPress=function(){var g=this;if(this.$items.length>1){a(f).on("keyup.lg",function(h){if(g.$items.length>1){if(h.keyCode===37){h.preventDefault();g.goToPrevSlide()}if(h.keyCode===39){h.preventDefault();g.goToNextSlide()}}})}a(f).on("keydown.lg",function(h){if(g.s.escKey===true&&h.keyCode===27){h.preventDefault();if(!g.$outer.hasClass("lg-thumb-open")){g.destroy()}else{g.$outer.removeClass("lg-thumb-open")}}})};d.prototype.arrow=function(){var g=this;this.$outer.find(".lg-prev").on("click.lg",function(){g.goToPrevSlide()});this.$outer.find(".lg-next").on("click.lg",function(){g.goToNextSlide()})};d.prototype.arrowDisable=function(g){if(!this.s.loop&&this.s.hideControlOnEnd){if((g+1)<this.$slide.length){this.$outer.find(".lg-next").removeAttr("disabled").removeClass("disabled")}else{this.$outer.find(".lg-next").attr("disabled","disabled").addClass("disabled")}if(g>0){this.$outer.find(".lg-prev").removeAttr("disabled").removeClass("disabled")}else{this.$outer.find(".lg-prev").attr("disabled","disabled").addClass("disabled")}}};d.prototype.setTranslate=function(g,h,i){if(this.s.useLeft){g.css("left",h)}else{g.css({transform:"translate3d("+(h)+"px, "+i+"px, 0px)"})}};d.prototype.touchMove=function(i,h){var g=h-i;if(Math.abs(g)>15){this.$outer.addClass("lg-dragging");this.setTranslate(this.$slide.eq(this.index),g,0);this.setTranslate(a(".lg-prev-slide"),-this.$slide.eq(this.index).width()+g,0);this.setTranslate(a(".lg-next-slide"),this.$slide.eq(this.index).width()+g,0)}};d.prototype.touchEnd=function(h){var g=this;if(g.s.mode!=="lg-slide"){g.$outer.addClass("lg-slide")}this.$slide.not(".lg-current, .lg-prev-slide, .lg-next-slide").css("opacity","0");setTimeout(function(){g.$outer.removeClass("lg-dragging");if((h<0)&&(Math.abs(h)>g.s.swipeThreshold)){g.goToNextSlide(true)}else{if((h>0)&&(Math.abs(h)>g.s.swipeThreshold)){g.goToPrevSlide(true)}else{if(Math.abs(h)<5){g.$el.trigger("onSlideClick.lg")}}}g.$slide.removeAttr("style")});setTimeout(function(){if(!g.$outer.hasClass("lg-dragging")&&g.s.mode!=="lg-slide"){g.$outer.removeClass("lg-slide")}},g.s.speed+100)};d.prototype.enableSwipe=function(){var g=this;var j=0;var h=0;var i=false;if(g.s.enableSwipe&&g.isTouch&&g.doCss()){g.$slide.on("touchstart.lg",function(k){if(!g.$outer.hasClass("lg-zoomed")&&!g.lgBusy){k.preventDefault();g.manageSwipeClass();j=k.originalEvent.targetTouches[0].pageX}});g.$slide.on("touchmove.lg",function(k){if(!g.$outer.hasClass("lg-zoomed")){k.preventDefault();h=k.originalEvent.targetTouches[0].pageX;g.touchMove(j,h);i=true}});g.$slide.on("touchend.lg",function(){if(!g.$outer.hasClass("lg-zoomed")){if(i){i=false;g.touchEnd(h-j)}else{g.$el.trigger("onSlideClick.lg")}}})}};d.prototype.enableDrag=function(){var g=this;var k=0;var h=0;var i=false;var j=false;if(g.s.enableDrag&&!g.isTouch&&g.doCss()){g.$slide.on("mousedown.lg",function(l){if(!g.$outer.hasClass("lg-zoomed")){if(a(l.target).hasClass("lg-object")||a(l.target).hasClass("lg-video-play")){l.preventDefault();if(!g.lgBusy){g.manageSwipeClass();k=l.pageX;i=true;g.$outer.scrollLeft+=1;g.$outer.scrollLeft-=1;g.$outer.removeClass("lg-grab").addClass("lg-grabbing");g.$el.trigger("onDragstart.lg")}}}});a(f).on("mousemove.lg",function(l){if(i){j=true;h=l.pageX;g.touchMove(k,h);g.$el.trigger("onDragmove.lg")}});a(f).on("mouseup.lg",function(l){if(j){j=false;g.touchEnd(h-k);g.$el.trigger("onDragend.lg")}else{if(a(l.target).hasClass("lg-object")||a(l.target).hasClass("lg-video-play")){g.$el.trigger("onSlideClick.lg")}}if(i){i=false;g.$outer.removeClass("lg-grabbing").addClass("lg-grab")}})}};d.prototype.manageSwipeClass=function(){var h=this.index+1;var i=this.index-1;var g=this.$slide.length;if(this.s.loop){if(this.index===0){i=g-1}else{if(this.index===g-1){h=0}}}this.$slide.removeClass("lg-next-slide lg-prev-slide");if(i>-1){this.$slide.eq(i).addClass("lg-prev-slide")}this.$slide.eq(h).addClass("lg-next-slide")};d.prototype.mousewheel=function(){var g=this;g.$outer.on("mousewheel.lg",function(h){if(!h.deltaY){return}if(h.deltaY>0){g.goToPrevSlide()}else{g.goToNextSlide()}h.preventDefault()})};d.prototype.closeGallery=function(){var g=this;var h=false;this.$outer.find(".lg-close").on("click.lg",function(){g.destroy()});if(g.s.closable){g.$outer.on("mousedown.lg",function(i){if(a(i.target).is(".lg-outer")||a(i.target).is(".lg-item ")||a(i.target).is(".lg-img-wrap")){h=true}else{h=false}});g.$outer.on("mouseup.lg",function(i){if(a(i.target).is(".lg-outer")||a(i.target).is(".lg-item ")||a(i.target).is(".lg-img-wrap")&&h){if(!g.$outer.hasClass("lg-dragging")){g.destroy()}}})}};d.prototype.destroy=function(h){var g=this;if(!h){g.$el.trigger("onBeforeClose.lg")}a(f).scrollTop(g.prevScrollTop);if(h){if(!g.s.dynamic){this.$items.off("click.lg click.lgcustom")}a.removeData(g.el,"lightGallery")}this.$el.off(".lg.tm");a.each(a.fn.lightGallery.modules,function(i){if(g.modules[i]){g.modules[i].destroy()}});this.lGalleryOn=false;clearTimeout(g.hideBartimeout);this.hideBartimeout=false;a(f).off(".lg");a("body").removeClass("lg-on lg-from-hash");if(g.$outer){g.$outer.removeClass("lg-visible")}a(".lg-backdrop").removeClass("in");setTimeout(function(){if(g.$outer){g.$outer.remove()}a(".lg-backdrop").remove();if(!h){g.$el.trigger("onCloseAfter.lg")}},g.s.backdropDuration+50)};a.fn.lightGallery=function(g){return this.each(function(){if(!a.data(this,"lightGallery")){a.data(this,"lightGallery",new d(this,g))}else{try{a(this).data("lightGallery").init()}catch(h){console.error("lightGallery has not initiated properly")}}})};a.fn.lightGallery.modules={}})(jQuery,window,document);(function(a,f,d,e){var c={autoplay:false,pause:5000,progressBar:true,fourceAutoplay:false,autoplayControls:true,appendAutoplayControlsTo:".lg-toolbar"};var b=function(g){this.core=a(g).data("lightGallery");this.$el=a(g);if(this.core.$items.length<2){return false}this.core.s=a.extend({},c,this.core.s);this.interval=false;this.fromAuto=true;this.canceledOnTouch=false;this.fourceAutoplayTemp=this.core.s.fourceAutoplay;if(!this.core.doCss()){this.core.s.progressBar=false}this.init();return this};b.prototype.init=function(){var g=this;if(g.core.s.autoplayControls){g.controls()}if(g.core.s.progressBar){g.core.$outer.find(".lg").append('<div class="lg-progress-bar"><div class="lg-progress"></div></div>')}g.progress();if(g.core.s.autoplay){g.startlAuto()}g.$el.on("onDragstart.lg.tm touchstart.lg.tm",function(){if(g.interval){g.cancelAuto();g.canceledOnTouch=true}});g.$el.on("onDragend.lg.tm touchend.lg.tm onSlideClick.lg.tm",function(){if(!g.interval&&g.canceledOnTouch){g.startlAuto();g.canceledOnTouch=false}})};b.prototype.progress=function(){var i=this;var h;var g;i.$el.on("onBeforeSlide.lg.tm",function(){if(i.core.s.progressBar&&i.fromAuto){h=i.core.$outer.find(".lg-progress-bar");g=i.core.$outer.find(".lg-progress");if(i.interval){g.removeAttr("style");h.removeClass("lg-start");setTimeout(function(){g.css("transition","width "+(i.core.s.speed+i.core.s.pause)+"ms ease 0s");h.addClass("lg-start")},20)}}if(!i.fromAuto&&!i.core.s.fourceAutoplay){i.cancelAuto()}i.fromAuto=false})};b.prototype.controls=function(){var h=this;var g='<span class="lg-autoplay-button lg-icon"></span>';a(this.core.s.appendAutoplayControlsTo).append(g);h.core.$outer.find(".lg-autoplay-button").on("click.lg",function(){if(a(h.core.$outer).hasClass("lg-show-autoplay")){h.cancelAuto();h.core.s.fourceAutoplay=false}else{if(!h.interval){h.startlAuto();h.core.s.fourceAutoplay=h.fourceAutoplayTemp}}})};b.prototype.startlAuto=function(){var g=this;g.core.$outer.find(".lg-progress").css("transition","width "+(g.core.s.speed+g.core.s.pause)+"ms ease 0s");g.core.$outer.addClass("lg-show-autoplay");g.core.$outer.find(".lg-progress-bar").addClass("lg-start");g.interval=setInterval(function(){if(g.core.index+1<g.core.$items.length){g.core.index++}else{g.core.index=0}g.fromAuto=true;g.core.slide(g.core.index,false,false)},g.core.s.speed+g.core.s.pause)};b.prototype.cancelAuto=function(){clearInterval(this.interval);this.interval=false;this.core.$outer.find(".lg-progress").removeAttr("style");this.core.$outer.removeClass("lg-show-autoplay");this.core.$outer.find(".lg-progress-bar").removeClass("lg-start")};b.prototype.destroy=function(){this.cancelAuto();this.core.$outer.find(".lg-progress-bar").remove()};a.fn.lightGallery.modules.autoplay=b})(jQuery,window,document);(function(a,f,c,e){var b={fullScreen:true};var d=function(g){this.core=a(g).data("lightGallery");this.$el=a(g);this.core.s=a.extend({},b,this.core.s);this.init();return this};d.prototype.init=function(){var g="";if(this.core.s.fullScreen){if(!c.fullscreenEnabled&&!c.webkitFullscreenEnabled&&!c.mozFullScreenEnabled&&!c.msFullscreenEnabled){return}else{g='<span class="lg-fullscreen lg-icon"></span>';this.core.$outer.find(".lg-toolbar").append(g);this.fullScreen()}}};d.prototype.requestFullscreen=function(){var g=c.documentElement;if(g.requestFullscreen){g.requestFullscreen()}else{if(g.msRequestFullscreen){g.msRequestFullscreen()}else{if(g.mozRequestFullScreen){g.mozRequestFullScreen()}else{if(g.webkitRequestFullscreen){g.webkitRequestFullscreen()}}}}};d.prototype.exitFullscreen=function(){if(c.exitFullscreen){c.exitFullscreen()}else{if(c.msExitFullscreen){c.msExitFullscreen()}else{if(c.mozCancelFullScreen){c.mozCancelFullScreen()}else{if(c.webkitExitFullscreen){c.webkitExitFullscreen()}}}}};d.prototype.fullScreen=function(){var g=this;a(c).on("fullscreenchange.lg webkitfullscreenchange.lg mozfullscreenchange.lg MSFullscreenChange.lg",function(){g.core.$outer.toggleClass("lg-fullscreen-on")});this.core.$outer.find(".lg-fullscreen").on("click.lg",function(){if(!c.fullscreenElement&&!c.mozFullScreenElement&&!c.webkitFullscreenElement&&!c.msFullscreenElement){g.requestFullscreen()}else{g.exitFullscreen()}})};d.prototype.destroy=function(){this.exitFullscreen();a(c).off("fullscreenchange.lg webkitfullscreenchange.lg mozfullscreenchange.lg MSFullscreenChange.lg")};a.fn.lightGallery.modules.fullscreen=d})(jQuery,window,document);(function(a,f,c,e){var b={pager:false};var d=function(g){this.core=a(g).data("lightGallery");this.$el=a(g);this.core.s=a.extend({},b,this.core.s);if(this.core.s.pager&&this.core.$items.length>1){this.init()}return this};d.prototype.init=function(){var j=this;var l="";var g;var h;var m;j.core.$outer.find(".lg").append('<div class="lg-pager-outer"></div>');if(j.core.s.dynamic){for(var k=0;k<j.core.s.dynamicEl.length;k++){l+='<span class="lg-pager-cont"> <span class="lg-pager"></span><div class="lg-pager-thumb-cont"><span class="lg-caret"></span> <img src="'+j.core.s.dynamicEl[k].thumb+'" /></div></span>'}}else{j.core.$items.each(function(){if(!j.core.s.exThumbImage){l+='<span class="lg-pager-cont"> <span class="lg-pager"></span><div class="lg-pager-thumb-cont"><span class="lg-caret"></span> <img src="'+a(this).find("img").attr("src")+'" /></div></span>'}else{l+='<span class="lg-pager-cont"> <span class="lg-pager"></span><div class="lg-pager-thumb-cont"><span class="lg-caret"></span> <img src="'+a(this).attr(j.core.s.exThumbImage)+'" /></div></span>'}})}h=j.core.$outer.find(".lg-pager-outer");h.html(l);g=j.core.$outer.find(".lg-pager-cont");g.on("click.lg touchend.lg",function(){var i=a(this);j.core.index=i.index();j.core.slide(j.core.index,false,false)});h.on("mouseover.lg",function(){clearTimeout(m);h.addClass("lg-pager-hover")});h.on("mouseout.lg",function(){m=setTimeout(function(){h.removeClass("lg-pager-hover")})});j.core.$el.on("onBeforeSlide.lg.tm",function(i,o,n){g.removeClass("lg-pager-active");g.eq(n).addClass("lg-pager-active")})};d.prototype.destroy=function(){};a.fn.lightGallery.modules.pager=d})(jQuery,window,document);(function(a,f,c,e){var b={thumbnail:true,animateThumb:true,currentPagerPosition:"middle",thumbWidth:100,thumbContHeight:100,thumbMargin:5,exThumbImage:false,showThumbByDefault:true,toogleThumb:true,pullCaptionUp:true,enableThumbDrag:true,enableThumbSwipe:true,swipeThreshold:50,loadYoutubeThumbnail:true,youtubeThumbSize:1,loadVimeoThumbnail:true,vimeoThumbSize:"thumbnail_small",loadDailymotionThumbnail:true};var d=function(g){this.core=a(g).data("lightGallery");this.core.s=a.extend({},b,this.core.s);this.$el=a(g);this.$thumbOuter=null;this.thumbOuterWidth=0;this.thumbTotalWidth=(this.core.$items.length*(this.core.s.thumbWidth+this.core.s.thumbMargin));this.thumbIndex=this.core.index;this.left=0;this.init();return this};d.prototype.init=function(){var g=this;if(this.core.s.thumbnail&&this.core.$items.length>1){if(this.core.s.showThumbByDefault){setTimeout(function(){g.core.$outer.addClass("lg-thumb-open")},700)}if(this.core.s.pullCaptionUp){this.core.$outer.addClass("lg-pull-caption-up")}this.build();if(this.core.s.animateThumb){if(this.core.s.enableThumbDrag&&!this.core.isTouch&&this.core.doCss()){this.enableThumbDrag()}if(this.core.s.enableThumbSwipe&&this.core.isTouch&&this.core.doCss()){this.enableThumbSwipe()}this.thumbClickable=false}else{this.thumbClickable=true}this.toogle();this.thumbkeyPress()}};d.prototype.build=function(){var h=this;var m="";var n="";var g;var k='<div class="lg-thumb-outer"><div class="lg-thumb group"></div></div>';switch(this.core.s.vimeoThumbSize){case"thumbnail_large":n="640";break;case"thumbnail_medium":n="200x150";break;case"thumbnail_small":n="100x75"}h.core.$outer.addClass("lg-has-thumb");h.core.$outer.find(".lg").append(k);h.$thumbOuter=h.core.$outer.find(".lg-thumb-outer");h.thumbOuterWidth=h.$thumbOuter.width();if(h.core.s.animateThumb){h.core.$outer.find(".lg-thumb").css({width:h.thumbTotalWidth+"px",position:"relative"})}if(this.core.s.animateThumb){h.$thumbOuter.css("height",h.core.s.thumbContHeight+"px")}function j(p,q,i){var o=h.core.isVideo(p,i)||{};var r;var s="";if(o.youtube||o.vimeo||o.dailymotion){if(o.youtube){if(h.core.s.loadYoutubeThumbnail){r="//img.youtube.com/vi/"+o.youtube[1]+"/"+h.core.s.youtubeThumbSize+".jpg"}else{r=q}}else{if(o.vimeo){if(h.core.s.loadVimeoThumbnail){r="//i.vimeocdn.com/video/error_"+n+".jpg";s=o.vimeo[1]}else{r=q}}else{if(o.dailymotion){if(h.core.s.loadDailymotionThumbnail){r="//www.dailymotion.com/thumbnail/video/"+o.dailymotion[1]}else{r=q}}}}}else{r=q}m+='<div data-vimeo-id="'+s+'" class="lg-thumb-item" style="width:'+h.core.s.thumbWidth+"px; margin-right: "+h.core.s.thumbMargin+'px"><img src="'+r+'" /></div>';s=""}if(h.core.s.dynamic){for(var l=0;l<h.core.s.dynamicEl.length;l++){j(h.core.s.dynamicEl[l].src,h.core.s.dynamicEl[l].thumb,l)}}else{h.core.$items.each(function(o){if(!h.core.s.exThumbImage){j(a(this).attr("href")||a(this).attr("data-src"),a(this).find("img").attr("src"),o)}else{j(a(this).attr("href")||a(this).attr("data-src"),a(this).attr(h.core.s.exThumbImage),o)}})}h.core.$outer.find(".lg-thumb").html(m);g=h.core.$outer.find(".lg-thumb-item");g.each(function(){var i=a(this);var o=i.attr("data-vimeo-id");if(o){a.getJSON("//www.vimeo.com/api/v2/video/"+o+".json?callback=?",{format:"json"},function(p){i.find("img").attr("src",p[0][h.core.s.vimeoThumbSize])})}});g.eq(h.core.index).addClass("active");h.core.$el.on("onBeforeSlide.lg.tm",function(){g.removeClass("active");g.eq(h.core.index).addClass("active")});g.on("click.lg touchend.lg",function(){var i=a(this);setTimeout(function(){if((h.thumbClickable&&!h.core.lgBusy)||!h.core.doCss()){h.core.index=i.index();h.core.slide(h.core.index,false,true)}},50)});h.core.$el.on("onBeforeSlide.lg.tm",function(){h.animateThumb(h.core.index)});a(f).on("resize.lg.thumb orientationchange.lg.thumb",function(){setTimeout(function(){h.animateThumb(h.core.index);h.thumbOuterWidth=h.$thumbOuter.width()},200)})};d.prototype.setTranslate=function(g){this.core.$outer.find(".lg-thumb").css({transform:"translate3d(-"+(g)+"px, 0px, 0px)"})};d.prototype.animateThumb=function(h){var g=this.core.$outer.find(".lg-thumb");if(this.core.s.animateThumb){var i;switch(this.core.s.currentPagerPosition){case"left":i=0;break;case"middle":i=(this.thumbOuterWidth/2)-(this.core.s.thumbWidth/2);break;case"right":i=this.thumbOuterWidth-this.core.s.thumbWidth}this.left=((this.core.s.thumbWidth+this.core.s.thumbMargin)*h-1)-i;if(this.left>(this.thumbTotalWidth-this.thumbOuterWidth)){this.left=this.thumbTotalWidth-this.thumbOuterWidth}if(this.left<0){this.left=0}if(this.core.lGalleryOn){if(!g.hasClass("on")){this.core.$outer.find(".lg-thumb").css("transition-duration",this.core.s.speed+"ms")}if(!this.core.doCss()){g.animate({left:-this.left+"px"},this.core.s.speed)}}else{if(!this.core.doCss()){g.css("left",-this.left+"px")}}this.setTranslate(this.left)}};d.prototype.enableThumbDrag=function(){var g=this;var k=0;var h=0;var i=false;var j=false;var l=0;g.$thumbOuter.addClass("lg-grab");g.core.$outer.find(".lg-thumb").on("mousedown.lg.thumb",function(m){if(g.thumbTotalWidth>g.thumbOuterWidth){m.preventDefault();k=m.pageX;i=true;g.core.$outer.scrollLeft+=1;g.core.$outer.scrollLeft-=1;g.thumbClickable=false;g.$thumbOuter.removeClass("lg-grab").addClass("lg-grabbing")}});a(f).on("mousemove.lg.thumb",function(m){if(i){l=g.left;j=true;h=m.pageX;g.$thumbOuter.addClass("lg-dragging");l=l-(h-k);if(l>(g.thumbTotalWidth-g.thumbOuterWidth)){l=g.thumbTotalWidth-g.thumbOuterWidth}if(l<0){l=0}g.setTranslate(l)}});a(f).on("mouseup.lg.thumb",function(){if(j){j=false;g.$thumbOuter.removeClass("lg-dragging");g.left=l;if(Math.abs(h-k)<g.core.s.swipeThreshold){g.thumbClickable=true}}else{g.thumbClickable=true}if(i){i=false;g.$thumbOuter.removeClass("lg-grabbing").addClass("lg-grab")}})};d.prototype.enableThumbSwipe=function(){var g=this;var j=0;var h=0;var i=false;var k=0;g.core.$outer.find(".lg-thumb").on("touchstart.lg",function(l){if(g.thumbTotalWidth>g.thumbOuterWidth){l.preventDefault();j=l.originalEvent.targetTouches[0].pageX;g.thumbClickable=false}});g.core.$outer.find(".lg-thumb").on("touchmove.lg",function(l){if(g.thumbTotalWidth>g.thumbOuterWidth){l.preventDefault();h=l.originalEvent.targetTouches[0].pageX;i=true;g.$thumbOuter.addClass("lg-dragging");k=g.left;k=k-(h-j);if(k>(g.thumbTotalWidth-g.thumbOuterWidth)){k=g.thumbTotalWidth-g.thumbOuterWidth}if(k<0){k=0}g.setTranslate(k)}});g.core.$outer.find(".lg-thumb").on("touchend.lg",function(){if(g.thumbTotalWidth>g.thumbOuterWidth){if(i){i=false;g.$thumbOuter.removeClass("lg-dragging");if(Math.abs(h-j)<g.core.s.swipeThreshold){g.thumbClickable=true}g.left=k}else{g.thumbClickable=true}}else{g.thumbClickable=true}})};d.prototype.toogle=function(){var g=this;if(g.core.s.toogleThumb){g.core.$outer.addClass("lg-can-toggle");g.$thumbOuter.append('<span class="lg-toogle-thumb lg-icon"></span>');g.core.$outer.find(".lg-toogle-thumb").on("click.lg",function(){g.core.$outer.toggleClass("lg-thumb-open")})}};d.prototype.thumbkeyPress=function(){var g=this;a(f).on("keydown.lg.thumb",function(h){if(h.keyCode===38){h.preventDefault();g.core.$outer.addClass("lg-thumb-open")}else{if(h.keyCode===40){h.preventDefault();g.core.$outer.removeClass("lg-thumb-open")}}})};d.prototype.destroy=function(){if(this.core.s.thumbnail&&this.core.$items.length>1){a(f).off("resize.lg.thumb orientationchange.lg.thumb keydown.lg.thumb");this.$thumbOuter.remove();this.core.$outer.removeClass("lg-has-thumb")}};a.fn.lightGallery.modules.Thumbnail=d})(jQuery,window,document);(function(a,f,c,d){var b={videoMaxWidth:"855px",youtubePlayerParams:false,vimeoPlayerParams:false,dailymotionPlayerParams:false,vkPlayerParams:false,videojs:false,videojsOptions:{}};var e=function(g){this.core=a(g).data("lightGallery");this.$el=a(g);this.core.s=a.extend({},b,this.core.s);this.videoLoaded=false;this.init();return this};e.prototype.init=function(){var g=this;g.core.$el.on("hasVideo.lg.tm",function(j,l,m,k){g.core.$slide.eq(l).find(".lg-video").append(g.loadVideo(m,"lg-object",true,l,k));if(k){if(g.core.s.videojs){try{videojs(g.core.$slide.eq(l).find(".lg-html5").get(0),g.core.s.videojsOptions,function(){if(!g.videoLoaded){this.play()}})}catch(i){console.error("Make sure you have included videojs")}}else{g.core.$slide.eq(l).find(".lg-html5").get(0).play()}}});g.core.$el.on("onAferAppendSlide.lg.tm",function(i,j){g.core.$slide.eq(j).find(".lg-video-cont").css("max-width",g.core.s.videoMaxWidth);g.videoLoaded=true});var h=function(i){if(i.find(".lg-object").hasClass("lg-has-poster")&&i.find(".lg-object").is(":visible")){if(!i.hasClass("lg-has-video")){i.addClass("lg-video-playing lg-has-video");var m;var k;var l=function(t,s){i.find(".lg-video").append(g.loadVideo(t,"",false,g.core.index,s));if(s){if(g.core.s.videojs){try{videojs(g.core.$slide.eq(g.core.index).find(".lg-html5").get(0),g.core.s.videojsOptions,function(){this.play()})}catch(u){console.error("Make sure you have included videojs")}}else{g.core.$slide.eq(g.core.index).find(".lg-html5").get(0).play()}}};if(g.core.s.dynamic){m=g.core.s.dynamicEl[g.core.index].src;k=g.core.s.dynamicEl[g.core.index].html;l(m,k)}else{m=g.core.$items.eq(g.core.index).attr("href")||g.core.$items.eq(g.core.index).attr("data-src");k=g.core.$items.eq(g.core.index).attr("data-html");l(m,k)}var j=i.find(".lg-object");i.find(".lg-video").append(j);if(!i.find(".lg-video-object").hasClass("lg-html5")){i.removeClass("lg-complete");i.find(".lg-video-object").on("load.lg error.lg",function(){i.addClass("lg-complete")})}}else{var r=i.find(".lg-youtube").get(0);var q=i.find(".lg-vimeo").get(0);var n=i.find(".lg-dailymotion").get(0);var p=i.find(".lg-html5").get(0);if(r){r.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*")}else{if(q){try{$f(q).api("play")}catch(o){console.error("Make sure you have included froogaloop2 js")}}else{if(n){n.contentWindow.postMessage("play","*")}else{if(p){if(g.core.s.videojs){try{videojs(p).play()}catch(o){console.error("Make sure you have included videojs")}}else{p.play()}}}}}i.addClass("lg-video-playing")}}};if(g.core.doCss()&&g.core.$items.length>1&&((g.core.s.enableSwipe&&g.core.isTouch)||(g.core.s.enableDrag&&!g.core.isTouch))){g.core.$el.on("onSlideClick.lg.tm",function(){var i=g.core.$slide.eq(g.core.index);h(i)})}else{g.core.$slide.on("click.lg",function(){h(a(this))})}g.core.$el.on("onBeforeSlide.lg.tm",function(n,q,p){var i=g.core.$slide.eq(q);var t=i.find(".lg-youtube").get(0);var r=i.find(".lg-vimeo").get(0);var l=i.find(".lg-dailymotion").get(0);var s=i.find(".lg-vk").get(0);var o=i.find(".lg-html5").get(0);if(t){t.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")}else{if(r){try{$f(r).api("pause")}catch(m){console.error("Make sure you have included froogaloop2 js")}}else{if(l){l.contentWindow.postMessage("pause","*")}else{if(o){if(g.core.s.videojs){try{videojs(o).pause()}catch(m){console.error("Make sure you have included videojs")}}else{o.pause()}}}}}if(s){a(s).attr("src",a(s).attr("src").replace("&autoplay","&noplay"))}var k;if(g.core.s.dynamic){k=g.core.s.dynamicEl[p].src}else{k=g.core.$items.eq(p).attr("href")||g.core.$items.eq(p).attr("data-src")}var j=g.core.isVideo(k,p)||{};if(j.youtube||j.vimeo||j.dailymotion||j.vk){g.core.$outer.addClass("lg-hide-download")}});g.core.$el.on("onAfterSlide.lg.tm",function(i,j){g.core.$slide.eq(j).removeClass("lg-video-playing")})};e.prototype.loadVideo=function(o,h,n,l,k){var p="";var i=1;var g="";var m=this.core.isVideo(o,l)||{};if(n){if(this.videoLoaded){i=0}else{i=1}}if(m.youtube){g="?wmode=opaque&autoplay="+i+"&enablejsapi=1";if(this.core.s.youtubePlayerParams){g=g+"&"+a.param(this.core.s.youtubePlayerParams)}p='<iframe class="lg-video-object lg-youtube '+h+'" width="560" height="315" src="//www.youtube.com/embed/'+m.youtube[1]+g+'" frameborder="0" allowfullscreen></iframe>'}else{if(m.vimeo){g="?autoplay="+i+"&api=1";if(this.core.s.vimeoPlayerParams){g=g+"&"+a.param(this.core.s.vimeoPlayerParams)}p='<iframe class="lg-video-object lg-vimeo '+h+'" width="560" height="315"  src="//player.vimeo.com/video/'+m.vimeo[1]+g+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'}else{if(m.dailymotion){g="?wmode=opaque&autoplay="+i+"&api=postMessage";if(this.core.s.dailymotionPlayerParams){g=g+"&"+a.param(this.core.s.dailymotionPlayerParams)}p='<iframe class="lg-video-object lg-dailymotion '+h+'" width="560" height="315" src="//www.dailymotion.com/embed/video/'+m.dailymotion[1]+g+'" frameborder="0" allowfullscreen></iframe>'}else{if(m.html5){var j=k.substring(0,1);if(j==="."||j==="#"){k=a(k).html()}p=k}else{if(m.vk){g="&autoplay="+i;if(this.core.s.vkPlayerParams){g=g+"&"+a.param(this.core.s.vkPlayerParams)}p='<iframe class="lg-video-object lg-vk '+h+'" width="560" height="315" src="http://vk.com/video_ext.php?'+m.vk[1]+g+'" frameborder="0" allowfullscreen></iframe>'}}}}}return p};e.prototype.destroy=function(){this.videoLoaded=false};a.fn.lightGallery.modules.video=e})(jQuery,window,document);(function(a,e,c,d){var b={scale:1,zoom:true,actualSize:true,enableZoomAfter:300};var f=function(g){this.core=a(g).data("lightGallery");this.core.s=a.extend({},b,this.core.s);if(this.core.s.zoom&&this.core.doCss()){this.init();this.zoomabletimeout=false;this.pageX=a(e).width()/2;this.pageY=(a(e).height()/2)+a(e).scrollTop()}return this};f.prototype.init=function(){var g=this;var m='<span id="lg-zoom-in" class="lg-icon"></span><span id="lg-zoom-out" class="lg-icon"></span>';if(g.core.s.actualSize){m+='<span id="lg-actual-size" class="lg-icon"></span>'}this.core.$outer.find(".lg-toolbar").append(m);g.core.$el.on("onSlideItemLoad.lg.tm.zoom",function(p,q,o){var n=g.core.s.enableZoomAfter+o;if(a("body").hasClass("lg-from-hash")&&o){n=0}else{a("body").removeClass("lg-from-hash")}g.zoomabletimeout=setTimeout(function(){g.core.$slide.eq(q).addClass("lg-zoomable")},n+30)});var j=1;var l=function(s){var n=g.core.$outer.find(".lg-current .lg-image");var o;var p;var q=(a(e).width()-n.width())/2;var r=((a(e).height()-n.height())/2)+a(e).scrollTop();o=g.pageX-q;p=g.pageY-r;var t=(s-1)*(o);var u=(s-1)*(p);n.css("transform","scale3d("+s+", "+s+", 1)").attr("data-scale",s);n.parent().css({left:-t+"px",top:-u+"px"}).attr("data-x",t).attr("data-y",u)};var i=function(){if(j>1){g.core.$outer.addClass("lg-zoomed")}else{g.resetZoom()}if(j<1){j=1}l(j)};var h=function(p,n,r,q){var t=n.width();var s;if(g.core.s.dynamic){s=g.core.s.dynamicEl[r].width||n[0].naturalWidth||t}else{s=g.core.$items.eq(r).attr("data-width")||n[0].naturalWidth||t}var o;if(g.core.$outer.hasClass("lg-zoomed")){j=1}else{if(s>t){o=s/t;j=o||2}}if(q){g.pageX=a(e).width()/2;g.pageY=(a(e).height()/2)+a(e).scrollTop()}else{g.pageX=p.pageX||p.originalEvent.targetTouches[0].pageX;g.pageY=p.pageY||p.originalEvent.targetTouches[0].pageY}i();setTimeout(function(){g.core.$outer.removeClass("lg-grabbing").addClass("lg-grab")},10)};var k=false;g.core.$el.on("onAferAppendSlide.lg.tm.zoom",function(o,p){var n=g.core.$slide.eq(p).find(".lg-image");n.on("dblclick",function(q){h(q,n,p)});n.on("touchstart",function(q){if(!k){k=setTimeout(function(){k=null},300)}else{clearTimeout(k);k=null;h(q,n,p)}q.preventDefault()})});a(e).on("resize.lg.zoom scroll.lg.zoom orientationchange.lg.zoom",function(){g.pageX=a(e).width()/2;g.pageY=(a(e).height()/2)+a(e).scrollTop();l(j)});a("#lg-zoom-out").on("click.lg",function(){if(g.core.$outer.find(".lg-current .lg-image").length){j-=g.core.s.scale;i()}});a("#lg-zoom-in").on("click.lg",function(){if(g.core.$outer.find(".lg-current .lg-image").length){j+=g.core.s.scale;i()}});a("#lg-actual-size").on("click.lg",function(n){h(n,g.core.$slide.eq(g.core.index).find(".lg-image"),g.core.index,true)});g.core.$el.on("onBeforeSlide.lg.tm",function(){j=1;g.resetZoom()});if(!g.core.isTouch){g.zoomDrag()}if(g.core.isTouch){g.zoomSwipe()}};f.prototype.resetZoom=function(){this.core.$outer.removeClass("lg-zoomed");this.core.$slide.find(".lg-img-wrap").removeAttr("style data-x data-y");this.core.$slide.find(".lg-image").removeAttr("style data-scale");this.pageX=a(e).width()/2;this.pageY=(a(e).height()/2)+a(e).scrollTop()};f.prototype.zoomSwipe=function(){var g=this;var l={};var j={};var k=false;var h=false;var i=false;g.core.$slide.on("touchstart.lg",function(n){if(g.core.$outer.hasClass("lg-zoomed")){var m=g.core.$slide.eq(g.core.index).find(".lg-object");i=m.outerHeight()*m.attr("data-scale")>g.core.$outer.find(".lg").height();h=m.outerWidth()*m.attr("data-scale")>g.core.$outer.find(".lg").width();if((h||i)){n.preventDefault();l={x:n.originalEvent.targetTouches[0].pageX,y:n.originalEvent.targetTouches[0].pageY}}}});g.core.$slide.on("touchmove.lg",function(p){if(g.core.$outer.hasClass("lg-zoomed")){var m=g.core.$slide.eq(g.core.index).find(".lg-img-wrap");var n;var o;p.preventDefault();k=true;j={x:p.originalEvent.targetTouches[0].pageX,y:p.originalEvent.targetTouches[0].pageY};g.core.$outer.addClass("lg-zoom-dragging");if(i){o=(-Math.abs(m.attr("data-y")))+(j.y-l.y)}else{o=-Math.abs(m.attr("data-y"))}if(h){n=(-Math.abs(m.attr("data-x")))+(j.x-l.x)}else{n=-Math.abs(m.attr("data-x"))}if((Math.abs(j.x-l.x)>15)||(Math.abs(j.y-l.y)>15)){m.css({left:n+"px",top:o+"px"})}}});g.core.$slide.on("touchend.lg",function(){if(g.core.$outer.hasClass("lg-zoomed")){if(k){k=false;g.core.$outer.removeClass("lg-zoom-dragging");g.touchendZoom(l,j,h,i)}}})};f.prototype.zoomDrag=function(){var g=this;var m={};var j={};var k=false;var l=false;var h=false;var i=false;g.core.$slide.on("mousedown.lg.zoom",function(o){var n=g.core.$slide.eq(g.core.index).find(".lg-object");i=n.outerHeight()*n.attr("data-scale")>g.core.$outer.find(".lg").height();h=n.outerWidth()*n.attr("data-scale")>g.core.$outer.find(".lg").width();if(g.core.$outer.hasClass("lg-zoomed")){if(a(o.target).hasClass("lg-object")&&(h||i)){o.preventDefault();m={x:o.pageX,y:o.pageY};k=true;g.core.$outer.scrollLeft+=1;g.core.$outer.scrollLeft-=1;g.core.$outer.removeClass("lg-grab").addClass("lg-grabbing")}}});a(e).on("mousemove.lg.zoom",function(q){if(k){var n=g.core.$slide.eq(g.core.index).find(".lg-img-wrap");var o;var p;l=true;j={x:q.pageX,y:q.pageY};g.core.$outer.addClass("lg-zoom-dragging");if(i){p=(-Math.abs(n.attr("data-y")))+(j.y-m.y)}else{p=-Math.abs(n.attr("data-y"))}if(h){o=(-Math.abs(n.attr("data-x")))+(j.x-m.x)}else{o=-Math.abs(n.attr("data-x"))}n.css({left:o+"px",top:p+"px"})}});a(e).on("mouseup.lg.zoom",function(n){if(k){k=false;g.core.$outer.removeClass("lg-zoom-dragging");if(l&&((m.x!==j.x)||(m.y!==j.y))){j={x:n.pageX,y:n.pageY};g.touchendZoom(m,j,h,i)}l=false}g.core.$outer.removeClass("lg-grabbing").addClass("lg-grab")})};f.prototype.touchendZoom=function(s,n,j,k){var i=this;var h=i.core.$slide.eq(i.core.index).find(".lg-img-wrap");var g=i.core.$slide.eq(i.core.index).find(".lg-object");var l=(-Math.abs(h.attr("data-x")))+(n.x-s.x);var m=(-Math.abs(h.attr("data-y")))+(n.y-s.y);var r=(i.core.$outer.find(".lg").height()-g.outerHeight())/2;var p=Math.abs((g.outerHeight()*Math.abs(g.attr("data-scale")))-i.core.$outer.find(".lg").height()+r);var q=(i.core.$outer.find(".lg").width()-g.outerWidth())/2;var o=Math.abs((g.outerWidth()*Math.abs(g.attr("data-scale")))-i.core.$outer.find(".lg").width()+q);if((Math.abs(n.x-s.x)>15)||(Math.abs(n.y-s.y)>15)){if(k){if(m<=-p){m=-p}else{if(m>=-r){m=-r}}}if(j){if(l<=-o){l=-o}else{if(l>=-q){l=-q}}}if(k){h.attr("data-y",Math.abs(m))}else{m=-Math.abs(h.attr("data-y"))}if(j){h.attr("data-x",Math.abs(l))}else{l=-Math.abs(h.attr("data-x"))}h.css({left:l+"px",top:m+"px"})}};f.prototype.destroy=function(){var g=this;g.core.$el.off(".lg.zoom");a(e).off(".lg.zoom");g.core.$slide.off(".lg.zoom");g.core.$el.off(".lg.tm.zoom");g.resetZoom();clearTimeout(g.zoomabletimeout);g.zoomabletimeout=false};a.fn.lightGallery.modules.zoom=f})(jQuery,window,document);(function(a,f,c,e){var b={hash:true};var d=function(g){this.core=a(g).data("lightGallery");this.core.s=a.extend({},b,this.core.s);if(this.core.s.hash){this.oldHash=f.location.hash;this.init()}return this};d.prototype.init=function(){var h=this;var g;h.core.$el.on("onAfterSlide.lg.tm",function(i,k,j){f.location.hash="lg="+h.core.s.galleryId+"&slide="+j});a(f).on("hashchange.lg.hash",function(){g=f.location.hash;var i=parseInt(g.split("&slide=")[1],10);if((g.indexOf("lg="+h.core.s.galleryId)>-1)){h.core.slide(i,false,false)}else{if(h.core.lGalleryOn){h.core.destroy()}}})};d.prototype.destroy=function(){if(!this.core.s.hash){return}if(this.oldHash&&this.oldHash.indexOf("lg="+this.core.s.galleryId)<0){f.location.hash=this.oldHash}else{if(history.pushState){history.pushState("",c.title,f.location.pathname+f.location.search)}else{f.location.hash=""}}this.core.$el.off(".lg.hash")};a.fn.lightGallery.modules.hash=d})(jQuery,window,document);